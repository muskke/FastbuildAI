import{bS as C,f as B,bT as O,r as h,bt as x,N as k,bU as D,bk as P,bV as A,bW as L,b5 as R,bP as H,z as U}from"#entry";const Y=C(()=>{const e=h(new Map),t=h(),r=B(()=>{for(const c of e.value.values())if(c)return!0;return!1}),n=x({scrollBody:h(!0)});let i=null;const l=()=>{document.body.style.paddingRight="",document.body.style.marginRight="",document.body.style.pointerEvents="",document.documentElement.style.removeProperty("--scrollbar-width"),document.body.style.overflow=t.value??"",A&&i?.(),t.value=void 0};return k(r,(c,d)=>{if(!D)return;if(!c){d&&l();return}t.value===void 0&&(t.value=document.body.style.overflow);const s=window.innerWidth-document.documentElement.clientWidth,v={padding:s,margin:0},u=n.scrollBody?.value?typeof n.scrollBody.value=="object"?P({padding:n.scrollBody.value.padding===!0?s:n.scrollBody.value.padding,margin:n.scrollBody.value.margin===!0?s:n.scrollBody.value.margin},v):v:{padding:0,margin:0};s>0&&(document.body.style.paddingRight=typeof u.padding=="number"?`${u.padding}px`:String(u.padding),document.body.style.marginRight=typeof u.margin=="number"?`${u.margin}px`:String(u.margin),document.documentElement.style.setProperty("--scrollbar-width",`${s}px`),document.body.style.overflow="hidden"),A&&(i=L(document,"touchmove",o=>$(o),{passive:!1})),R(()=>{document.body.style.pointerEvents="none",document.body.style.overflow="hidden"})},{immediate:!0,flush:"sync"}),e});function z(e){const t=Math.random().toString(36).substring(2,7),r=Y();r.value.set(t,e??!1);const n=B({get:()=>r.value.get(t)??!1,set:i=>r.value.set(t,i)});return O(()=>{r.value.delete(t)}),n}function E(e){const t=window.getComputedStyle(e);if(t.overflowX==="scroll"||t.overflowY==="scroll"||t.overflowX==="auto"&&e.clientWidth<e.scrollWidth||t.overflowY==="auto"&&e.clientHeight<e.scrollHeight)return!0;{const r=e.parentNode;return!(r instanceof Element)||r.tagName==="BODY"?!1:E(r)}}function $(e){const t=e||window.event,r=t.target;return r instanceof Element&&E(r)?!1:t.touches.length>1?!0:(t.preventDefault&&t.cancelable&&t.preventDefault(),!1)}var j=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},f=new WeakMap,y=new WeakMap,m={},g=0,W=function(e){return e&&(e.host||W(e.parentNode))},N=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=W(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},T=function(e,t,r,n){var i=N(t,Array.isArray(e)?e:[e]);m[r]||(m[r]=new WeakMap);var l=m[r],c=[],d=new Set,s=new Set(i),v=function(o){!o||d.has(o)||(d.add(o),v(o.parentNode))};i.forEach(v);var u=function(o){!o||s.has(o)||Array.prototype.forEach.call(o.children,function(a){if(d.has(a))u(a);else try{var p=a.getAttribute(n),b=p!==null&&p!=="false",w=(f.get(a)||0)+1,S=(l.get(a)||0)+1;f.set(a,w),l.set(a,S),c.push(a),w===1&&b&&y.set(a,!0),S===1&&a.setAttribute(r,"true"),b||a.setAttribute(n,"true")}catch(M){console.error("aria-hidden: cannot operate on ",a,M)}})};return u(t),d.clear(),g++,function(){c.forEach(function(o){var a=f.get(o)-1,p=l.get(o)-1;f.set(o,a),l.set(o,p),a||(y.has(o)||o.removeAttribute(n),y.delete(o)),p||o.removeAttribute(r)}),g--,g||(f=new WeakMap,f=new WeakMap,y=new WeakMap,m={})}},X=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),i=j(e);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live], script"))),T(n,i,r,"aria-hidden")):function(){return null}};function I(e){let t;k(()=>H(e),r=>{r?t=X(r):t&&t()}),U(()=>{t&&t()})}export{z as a,I as u};
