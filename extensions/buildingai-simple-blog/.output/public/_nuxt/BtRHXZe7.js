const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./B1i11ZVM.js","./BjyhBLpb.js","./BLfogNU0.js","./C_wlX4O4.js","./YGBcfQFB.js","./DLXS5diL.js","./Cp_ETqS-.js","./y35Lf0Nz.js","./B1ApLtFP.js","./CYFAgYf2.js","./DF1erN4M.js","./CVJlEypN.js","./jOvN_MzA.js","./Djs9Agcq.js","./s2lweFA8.js","./2-Qad1x6.js","./Vq6WnXMj.js","./CGkG6ujT.js","./CgaM_lbl.js","./SJzFeSlT.js","./D1UmiBra.js","./CNxEN1aC.js","./DH8bSgSH.js","./BU9vo0DW.js","./B2YVs6m2.js","./BQeIQ-Lx.js","./DQ3OFFxE.js","./DTsPWcUW.js","./DlAUqK2U.js"])))=>i.map(i=>d[i]);
import{q as B,d as f,o as d,M as g,B as u,bS as Y,a7 as Z,al as J,a8 as X,f as $,ab as V,s as I,y as k,Q as c,aw as N,x as ee,ac as _,bn as te,C as z,J as e,bo as se,bp as oe,i as S,_ as E,ad as D,at as R,S as ae,R as h,P as ne,c4 as q,bO as ie,bP as le,aP as re,r as j,bw as T,a3 as ce,aZ as G,c5 as ue,V as de,Y as M,Z as A,aH as me,aI as P,l as pe,W as fe,aU as F,c6 as _e,bU as ge,c7 as ve}from"#entry";import{_ as be}from"./B3a7q0NG.js";import{c as he,a as xe}from"./CgaM_lbl.js";import{u as ye}from"./D1hA3BKJ.js";import{_ as ke}from"./SJzFeSlT.js";import{_ as $e}from"./BoU_6mUL.js";import{_ as we}from"./CF63pdna.js";import{d as Ie}from"./B2YVs6m2.js";import{_ as Le}from"./DlAUqK2U.js";/* empty css        */import"./D1UmiBra.js";import"./DLXS5diL.js";import"./s2lweFA8.js";import"./CNxEN1aC.js";import"./DH8bSgSH.js";import"./BU9vo0DW.js";import"./jOvN_MzA.js";import"./C_wlX4O4.js";import"./Djs9Agcq.js";import"./2-Qad1x6.js";import"./Vq6WnXMj.js";import"./CGkG6ujT.js";import"./YGBcfQFB.js";import"./BLfogNU0.js";import"./Cp_ETqS-.js";import"./y35Lf0Nz.js";import"./BciU42NY.js";const Se=B({__name:"main-page",props:{layout:{}},setup(o){return(s,l)=>{const r=Y;return d(),f("main",{class:g(["w-full flex-1 overflow-auto px-4 lg:px-6",o.layout==="sidebar"?"pt-0":"my-4 lg:my-6"])},[u(r)],2)}}}),Me={slots:{root:"relative min-w-0",list:"flex items-center gap-1.5",item:"flex min-w-0",link:"group relative flex items-center gap-1.5 text-sm min-w-0 focus-visible:outline-primary",linkLeadingIcon:"shrink-0 size-5",linkLeadingAvatar:"shrink-0",linkLeadingAvatarSize:"2xs",linkLabel:"truncate",separator:"flex",separatorIcon:"shrink-0 size-5 text-muted"},variants:{active:{true:{link:"text-primary font-semibold"},false:{link:"text-muted font-medium"}},disabled:{true:{link:"cursor-not-allowed opacity-75"}},to:{true:""}},compoundVariants:[{disabled:!1,active:!1,to:!0,class:{link:["hover:text-default","transition-colors"]}}]},Ae={__name:"Breadcrumb",props:{as:{type:null,required:!1,default:"nav"},items:{type:Array,required:!1},separatorIcon:{type:String,required:!1},labelKey:{type:String,required:!1,default:"label"},class:{type:null,required:!1},ui:{type:null,required:!1}},setup(o){const s=o,l=Z(),{dir:r}=J(),m=X(),p=$(()=>s.separatorIcon||(r.value==="rtl"?m.ui.icons.chevronLeft:m.ui.icons.chevronRight)),n=$(()=>V({extend:V(Me),...m.ui?.breadcrumb||{}})());return(i,v)=>(d(),I(e(ne),{as:o.as,"aria-label":"breadcrumb",class:g(n.value.root({class:[s.ui?.root,s.class]}))},{default:k(()=>[c("ol",{class:g(n.value.list({class:s.ui?.list}))},[(d(!0),f(N,null,ee(o.items,(a,t)=>(d(),f(N,{key:t},[c("li",{class:g(n.value.item({class:[s.ui?.item,a.ui?.item]}))},[u(te,z({ref_for:!0},e(se)(a),{custom:""}),{default:k(({active:L,...w})=>[u(oe,z({ref_for:!0},w,{as:"span","aria-current":L&&t===o.items.length-1?"page":void 0,class:n.value.link({class:[s.ui?.link,a.ui?.link,a.class],active:t===o.items.length-1,disabled:!!a.disabled,to:!!a.to})}),{default:k(()=>[S(i.$slots,a.slot||"item",{item:a,index:t},()=>[S(i.$slots,a.slot?`${a.slot}-leading`:"item-leading",{item:a,active:t===o.items.length-1,index:t},()=>[a.icon?(d(),I(E,{key:0,name:a.icon,class:g(n.value.linkLeadingIcon({class:[s.ui?.linkLeadingIcon,a.ui?.linkLeadingIcon],active:t===o.items.length-1}))},null,8,["name","class"])):a.avatar?(d(),I(D,z({key:1,size:s.ui?.linkLeadingAvatarSize||n.value.linkLeadingAvatarSize()},{ref_for:!0},a.avatar,{class:n.value.linkLeadingAvatar({class:[s.ui?.linkLeadingAvatar,a.ui?.linkLeadingAvatar],active:t===o.items.length-1})}),null,16,["size","class"])):_("",!0)]),e(R)(a,s.labelKey)||l[a.slot?`${a.slot}-label`:"item-label"]?(d(),f("span",{key:0,class:g(n.value.linkLabel({class:[s.ui?.linkLabel,a.ui?.linkLabel]}))},[S(i.$slots,a.slot?`${a.slot}-label`:"item-label",{item:a,active:t===o.items.length-1,index:t},()=>[ae(h(e(R)(a,s.labelKey)),1)])],2)):_("",!0),S(i.$slots,a.slot?`${a.slot}-trailing`:"item-trailing",{item:a,active:t===o.items.length-1,index:t})])]),_:2},1040,["aria-current","class"])]),_:2},1040)],2),t<o.items.length-1?(d(),f("li",{key:0,role:"presentation","aria-hidden":"true",class:g(n.value.separator({class:[s.ui?.separator,a.ui?.separator]}))},[S(i.$slots,"separator",{},()=>[u(E,{name:p.value,class:g(n.value.separatorIcon({class:[s.ui?.separatorIcon,a.ui?.separatorIcon]}))},null,8,["name","class"])])],2)):_("",!0)],64))),128))],2)]),_:3},8,["as","class"]))}};function Be(){return q("/users/info")}const Ue=ie("permission",()=>{const o=re(),s=j([]),l=j([]),r=p=>l.value.includes(p),{lockFn:m}=ye(async()=>{const p=await Be();s.value=p.menus||[],l.value=p.permissions||[],o.userInfo=p.user?p.user:null});return{menus:s,permissions:l,hasPermission:r,loadPermissions:m}}),ze=le(),Ee=()=>Ue(ze);function Pe(o,s){return o+(s?.startsWith("/")?s:`/${s||""}`)}function Te(o,s){return o.filter(l=>l.type!==ue.BUTTON&&s).sort((l,r)=>(l.sort||0)-(r.sort||0))}function Ce(o=T().path,s="/",l="后台管理"){if(!o||o===s)return[{label:l,to:s,active:!0}];const{$i18n:r}=ce(),{t:m}=r,p=[];return K(Ee().menus,(n,i)=>{if(o===i||o.startsWith(i+"/")){if(n.type===1){p.push({name:n.name,path:""});return}p.push({name:n.name,path:i})}return[]}),p.sort((n,i)=>n.path.length-i.path.length),[{label:l,to:s},...p.map((n,i,v)=>({label:m(n.name),to:n.path,active:i===v.length-1}))]}function K(o,s,l=G.CONSOLE){return Te(o,!0).flatMap(r=>{let m=Pe(l,r.path);m=m.replace(/\/+/g,"/");const p=s(r,m,l),n=r.children?.length?K(r.children,s,m):[];return[].concat(p,n)})}const Oe={class:"flex items-center gap-2"},Ve={class:"flex items-center gap-2"},Ne=B({__name:"sidebar-navbar",props:{collapsed:{type:Boolean}},emits:["toggle","open-mobile-menu"],setup(o,{emit:s}){const l=M(()=>A(()=>import("./B1i11ZVM.js"),__vite__mapDeps([0,1,2,3,4,5,6,7]),import.meta.url)),r=M(()=>A(()=>import("./B1ApLtFP.js"),__vite__mapDeps([8,1,2,3,4,5,6,7]),import.meta.url)),m=M(()=>A(()=>import("./CYFAgYf2.js"),__vite__mapDeps([9,1,2,3,4,5,6,7]),import.meta.url)),p=o,n=s,{t:i}=de(),v=he("(max-width: 768px)");function a(){v.value?n("open-mobile-menu"):n("toggle",!p.collapsed)}const t=$(()=>Ce(T().path,G.CONSOLE,i("layouts.admin")));return(L,w)=>{const x=be,y=Ae;return d(),f("header",{class:g(["flex h-16 w-full shrink-0 items-center justify-between gap-4 px-4 transition-all ease-linear",{"h-12":o.collapsed}])},[c("div",Oe,[u(e(l),{collapsed:o.collapsed,onToggle:a},null,8,["collapsed"]),u(e(r)),u(x,{orientation:"vertical",class:"h-4"}),u(y,{items:e(t),ui:{root:"ml-2"}},{separator:k(()=>[...w[0]||(w[0]=[c("span",{class:"bg-muted-foreground mx-2 rounded-full p-0.5"},null,-1)])]),_:1},8,["items"])]),c("div",Ve,[u(e(m))])],2)}}});function Re(o){return q(`/extensions/detail/${o}`)}const je={key:0,class:"p-1"},De={key:0,class:"flex items-center justify-center"},qe={key:1,class:"space-y-2"},Ge={class:"flex items-center justify-between"},Fe=["title"],Ke=["title"],We=["title"],He=["title"],Qe={class:"flex flex-grow flex-col overflow-hidden px-1 py-4"},Ye={style:{"--text-color-muted":"var(--color-accent-foreground)","--text-color-dimmed":"var(--color-accent-foreground)"}},Ze={class:"bg-sidebar flex h-screen w-64 flex-col p-2 transition-all duration-300"},Je={key:0,class:"mt-2 mb-2"},Xe={class:"bg-secondary rounded-lg p-2"},et={class:"space-y-1"},tt={class:"flex items-center gap-2"},st=["title"],ot={class:"flex items-center gap-1.5"},at=["title"],nt=["title"],it=["title"],lt={class:"flex flex-grow flex-col overflow-y-auto py-4"},rt={style:{"--text-color-muted":"var(--color-accent-foreground)","--text-color-dimmed":"var(--color-accent-foreground)"}},ct=B({__name:"sidebar",props:{collapsed:{type:Boolean},mobileMenu:{type:Boolean},manifest:{}},emits:["update:mobileMenu"],setup(o,{emit:s}){const l=M(()=>A(()=>import("./DF1erN4M.js"),__vite__mapDeps([10,1,11,12,3,13,14,15,16,17,5,4,6,7,18,19,20,21,22,23,2,24]),import.meta.url)),r=M(()=>A(()=>import("./BQeIQ-Lx.js"),__vite__mapDeps([25,1,26,27,28]),import.meta.url)),m=o,n=xe(m,"mobileMenu",s),i=$(()=>m.collapsed),v=me("pluginConsoleMenu",$(()=>[])),a=$(()=>{const x=e(v);return x?.length?[x]:[]}),t=P(null),L=()=>{window.history.back()},w=async()=>{console.log("props.manifest",m.manifest);const x=await Re(m.manifest?.identifier);t.value=x,console.log("pluginInfo",t.value)};return Ie({o:()=>n.value=!n.value}),pe(()=>w()),(x,y)=>{const C=fe,W=D,U=E,O=ke,H=$e,Q=we;return d(),f("div",null,[c("aside",{class:g(["bg-sidebar hidden h-screen flex-col p-2 transition-all duration-300 md:flex",{"w-16":e(i),"w-64":!e(i)}])},[e(t)?(d(),f("div",je,[c("div",{class:g(["bg-secondary rounded-lg p-3 transition-all",e(i)?"flex items-center justify-center":""])},[e(i)?(d(),f("div",De,[u(C,{color:"primary",icon:"i-lucide-arrow-left",variant:"soft",label:e(i)?"":x.$t("layouts.pluginSidebar"),onClick:L},null,8,["label"])])):(d(),f("div",qe,[c("div",Ge,[u(C,{color:"primary",icon:"i-lucide-arrow-left",variant:"soft",class:"rounded-full",onClick:L}),u(W,{src:e(t).icon,text:e(t).author?.name,size:"md"},null,8,["src","text"])]),c("h3",{class:"text-foreground truncate text-sm font-semibold",title:e(t).name}," Title:"+h(e(t).name),9,Fe),c("div",{class:"text-muted-foreground text-xs",title:`版本: ${e(t).version}`}," Version: v"+h(e(t).version),9,Ke),e(t).author?.name?(d(),f("div",{key:0,class:"text-muted-foreground text-xs",title:`作者: ${e(t).author.name}`}," Author: "+h(e(t).author.name),9,We)):_("",!0),e(t).description?(d(),f("div",{key:1,class:"text-muted-foreground line-clamp-2 text-xs",title:e(t).description}," Description: "+h(e(t).description),9,He)):_("",!0)]))],2)])):_("",!0),u(H,{class:"flex-1"},{default:k(()=>[c("div",Qe,[c("div",Ye,[u(O,{collapsed:e(i),orientation:"vertical",items:e(a),ui:{label:"text-muted-foreground",list:"navbar-menu",link:e(i)?"justify-center size-10 hover:bg-secondary dark:hover:bg-surface-800 rounded-lg":"justify-start hover:bg-secondary dark:hover:bg-surface-800 p-2 px-3 leading-6 rounded-lg",linkLeadingIcon:e(i)?"size-4.5":"size-4"}},{"item-trailing":k(({item:b})=>[b.children?.length?(d(),I(U,{key:0,name:"i-lucide-chevron-right",class:"iconify iconify--lucide size-4 shrink-0 transform transition-transform duration-200 group-data-[state=open]:rotate-90"})):_("",!0)]),_:1},8,["collapsed","items","ui"])])])]),_:1}),u(e(l),{"hidden-layout":!0,mode:"sidebar",collapsed:e(i),"mobile-menu":!1,"onUpdate:collapsed":y[0]||(y[0]=b=>i.value=b)},null,8,["collapsed"])],2),u(Q,{open:e(n),"onUpdate:open":y[2]||(y[2]=b=>F(n)?n.value=b:null),side:"left",ui:{content:"!w-fit flex-0 max-w-fit"}},{content:k(()=>[c("aside",Ze,[u(e(r),{layout:"side",collapsed:!1}),e(t)?(d(),f("div",Je,[c("div",Xe,[c("div",et,[c("div",tt,[u(U,{name:"i-lucide-package",class:"text-accent-foreground size-4"}),c("h3",{class:"text-foreground truncate text-sm font-semibold",title:e(t).name},h(e(t).name),9,st)]),c("div",ot,[c("span",{class:"text-muted-foreground text-xs",title:`版本: ${e(t).version}`}," v"+h(e(t).version),9,at),e(t).author?.name?(d(),f("span",{key:0,class:"text-muted-foreground text-xs",title:`作者: ${e(t).author.name}`}," · "+h(e(t).author.name),9,nt)):_("",!0)]),e(t).description?(d(),f("p",{key:0,class:"text-muted-foreground line-clamp-2 text-xs",title:e(t).description},h(e(t).description),9,it)):_("",!0)])])])):_("",!0),c("div",lt,[c("div",rt,[u(O,{collapsed:!1,orientation:"vertical",items:e(a),ui:{list:"navbar-menu",link:"justify-start hover:bg-secondary dark:hover:bg-surface-800 p-2 px-3 leading-6 rounded-lg",linkLeadingIcon:"size-4"}},{"item-trailing":k(({item:b})=>[b.children?.length?(d(),I(U,{key:0,name:"i-lucide-chevron-right",class:"iconify iconify--lucide size-4 shrink-0 transform transition-transform duration-200 group-data-[state=open]:rotate-90"})):_("",!0)]),_:1},8,["items"])])]),u(e(l),{mode:"sidebar",collapsed:e(i),"mobile-menu":!0,"onUpdate:collapsed":y[1]||(y[1]=b=>i.value=b)},null,8,["collapsed"])])]),_:1},8,["open"])])}}}),ut=Le(ct,[["__scopeId","data-v-ea70eb96"]]),dt={class:"bg-sidebar flex h-screen w-full overflow-hidden"},mt={class:"app-sidebar"},pt={class:"bg-background m-0 flex min-w-0 flex-1 flex-col items-center shadow-lg md:m-2 md:ml-0 md:rounded-xl"},ft=B({__name:"index",props:{menu:{},manifest:{}},setup(o){const s=o,l=P(!1),r=P(!1),m=()=>{l.value=!l.value},p=()=>{r.value=!0},n=$(()=>{if(!s.menu?.length)return[];const i=T().path;return _e(s.menu,i)});return ge("pluginConsoleMenu",n),(i,v)=>(d(),f("div",dt,[c("div",mt,[u(ut,{collapsed:e(l),manifest:s.manifest,"mobile-menu":e(r),"onUpdate:mobileMenu":v[0]||(v[0]=a=>F(r)?r.value=a:null)},null,8,["collapsed","manifest","mobile-menu"])]),c("div",pt,[u(Ne,{collapsed:e(l),"mobile-menu":e(r),onToggle:m,onOpenMobileMenu:p},null,8,["collapsed","mobile-menu"]),u(Se,{layout:"sidebar"})])]))}}),_t="buildingai-simple-blog",gt="Simple Blog",vt="application",bt="0.0.1",ht="A simple blog application",xt="",yt={name:"BuildingAI Teams",homepage:""},kt=[],$t={identifier:_t,name:gt,type:vt,version:bt,description:ht,homepage:xt,author:yt,changelog:kt},Zt=B({__name:"console",setup(o){return(s,l)=>(d(),I(e(ft),{menu:e(ve),manifest:e($t)},null,8,["menu","manifest"]))}});export{Zt as default};
