import{bt as m,r as p,f as N}from"#entry";const D=["INPUT","TEXTAREA"];function C(t,r,n,o={}){if(!r||o.enableIgnoredElement&&D.includes(r.nodeName))return null;const{arrowKeyOptions:l="both",attributeName:i="[data-reka-collection-item]",itemsArray:c=[],loop:e=!0,dir:s="ltr",preventScroll:x=!0,focus:k=!1}=o,[g,w,v,A,b,h]=[t.key==="ArrowRight",t.key==="ArrowLeft",t.key==="ArrowUp",t.key==="ArrowDown",t.key==="Home",t.key==="End"],u=v||A,f=g||w;if(!b&&!h&&(!u&&!f||l==="vertical"&&f||l==="horizontal"&&u))return null;const d=n?Array.from(n.querySelectorAll(i)):c;if(!d.length)return null;x&&t.preventDefault();let a=null;return f||u?a=y(d,r,{goForward:u?A:s==="ltr"?g:w,loop:e}):b?a=d.at(0)||null:h&&(a=d.at(-1)||null),k&&a?.focus(),a}function y(t,r,n,o=t.length){if(--o===0)return null;const l=t.indexOf(r),i=n.goForward?l+1:l-1;if(!n.loop&&(i<0||i>=t.length))return null;const c=(i+t.length)%t.length,e=t[c];return e?e.hasAttribute("disabled")&&e.getAttribute("disabled")!=="false"?y(t,e,n,o):e:null}function E(t){const r=m({dir:p("ltr")});return N(()=>t?.value||r.dir?.value||"ltr")}export{C as a,E as u};
