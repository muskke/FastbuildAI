const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./DZkTU6rC.js","./CpSwsCUE.js","./B-uR72MA.js","./BEYdQPJu.js","./C2wkO8_v.js","./76gj8Op9.js","./DdhQ6uYb.js","./DCg0SI8n.js","./DY0rnySQ.js","./CCxfJ1d6.js","./D_y0XI8v.js","./Bz7Re0hC.js","./DStvts-W.js","./Bc7nvvil.js","./DMnTxglc.js","./B5IAfFKH.js","./Ch_HQEI2.js","./C6LGytJn.js","./B7hG_AB4.js","./DUNQkRoJ.js","./D9bVBFic.js","./2wZIfpcm.js","./CH2qdV1c.js","./Ct7CKJF9.js","./BoxSbMi3.js","./DA9fpWkJ.js","./D6rTcenj.js","./ClwiPcVO.js","./BIvH0B8u.js","./DlAUqK2U.js"])))=>i.map(i=>d[i]);
import{j as B,d as f,o as d,aD as g,ad as u,cA as Y,aX as X,bg as J,aY as Z,f as $,a$ as N,am as I,ap as k,aG as c,F as V,ao as ee,b0 as _,c5 as te,at as E,aA as e,c6 as se,c7 as oe,af as S,as as U,b1 as D,bn as R,aI as ae,aH as b,aB as ne,cO as G,cw as ie,cx as le,bz as re,r as j,ce as C,aS as ce,bI as q,cP as ue,aN as A,aO as M,v as de,G as T,y as me,aL as pe,a2 as F,cQ as fe,cC as _e,cR as ge}from"#entry";import{_ as ve}from"./D-CCt72L.js";import{c as he,a as be}from"./B7hG_AB4.js";import{u as xe}from"./D1hA3BKJ.js";import{u as ye}from"./BoxSbMi3.js";import{_ as ke}from"./DUNQkRoJ.js";import{_ as $e}from"./e6Q8j8rU.js";import{_ as we}from"./ws1KNPB9.js";import{d as Ie}from"./DA9fpWkJ.js";import{_ as Le}from"./DlAUqK2U.js";/* empty css        */import"./D9bVBFic.js";import"./76gj8Op9.js";import"./DMnTxglc.js";import"./2wZIfpcm.js";import"./CH2qdV1c.js";import"./Ct7CKJF9.js";import"./DStvts-W.js";import"./BEYdQPJu.js";import"./Bc7nvvil.js";import"./B5IAfFKH.js";import"./Ch_HQEI2.js";import"./C6LGytJn.js";import"./C2wkO8_v.js";import"./B-uR72MA.js";import"./DdhQ6uYb.js";import"./DCg0SI8n.js";import"./okr9Ajys.js";const Se=B({__name:"main-page",props:{layout:{}},setup(o){return(s,l)=>{const r=Y;return d(),f("main",{class:g(["w-full flex-1 overflow-auto px-4 lg:px-6",o.layout==="sidebar"?"pt-0":"my-4 lg:my-6"])},[u(r)],2)}}}),Ae={slots:{root:"relative min-w-0",list:"flex items-center gap-1.5",item:"flex min-w-0",link:"group relative flex items-center gap-1.5 text-sm min-w-0 focus-visible:outline-primary",linkLeadingIcon:"shrink-0 size-5",linkLeadingAvatar:"shrink-0",linkLeadingAvatarSize:"2xs",linkLabel:"truncate",separator:"flex",separatorIcon:"shrink-0 size-5 text-muted"},variants:{active:{true:{link:"text-primary font-semibold"},false:{link:"text-muted font-medium"}},disabled:{true:{link:"cursor-not-allowed opacity-75"}},to:{true:""}},compoundVariants:[{disabled:!1,active:!1,to:!0,class:{link:["hover:text-default","transition-colors"]}}]},Me={__name:"Breadcrumb",props:{as:{type:null,required:!1,default:"nav"},items:{type:Array,required:!1},separatorIcon:{type:String,required:!1},labelKey:{type:String,required:!1,default:"label"},class:{type:null,required:!1},ui:{type:null,required:!1}},setup(o){const s=o,l=X(),{dir:r}=J(),m=Z(),p=$(()=>s.separatorIcon||(r.value==="rtl"?m.ui.icons.chevronLeft:m.ui.icons.chevronRight)),n=$(()=>N({extend:N(Ae),...m.ui?.breadcrumb||{}})());return(i,v)=>(d(),I(e(ne),{as:o.as,"aria-label":"breadcrumb",class:g(n.value.root({class:[s.ui?.root,s.class]}))},{default:k(()=>[c("ol",{class:g(n.value.list({class:s.ui?.list}))},[(d(!0),f(V,null,ee(o.items,(a,t)=>(d(),f(V,{key:t},[c("li",{class:g(n.value.item({class:[s.ui?.item,a.ui?.item]}))},[u(te,E({ref_for:!0},e(se)(a),{custom:""}),{default:k(({active:L,...w})=>[u(oe,E({ref_for:!0},w,{as:"span","aria-current":L&&t===o.items.length-1?"page":void 0,class:n.value.link({class:[s.ui?.link,a.ui?.link,a.class],active:t===o.items.length-1,disabled:!!a.disabled,to:!!a.to})}),{default:k(()=>[S(i.$slots,a.slot||"item",{item:a,index:t},()=>[S(i.$slots,a.slot?`${a.slot}-leading`:"item-leading",{item:a,active:t===o.items.length-1,index:t},()=>[a.icon?(d(),I(U,{key:0,name:a.icon,class:g(n.value.linkLeadingIcon({class:[s.ui?.linkLeadingIcon,a.ui?.linkLeadingIcon],active:t===o.items.length-1}))},null,8,["name","class"])):a.avatar?(d(),I(D,E({key:1,size:s.ui?.linkLeadingAvatarSize||n.value.linkLeadingAvatarSize()},{ref_for:!0},a.avatar,{class:n.value.linkLeadingAvatar({class:[s.ui?.linkLeadingAvatar,a.ui?.linkLeadingAvatar],active:t===o.items.length-1})}),null,16,["size","class"])):_("",!0)]),e(R)(a,s.labelKey)||l[a.slot?`${a.slot}-label`:"item-label"]?(d(),f("span",{key:0,class:g(n.value.linkLabel({class:[s.ui?.linkLabel,a.ui?.linkLabel]}))},[S(i.$slots,a.slot?`${a.slot}-label`:"item-label",{item:a,active:t===o.items.length-1,index:t},()=>[ae(b(e(R)(a,s.labelKey)),1)])],2)):_("",!0),S(i.$slots,a.slot?`${a.slot}-trailing`:"item-trailing",{item:a,active:t===o.items.length-1,index:t})])]),_:2},1040,["aria-current","class"])]),_:2},1040)],2),t<o.items.length-1?(d(),f("li",{key:0,role:"presentation","aria-hidden":"true",class:g(n.value.separator({class:[s.ui?.separator,a.ui?.separator]}))},[S(i.$slots,"separator",{},()=>[u(U,{name:p.value,class:g(n.value.separatorIcon({class:[s.ui?.separatorIcon,a.ui?.separatorIcon]}))},null,8,["name","class"])])],2)):_("",!0)],64))),128))],2)]),_:3},8,["as","class"]))}};function Be(){return G("/users/info")}const ze=ie("permission",()=>{const o=re(),s=j([]),l=j([]),r=p=>l.value.includes(p),{lockFn:m}=xe(async()=>{const p=await Be();s.value=p.menus||[],l.value=p.permissions||[],o.userInfo=p.user?p.user:null});return{menus:s,permissions:l,hasPermission:r,loadPermissions:m}}),Ee=le(),Ue=()=>ze(Ee);function Te(o,s){return o+(s?.startsWith("/")?s:`/${s||""}`)}function Ce(o,s){return o.filter(l=>l.type!==ue.BUTTON&&s).sort((l,r)=>(l.sort||0)-(r.sort||0))}function Oe(o=C().path,s="/",l="后台管理"){if(!o||o===s)return[{label:l,to:s,active:!0}];const{$i18n:r}=ce(),{t:m}=r,p=[];return K(Ue().menus,(n,i)=>{if(o===i||o.startsWith(i+"/")){if(n.type===1){p.push({name:n.name,path:""});return}p.push({name:n.name,path:i})}return[]}),p.sort((n,i)=>n.path.length-i.path.length),[{label:l,to:s},...p.map((n,i,v)=>({label:m(n.name),to:n.path,active:i===v.length-1}))]}function K(o,s,l=q.CONSOLE){return Ce(o,!0).flatMap(r=>{let m=Te(l,r.path);m=m.replace(/\/+/g,"/");const p=s(r,m,l),n=r.children?.length?K(r.children,s,m):[];return[].concat(p,n)})}const Pe={class:"flex items-center gap-2"},Ne={class:"flex items-center gap-2"},Ve=B({__name:"sidebar-navbar",props:{collapsed:{type:Boolean}},emits:["toggle","open-mobile-menu"],setup(o,{emit:s}){const l=A(()=>M(()=>import("./DZkTU6rC.js"),__vite__mapDeps([0,1,2,3,4,5,6,7]),import.meta.url)),r=A(()=>M(()=>import("./DY0rnySQ.js"),__vite__mapDeps([8,1,2,3,4,5,6,7]),import.meta.url)),m=A(()=>M(()=>import("./CCxfJ1d6.js"),__vite__mapDeps([9,1,2,3,4,5,6,7]),import.meta.url)),p=o,n=s,{t:i}=ye(),v=he("(max-width: 768px)");function a(){v.value?n("open-mobile-menu"):n("toggle",!p.collapsed)}const t=$(()=>Oe(C().path,q.CONSOLE,i("layouts.admin")));return(L,w)=>{const x=ve,y=Me;return d(),f("header",{class:g(["flex h-16 w-full shrink-0 items-center justify-between gap-4 px-4 transition-all ease-linear",{"h-12":o.collapsed}])},[c("div",Pe,[u(e(l),{collapsed:o.collapsed,onToggle:a},null,8,["collapsed"]),u(e(r)),u(x,{orientation:"vertical",class:"h-4"}),u(y,{items:e(t),ui:{root:"ml-2"}},{separator:k(()=>[...w[0]||(w[0]=[c("span",{class:"bg-muted-foreground mx-2 rounded-full p-0.5"},null,-1)])]),_:1},8,["items"])]),c("div",Ne,[u(e(m))])],2)}}});function Re(o){return G(`/extensions/detail/${o}`)}const je={key:0,class:"p-1"},De={key:0,class:"flex items-center justify-center"},Ge={key:1,class:"space-y-2"},qe={class:"flex items-center justify-between"},Fe=["title"],Ke=["title"],He=["title"],Qe=["title"],We={class:"flex flex-grow flex-col overflow-hidden px-1 py-4"},Ye={style:{"--text-color-muted":"var(--color-accent-foreground)","--text-color-dimmed":"var(--color-accent-foreground)"}},Xe={class:"bg-sidebar flex h-screen w-64 flex-col p-2 transition-all duration-300"},Je={key:0,class:"mt-2 mb-2"},Ze={class:"bg-secondary rounded-lg p-2"},et={class:"space-y-1"},tt={class:"flex items-center gap-2"},st=["title"],ot={class:"flex items-center gap-1.5"},at=["title"],nt=["title"],it=["title"],lt={class:"flex flex-grow flex-col overflow-y-auto py-4"},rt={style:{"--text-color-muted":"var(--color-accent-foreground)","--text-color-dimmed":"var(--color-accent-foreground)"}},ct=B({__name:"sidebar",props:{collapsed:{type:Boolean},mobileMenu:{type:Boolean},manifest:{}},emits:["update:mobileMenu"],setup(o,{emit:s}){const l=A(()=>M(()=>import("./D_y0XI8v.js"),__vite__mapDeps([10,1,11,12,3,13,14,15,16,17,5,4,6,7,18,19,20,21,22,23,2,24,25]),import.meta.url)),r=A(()=>M(()=>import("./D6rTcenj.js"),__vite__mapDeps([26,1,27,28,29]),import.meta.url)),m=o,n=be(m,"mobileMenu",s),i=$(()=>m.collapsed),v=de("pluginConsoleMenu",$(()=>[])),a=$(()=>{const x=e(v);return x?.length?[x]:[]}),t=T(null),L=()=>{window.history.back()},w=async()=>{console.log("props.manifest",m.manifest);const x=await Re(m.manifest?.identifier);t.value=x,console.log("pluginInfo",t.value)};return Ie({o:()=>n.value=!n.value}),me(()=>w()),(x,y)=>{const O=pe,H=D,z=U,P=ke,Q=$e,W=we;return d(),f("div",null,[c("aside",{class:g(["bg-sidebar hidden h-screen flex-col p-2 transition-all duration-300 md:flex",{"w-16":e(i),"w-64":!e(i)}])},[e(t)?(d(),f("div",je,[c("div",{class:g(["bg-secondary rounded-lg p-3 transition-all",e(i)?"flex items-center justify-center":""])},[e(i)?(d(),f("div",De,[u(O,{color:"primary",icon:"i-lucide-arrow-left",variant:"soft",label:e(i)?"":x.$t("layouts.pluginSidebar"),onClick:L},null,8,["label"])])):(d(),f("div",Ge,[c("div",qe,[u(O,{color:"primary",icon:"i-lucide-arrow-left",variant:"soft",class:"rounded-full",onClick:L}),u(H,{src:e(t).icon,text:e(t).author?.name,size:"md"},null,8,["src","text"])]),c("h3",{class:"text-foreground truncate text-sm font-semibold",title:e(t).name}," Title:"+b(e(t).name),9,Fe),c("div",{class:"text-muted-foreground text-xs",title:`版本: ${e(t).version}`}," Version: v"+b(e(t).version),9,Ke),e(t).author?.name?(d(),f("div",{key:0,class:"text-muted-foreground text-xs",title:`作者: ${e(t).author.name}`}," Author: "+b(e(t).author.name),9,He)):_("",!0),e(t).description?(d(),f("div",{key:1,class:"text-muted-foreground line-clamp-2 text-xs",title:e(t).description}," Description: "+b(e(t).description),9,Qe)):_("",!0)]))],2)])):_("",!0),u(Q,{class:"flex-1"},{default:k(()=>[c("div",We,[c("div",Ye,[u(P,{collapsed:e(i),orientation:"vertical",items:e(a),ui:{label:"text-muted-foreground",list:"navbar-menu",link:e(i)?"justify-center size-10 hover:bg-secondary dark:hover:bg-surface-800 rounded-lg":"justify-start hover:bg-secondary dark:hover:bg-surface-800 p-2 px-3 leading-6 rounded-lg",linkLeadingIcon:e(i)?"size-4.5":"size-4"}},{"item-trailing":k(({item:h})=>[h.children?.length?(d(),I(z,{key:0,name:"i-lucide-chevron-right",class:"iconify iconify--lucide size-4 shrink-0 transform transition-transform duration-200 group-data-[state=open]:rotate-90"})):_("",!0)]),_:1},8,["collapsed","items","ui"])])])]),_:1}),u(e(l),{"hidden-layout":!0,mode:"sidebar",collapsed:e(i),"mobile-menu":!1,"onUpdate:collapsed":y[0]||(y[0]=h=>i.value=h)},null,8,["collapsed"])],2),u(W,{open:e(n),"onUpdate:open":y[2]||(y[2]=h=>F(n)?n.value=h:null),side:"left",ui:{content:"!w-fit flex-0 max-w-fit"}},{content:k(()=>[c("aside",Xe,[u(e(r),{layout:"side",collapsed:!1}),e(t)?(d(),f("div",Je,[c("div",Ze,[c("div",et,[c("div",tt,[u(z,{name:"i-lucide-package",class:"text-accent-foreground size-4"}),c("h3",{class:"text-foreground truncate text-sm font-semibold",title:e(t).name},b(e(t).name),9,st)]),c("div",ot,[c("span",{class:"text-muted-foreground text-xs",title:`版本: ${e(t).version}`}," v"+b(e(t).version),9,at),e(t).author?.name?(d(),f("span",{key:0,class:"text-muted-foreground text-xs",title:`作者: ${e(t).author.name}`}," · "+b(e(t).author.name),9,nt)):_("",!0)]),e(t).description?(d(),f("p",{key:0,class:"text-muted-foreground line-clamp-2 text-xs",title:e(t).description},b(e(t).description),9,it)):_("",!0)])])])):_("",!0),c("div",lt,[c("div",rt,[u(P,{collapsed:!1,orientation:"vertical",items:e(a),ui:{list:"navbar-menu",link:"justify-start hover:bg-secondary dark:hover:bg-surface-800 p-2 px-3 leading-6 rounded-lg",linkLeadingIcon:"size-4"}},{"item-trailing":k(({item:h})=>[h.children?.length?(d(),I(z,{key:0,name:"i-lucide-chevron-right",class:"iconify iconify--lucide size-4 shrink-0 transform transition-transform duration-200 group-data-[state=open]:rotate-90"})):_("",!0)]),_:1},8,["items"])])]),u(e(l),{mode:"sidebar",collapsed:e(i),"mobile-menu":!0,"onUpdate:collapsed":y[1]||(y[1]=h=>i.value=h)},null,8,["collapsed"])])]),_:1},8,["open"])])}}}),ut=Le(ct,[["__scopeId","data-v-ea70eb96"]]),dt={class:"bg-sidebar flex h-screen w-full overflow-hidden"},mt={class:"app-sidebar"},pt={class:"bg-background m-0 flex min-w-0 flex-1 flex-col items-center shadow-lg md:m-2 md:ml-0 md:rounded-xl"},ft=B({__name:"index",props:{menu:{},manifest:{}},setup(o){const s=o,l=T(!1),r=T(!1),m=()=>{l.value=!l.value},p=()=>{r.value=!0},n=$(()=>{if(!s.menu?.length)return[];const i=C().path;return fe(s.menu,i)});return _e("pluginConsoleMenu",n),(i,v)=>(d(),f("div",dt,[c("div",mt,[u(ut,{collapsed:e(l),manifest:s.manifest,"mobile-menu":e(r),"onUpdate:mobileMenu":v[0]||(v[0]=a=>F(r)?r.value=a:null)},null,8,["collapsed","manifest","mobile-menu"])]),c("div",pt,[u(Ve,{collapsed:e(l),"mobile-menu":e(r),onToggle:m,onOpenMobileMenu:p},null,8,["collapsed","mobile-menu"]),u(Se,{layout:"sidebar"})])]))}}),_t="buildingai-simple-blog",gt="Simple Blog",vt="application",ht="0.0.1",bt="A simple blog application",xt="",yt={name:"BuildingAI Teams",homepage:""},kt=[],$t={identifier:_t,name:gt,type:vt,version:ht,description:bt,homepage:xt,author:yt,changelog:kt},Jt=B({__name:"console",setup(o){return(s,l)=>(d(),I(e(ft),{menu:e(ge),manifest:e($t)},null,8,["menu","manifest"]))}});export{Jt as default};
