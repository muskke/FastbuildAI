import{aB as m,r as p,f as N}from"#entry";const D=["INPUT","TEXTAREA"];function C(r,t,n,o={}){if(!t||o.enableIgnoredElement&&D.includes(t.nodeName))return null;const{arrowKeyOptions:l="both",attributeName:i="[data-reka-collection-item]",itemsArray:c=[],loop:e=!0,dir:s="ltr",preventScroll:x=!0,focus:k=!1}=o,[g,w,v,A,h,b]=[r.key==="ArrowRight",r.key==="ArrowLeft",r.key==="ArrowUp",r.key==="ArrowDown",r.key==="Home",r.key==="End"],u=v||A,f=g||w;if(!h&&!b&&(!u&&!f||l==="vertical"&&f||l==="horizontal"&&u))return null;const d=n?Array.from(n.querySelectorAll(i)):c;if(!d.length)return null;x&&r.preventDefault();let a=null;return f||u?a=y(d,t,{goForward:u?A:s==="ltr"?g:w,loop:e}):h?a=d.at(0)||null:b&&(a=d.at(-1)||null),k&&a?.focus(),a}function y(r,t,n,o=r.length){if(--o===0)return null;const l=r.indexOf(t),i=n.goForward?l+1:l-1;if(!n.loop&&(i<0||i>=r.length))return null;const c=(i+r.length)%r.length,e=r[c];return e?e.hasAttribute("disabled")&&e.getAttribute("disabled")!=="false"?y(r,e,n,o):e:null}function E(r){const t=m({dir:p("ltr")});return N(()=>r?.value||t.dir?.value||"ltr")}export{C as a,E as u};
