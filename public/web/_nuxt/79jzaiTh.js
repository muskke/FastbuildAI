import{d as E,b as D,f as S,g as v,i as T,j,o as d,k as n,q as c,l as r,_ as A,x as M,v as s,p as i,c as x,t as q,y as O,aU as F,C as G,z as H}from"#entry";import{_ as J}from"./BqoA6bN6.js";import{_ as K}from"./ZZC6mEJB.js";import{_ as L}from"./BdKfYASf.js";import{h as P}from"./D9F45f3T.js";import"./TH-3OOuG.js";import"./Bub1HYiY.js";import"./B22A-h4k.js";import"./lw_U4-W2.js";import"./XpsTG8vq.js";import"./BgHJjJs-.js";import"./DN9ov8OT.js";import"./nBDBqKnC.js";import"./B1Lg5z9T.js";import"./CLTNKp0S.js";import"./8-c-A7PB.js";import"./kRIii9yh.js";import"./Cfcu-t3n.js";import"./C6Y-ieo6.js";import"./b-_TUx9i.js";import"./DaNf1Wdt.js";import"./CKXZhss7.js";import"./Cpt2kRVT.js";import"./pUN2d83w.js";import"./BwTGIg9g.js";import"./BWWuJQeZ.js";import"./9bDOsXij.js";const Q={class:"flex items-center gap-4"},R={class:"flex items-center gap-2"},W={class:"text-secondary-foreground flex items-center text-base font-semibold"},X={class:"line-clamp-1"},Y={class:"text-muted-foreground line-clamp-1 text-xs",target:"_blank",rel:"noopener noreferrer"},Z={class:"max-w-100"},ee={key:0,class:"text-muted-foreground line-clamp-2 text-xs"},te={key:1,class:"text-muted-foreground line-clamp-2 text-xs"},oe={key:0,class:"flex flex-row items-center gap-1.5"},ce={class:"line-clamp-2 text-xs text-red-500"},ne={class:"flex items-center justify-between gap-2"},re={class:"flex items-center gap-1"},Ee=E({__name:"web-mcp-card",props:{mcpServer:{},selected:{type:Boolean,default:!1},updateIds:{}},emits:["select","delete","edit","view-models","remove-system","toggle-visible"],setup(e,{emit:b}){const t=e,a=b,{t:l}=D(),m=S(""),_=S(""),g=async()=>{const o=await P(t.mcpServer.id);m.value=o.connectable,_.value=o.error},y=v(()=>m.value===""?t.mcpServer.connectable:m.value),p=v(()=>m.value===""?t.mcpServer.connectError:_.value),k=v(()=>{const o=[];return t.mcpServer.type==="user"&&o.push({label:l("console-common.edit"),icon:"i-lucide-edit",onSelect:()=>a("edit",t.mcpServer)}),t.mcpServer.type==="user"&&(o.length>0&&o.push({type:"separator",label:"",onSelect:()=>{}}),o.push({label:l("console-common.delete"),icon:"i-lucide-trash-2",color:"error",onSelect:()=>a("delete",t.mcpServer)})),o});function w(){a("view-models",t.mcpServer.id)}function C(o){typeof o=="boolean"&&a("select",t.mcpServer,o)}return T(()=>{t.updateIds?.includes(t.mcpServer.id)&&(g(),t.updateIds?.splice(t.updateIds.indexOf(t.mcpServer.id),1))}),(o,h)=>{const U=G,B=F,u=J,I=O,$=K,z=A,N=L;return d(),j(N,{class:"flex flex-col overflow-hidden","show-actions":"",variant:"outlined",selected:e.selected,actions:i(k),onSelect:C},{icon:n(({groupHoverClass:f,selectedClass:V})=>[c("div",Q,[r(B,{color:i(y)?"success":"error",position:"top-right"},{default:n(()=>[r(U,{src:e.mcpServer.icon,alt:e.mcpServer.name,size:"3xl",ui:{root:"rounded-lg",fallback:"text-inverted"},class:H([f,V,e.mcpServer.icon?"":"bg-primary"])},null,8,["src","alt","class"])]),_:2},1032,["color"]),c("div",null,[c("div",R,[c("h3",W,[r(u,{text:e.mcpServer.name,delay:0},{default:n(()=>[c("span",X,s(e.mcpServer.alias||e.mcpServer.name),1)]),_:1},8,["text"])])]),c("a",Y," @ "+s(e.mcpServer.providerName),1)])])]),description:n(()=>[r(u,{disabled:!e.mcpServer.description,text:e.mcpServer.description,ui:{content:"max-w-100 !whitespace-pre-wrap leading-relaxed h-fit p-2"},"delay-duration":0},{content:n(()=>[c("div",Z,s(e.mcpServer.description),1)]),default:n(()=>[e.mcpServer.description?(d(),x("h4",ee,s(e.mcpServer.description),1)):(d(),x("h4",te,s(i(l)("ai-mcp.backend.noDescription")),1))]),_:1},8,["disabled","text"]),r(u,{text:i(p),"delay-duration":0},{default:n(()=>[i(p)?(d(),x("div",oe,[r(I,{name:"tabler:plug-connected-x",size:"16",class:"text-red-500"}),c("h4",ce,s(i(p)),1)])):q("",!0)]),_:1},8,["text"])]),footer:n(()=>[c("div",ne,[r($,{"model-value":!e.mcpServer.isDisabled,"onUpdate:modelValue":h[0]||(h[0]=f=>a("toggle-visible",e.mcpServer.id,!f)),size:"md"},null,8,["model-value"]),c("div",re,[r(z,{icon:"i-lucide-eye",variant:"ghost",size:"sm",onClick:w},{default:n(()=>[M(s(i(l)("console-common.check")),1)]),_:1})])])]),_:1},8,["selected","actions"])}}});export{Ee as default};
