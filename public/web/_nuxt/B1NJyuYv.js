const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./CCsepuEU.js","./CPdnHwcb.js","./CBooyAK7.js","./YsC0FLg2.js","./--UdezPG.js","./PM3E-asR.js","./BO1GPLSL.js","./CLTNKp0S.js","./8-c-A7PB.js","./kRIii9yh.js","./TH-3OOuG.js","./Cfcu-t3n.js","./C6Y-ieo6.js","./b-_TUx9i.js","./DaNf1Wdt.js","./CKXZhss7.js","./Cpt2kRVT.js","./pUN2d83w.js","./B22A-h4k.js","./Bub1HYiY.js","./D-yR6Fj9.js","./Dn8X9Gvz.js","./DlAUqK2U.js","./B1XcE43x.js"])))=>i.map(i=>d[i]);
import{d as w,c as b,o as u,t as m,p as l,aS as $,l as t,j as g,q as r,R as U,k as s,v as p,y as M,x as V,_ as x,U as E}from"#entry";import{_ as K}from"./ZZC6mEJB.js";import{_ as S}from"./Cou45cKM.js";import{_ as I}from"./BYwSSEjb.js";import{_ as P}from"./BqoA6bN6.js";import"./BgHJjJs-.js";import"./DN9ov8OT.js";import"./nBDBqKnC.js";import"./BstbYvQo.js";import"./8-c-A7PB.js";import"./TH-3OOuG.js";import"./--UdezPG.js";import"./Bub1HYiY.js";import"./B22A-h4k.js";import"./lw_U4-W2.js";import"./XpsTG8vq.js";const W={key:0,class:"space-y-4"},z={class:"grid grid-cols-2 gap-4"},B={class:"flex items-center gap-2"},N={class:"flex items-center gap-1"},D={key:1,class:"space-y-4"},F={class:"grid grid-cols-2 gap-4"},A={class:"flex items-center gap-2"},R={class:"flex items-center gap-1"},j={key:2,class:"space-y-4"},q={class:"flex gap-2"},L={key:0,class:"space-y-4"},O={class:"text-muted-foreground text-sm"},G={class:"grid grid-cols-2 gap-4"},H={class:"grid grid-cols-2 gap-4"},J={class:"flex items-center gap-2"},Q={class:"flex items-center gap-1"},X={key:1,class:"space-y-4"},Y={class:"text-muted-foreground text-sm"},Z={class:"grid grid-cols-2 gap-4"},ee={class:"flex items-center gap-2"},le={class:"flex items-center gap-1"},Ve=w({__name:"retrieval-param",props:{modelValue:{}},emits:["update:modelValue"],setup(y,{emit:T}){const k=U(()=>E(()=>import("./CCsepuEU.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23]),import.meta.url)),e=$(y,"modelValue",T);function _(d){if(e.value.retrievalMode==="hybrid"&&e.value.weightConfig){let a=Number(d??0);a<0&&(a=0),a>1&&(a=1),e.value.weightConfig.semanticWeight=a,e.value.weightConfig.keywordWeight=+(1-a).toFixed(2)}}function C(d){if(e.value.retrievalMode==="hybrid"&&e.value.weightConfig){let a=Number(d??0);a<0&&(a=0),a>1&&(a=1),e.value.weightConfig.keywordWeight=a,e.value.weightConfig.semanticWeight=+(1-a).toFixed(2)}}return(d,a)=>{const c=K,i=S,n=I,h=M,f=P,v=x;return u(),b("div",null,[l(e).retrievalMode==="vector"?(u(),b("div",W,[t(c,{modelValue:l(e).rerankConfig.enabled,"onUpdate:modelValue":a[0]||(a[0]=o=>l(e).rerankConfig.enabled=o),label:d.$t("ai-datasets.backend.retrieval.rerank")},null,8,["modelValue","label"]),l(e).rerankConfig.enabled?(u(),g(l(k),{key:0,modelValue:l(e).rerankConfig.modelId,"button-ui":{variant:"outline",color:"neutral",ui:{base:"w-full"},class:"bg-background"},supportedModelTypes:["rerank"],defaultSelected:!1,capability:"chat",placeholder:"选择重排模型",onChange:a[1]||(a[1]=o=>l(e).rerankConfig.modelId=o?.id??"")},null,8,["modelValue"])):m("",!0),r("div",z,[t(n,{label:"Top K"},{default:s(()=>[t(i,{modelValue:l(e).topK,"onUpdate:modelValue":a[2]||(a[2]=o=>l(e).topK=o),modelModifiers:{number:!0},type:"number",max:10,step:1,min:1,placeholder:d.$t("ai-datasets.backend.retrieval.topKPlaceholder")},null,8,["modelValue","placeholder"])]),_:1}),t(n,{label:""},{label:s(()=>[t(f,{text:d.$t("ai-datasets.backend.retrieval.scoreThreshold"),"delay-duration":0},{default:s(()=>[r("div",B,[r("div",N,[r("span",null,p(d.$t("ai-datasets.backend.retrieval.scoreThreshold")),1),t(h,{name:"i-lucide-circle-help",class:"size-4"})]),t(c,{modelValue:l(e).scoreThresholdEnabled,"onUpdate:modelValue":a[3]||(a[3]=o=>l(e).scoreThresholdEnabled=o)},null,8,["modelValue"])])]),_:1},8,["text"])]),default:s(()=>[t(i,{modelValue:l(e).scoreThreshold,"onUpdate:modelValue":a[4]||(a[4]=o=>l(e).scoreThreshold=o),modelModifiers:{number:!0},type:"number",step:.1,max:1,min:0,disabled:!l(e).scoreThresholdEnabled,placeholder:d.$t("ai-datasets.backend.retrieval.scoreThresholdPlaceholder")},null,8,["modelValue","disabled","placeholder"])]),_:1})])])):m("",!0),l(e).retrievalMode==="fullText"?(u(),b("div",D,[t(c,{modelValue:l(e).rerankConfig.enabled,"onUpdate:modelValue":a[5]||(a[5]=o=>l(e).rerankConfig.enabled=o),label:d.$t("ai-datasets.backend.retrieval.rerank")},null,8,["modelValue","label"]),l(e).rerankConfig.enabled?(u(),g(l(k),{key:0,modelValue:l(e).rerankConfig.modelId,"button-ui":{variant:"outline",color:"neutral",ui:{base:"w-full"},class:"bg-background"},supportedModelTypes:["rerank"],defaultSelected:!1,capability:"chat",placeholder:"选择重排模型",onChange:a[6]||(a[6]=o=>l(e).rerankConfig.modelId=o?.id??"")},null,8,["modelValue"])):m("",!0),r("div",F,[t(n,{label:"Top K"},{default:s(()=>[t(i,{modelValue:l(e).topK,"onUpdate:modelValue":a[7]||(a[7]=o=>l(e).topK=o),modelModifiers:{number:!0},type:"number",placeholder:d.$t("ai-datasets.backend.retrieval.topKPlaceholder"),max:10,step:1,min:1},null,8,["modelValue","placeholder"])]),_:1}),l(e).rerankConfig.enabled?(u(),g(n,{key:0,label:""},{label:s(()=>[t(f,{text:d.$t("ai-datasets.backend.retrieval.scoreThreshold"),"delay-duration":0},{default:s(()=>[r("div",A,[r("div",R,[r("span",null,p(d.$t("ai-datasets.backend.retrieval.scoreThreshold")),1),t(h,{name:"i-lucide-circle-help",class:"size-4"})]),t(c,{modelValue:l(e).scoreThresholdEnabled,"onUpdate:modelValue":a[8]||(a[8]=o=>l(e).scoreThresholdEnabled=o)},null,8,["modelValue"])])]),_:1},8,["text"])]),default:s(()=>[t(i,{modelValue:l(e).scoreThreshold,"onUpdate:modelValue":a[9]||(a[9]=o=>l(e).scoreThreshold=o),modelModifiers:{number:!0},type:"number",step:.1,max:1,min:0,disabled:!l(e).scoreThresholdEnabled,placeholder:d.$t("ai-datasets.backend.retrieval.scoreThresholdPlaceholder")},null,8,["modelValue","disabled","placeholder"])]),_:1})):m("",!0)])])):m("",!0),l(e).retrievalMode==="hybrid"?(u(),b("div",j,[r("div",q,[t(v,{variant:l(e).strategy==="weighted_score"?"solid":"outline",size:"sm",onClick:a[10]||(a[10]=o=>l(e).strategy="weighted_score")},{default:s(()=>[t(h,{name:"i-heroicons-scale",class:"mr-1 h-4 w-4"}),V(" "+p(d.$t("ai-datasets.backend.retrieval.weightSetting")),1)]),_:1},8,["variant"]),t(v,{variant:l(e).strategy==="rerank"?"solid":"outline",size:"sm",onClick:a[11]||(a[11]=o=>{l(e).strategy="rerank",l(e).rerankConfig.enabled=!0})},{default:s(()=>[t(h,{name:"i-heroicons-cpu-chip",class:"mr-1 h-4 w-4"}),V(" "+p(d.$t("ai-datasets.backend.retrieval.rerank")),1)]),_:1},8,["variant"])]),l(e).strategy==="weighted_score"?(u(),b("div",L,[r("p",O,p(d.$t("ai-datasets.backend.retrieval.weightSettingDesc")),1),r("div",G,[t(n,{label:d.$t("ai-datasets.backend.retrieval.semantic")},{default:s(()=>[t(i,{modelValue:l(e).weightConfig.semanticWeight,"onUpdate:modelValue":[a[12]||(a[12]=o=>l(e).weightConfig.semanticWeight=o),_],modelModifiers:{number:!0},type:"number",min:0,max:1,step:.1,placeholder:"0.5"},null,8,["modelValue"])]),_:1},8,["label"]),t(n,{label:d.$t("ai-datasets.backend.retrieval.keyword")},{default:s(()=>[t(i,{modelValue:l(e).weightConfig.keywordWeight,"onUpdate:modelValue":[a[13]||(a[13]=o=>l(e).weightConfig.keywordWeight=o),C],modelModifiers:{number:!0},type:"number",min:0,max:1,step:.1,placeholder:"0.3"},null,8,["modelValue"])]),_:1},8,["label"])]),r("div",H,[t(n,{label:"Top K"},{default:s(()=>[t(i,{modelValue:l(e).topK,"onUpdate:modelValue":a[14]||(a[14]=o=>l(e).topK=o),modelModifiers:{number:!0},type:"number",min:1,max:10,step:1,placeholder:"3"},null,8,["modelValue"])]),_:1}),t(n,{label:""},{label:s(()=>[t(f,{text:d.$t("ai-datasets.backend.retrieval.scoreThreshold"),"delay-duration":0},{default:s(()=>[r("div",J,[r("div",Q,[r("span",null,p(d.$t("ai-datasets.backend.retrieval.scoreThreshold")),1),t(h,{name:"i-lucide-circle-help",class:"size-4"})]),t(c,{modelValue:l(e).scoreThresholdEnabled,"onUpdate:modelValue":a[15]||(a[15]=o=>l(e).scoreThresholdEnabled=o)},null,8,["modelValue"])])]),_:1},8,["text"])]),default:s(()=>[t(i,{modelValue:l(e).scoreThreshold,"onUpdate:modelValue":a[16]||(a[16]=o=>l(e).scoreThreshold=o),modelModifiers:{number:!0},type:"number",step:.1,max:1,min:0,disabled:!l(e).scoreThresholdEnabled,placeholder:d.$t("ai-datasets.backend.retrieval.scoreThresholdPlaceholder")},null,8,["modelValue","disabled","placeholder"])]),_:1})])])):m("",!0),l(e).strategy==="rerank"?(u(),b("div",X,[r("p",Y,p(d.$t("ai-datasets.backend.retrieval.rerankDesc")),1),l(e).strategy==="rerank"?(u(),g(l(k),{key:0,modelValue:l(e).rerankConfig.modelId,"button-ui":{variant:"outline",color:"neutral",ui:{base:"w-full"},class:"bg-background"},supportedModelTypes:["rerank"],defaultSelected:!1,capability:"chat",placeholder:"选择重排模型",onChange:a[17]||(a[17]=o=>l(e).rerankConfig.modelId=o?.id??"")},null,8,["modelValue"])):m("",!0),r("div",Z,[t(n,{label:"Top K"},{default:s(()=>[t(i,{modelValue:l(e).topK,"onUpdate:modelValue":a[18]||(a[18]=o=>l(e).topK=o),modelModifiers:{number:!0},type:"number",min:1,step:1,max:10,placeholder:"3"},null,8,["modelValue"])]),_:1}),t(n,{label:""},{label:s(()=>[t(f,{text:"Score阈值","delay-duration":0},{default:s(()=>[r("div",ee,[r("div",le,[r("span",null,p(d.$t("ai-datasets.backend.retrieval.scoreThreshold")),1),t(h,{name:"i-lucide-circle-help",class:"size-4"})]),t(c,{modelValue:l(e).scoreThresholdEnabled,"onUpdate:modelValue":a[19]||(a[19]=o=>l(e).scoreThresholdEnabled=o)},null,8,["modelValue"])])]),_:1})]),default:s(()=>[t(i,{modelValue:l(e).scoreThreshold,"onUpdate:modelValue":a[20]||(a[20]=o=>l(e).scoreThreshold=o),modelModifiers:{number:!0},type:"number",step:.1,max:1,min:0,disabled:!l(e).scoreThresholdEnabled,placeholder:d.$t("ai-datasets.backend.retrieval.scoreThresholdPlaceholder")},null,8,["modelValue","disabled","placeholder"])]),_:1})])])):m("",!0)])):m("",!0)])}}});export{Ve as default};
