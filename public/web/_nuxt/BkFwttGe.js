const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./Cfajcp4w.js","./DZjlY_x0.js","./IZm275qp.js","./BwAI6jgh.js","./BP0i4hNs.js","./DuSMYVIA.js","./DHFmmngs.js","./CgMDXot0.js","./C6Y-ieo6.js","./nFtW2wrU.js","./DlAUqK2U.js","./sK3G8UlB.js","./Bu8AnXlB.js","./CtnHucl2.js","./BV27uQF0.js","./DQ3GPve_.js","./MY3NA34L.js","./DOMbg_Ur.js","./BTMNd_Fu.js","./DJGPrxu2.js","./BLWalRMe.js","./C91hvfG6.js","./B8GyQv9i.js","./B7ZULqjN.js","./BWU6cgBu.js","./Kd5be__b.js","./C517qle4.js","./CH_wI2Ns.js","./DfmzrqHf.js","./BMSQkwth.js","./DaWZu8wl.js","./pJk-OqOX.js","./Cj5Rq2yV.js","./Cif_tCX1.js","./CkZ9rxci.js","./CaIMZjrg.js","./DJ4XvDTv.js","./DBKIpjOA.js","./sNG-2uXb.js","./Bxykibez.js","./jA2sE6qM.js","./DeM1ZIvK.js","./B-JzBPcX.js","./BQ3yNAd1.js","./CAuDqqsA.js"])))=>i.map(i=>d[i]);
import{d as S,b1 as F,f as w,g as n,i as B,af as G,c as s,o as r,t as N,q as p,x as M,p as U,b$ as j,F as T,B as x,Y as c,j as D,m as R,aq as P,R as q,U as t}from"#entry";import{u as Z,D as b}from"./KzC0fgIo.js";import{_ as X}from"./DlAUqK2U.js";import"./zsIs7mne.js";const Y={key:0,class:"fixed top-4 left-4 z-50 rounded-lg border border-gray-200 bg-white/80 px-3 py-2 shadow-lg backdrop-blur-sm dark:bg-black/40"},J=S({__name:"web-preview",props:{terminal:{default:"web"},data:{default:()=>[]},configs:{default:null},showToolbar:{type:Boolean,default:!0}},setup(f){const L=Object.assign({"./widgets/web/accordion/content.vue":()=>t(()=>import("./Cfajcp4w.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10]),import.meta.url),"./widgets/web/annotation/content.vue":()=>t(()=>import("./sK3G8UlB.js"),__vite__mapDeps([11,2,9,10]),import.meta.url),"./widgets/web/audio/content.vue":()=>t(()=>import("./Bu8AnXlB.js"),__vite__mapDeps([12,2,9,10]),import.meta.url),"./widgets/web/button/content.vue":()=>t(()=>import("./CtnHucl2.js"),__vite__mapDeps([13,2,14,9,10]),import.meta.url),"./widgets/web/card/content.vue":()=>t(()=>import("./DQ3GPve_.js"),__vite__mapDeps([15,2,14,9,10]),import.meta.url),"./widgets/web/carousel/content.vue":()=>t(()=>import("./MY3NA34L.js"),__vite__mapDeps([16,2,14,9,10]),import.meta.url),"./widgets/web/chat-bubble/content.vue":()=>t(()=>import("./DOMbg_Ur.js"),__vite__mapDeps([17,2,9,10]),import.meta.url),"./widgets/web/chat-bubbles/content.vue":()=>t(()=>import("./BTMNd_Fu.js"),__vite__mapDeps([18,2,9,10]),import.meta.url),"./widgets/web/divider/content.vue":()=>t(()=>import("./DJGPrxu2.js"),__vite__mapDeps([19,9,2,10]),import.meta.url),"./widgets/web/flickering-grid/content.vue":()=>t(()=>import("./BLWalRMe.js"),__vite__mapDeps([20,9,2,10]),import.meta.url),"./widgets/web/gradient-button/content.vue":()=>t(()=>import("./C91hvfG6.js"),__vite__mapDeps([21,2,14,9,10]),import.meta.url),"./widgets/web/grid-pattern/content.vue":()=>t(()=>import("./B8GyQv9i.js"),__vite__mapDeps([22,9,2,10]),import.meta.url),"./widgets/web/image-cube/content.vue":()=>t(()=>import("./B7ZULqjN.js"),__vite__mapDeps([23,2,14,9,10]),import.meta.url),"./widgets/web/image/content.vue":()=>t(()=>import("./BWU6cgBu.js"),__vite__mapDeps([24,2,14,9,10]),import.meta.url),"./widgets/web/interactive-button/content.vue":()=>t(()=>import("./Kd5be__b.js"),__vite__mapDeps([25,14,2,9,10]),import.meta.url),"./widgets/web/page-section/content.vue":()=>t(()=>import("./C517qle4.js"),__vite__mapDeps([26,2,14,9,10]),import.meta.url),"./widgets/web/paragraph/content.vue":()=>t(()=>import("./CH_wI2Ns.js"),__vite__mapDeps([27,28,2,29,30,9,10]),import.meta.url),"./widgets/web/particles-background/content.vue":()=>t(()=>import("./pJk-OqOX.js"),__vite__mapDeps([31,2,9,10]),import.meta.url),"./widgets/web/pricing-plan/content.vue":()=>t(()=>import("./Cj5Rq2yV.js"),__vite__mapDeps([32,33,2,14,9,10]),import.meta.url),"./widgets/web/pricing-plans/content.vue":()=>t(()=>import("./CkZ9rxci.js"),__vite__mapDeps([34,33,2,14,9,10]),import.meta.url),"./widgets/web/qrcode/content.vue":()=>t(()=>import("./CaIMZjrg.js"),__vite__mapDeps([35,2,9,10]),import.meta.url),"./widgets/web/rainbow-button/content.vue":()=>t(()=>import("./DJ4XvDTv.js"),__vite__mapDeps([36,2,14,9,10]),import.meta.url),"./widgets/web/shimmer-button/content.vue":()=>t(()=>import("./DBKIpjOA.js"),__vite__mapDeps([37,14,2,9,10]),import.meta.url),"./widgets/web/snowfall-bg/content.vue":()=>t(()=>import("./sNG-2uXb.js"),__vite__mapDeps([38,2,9,10]),import.meta.url),"./widgets/web/text/content.vue":()=>t(()=>import("./Bxykibez.js"),__vite__mapDeps([39,9,2,10]),import.meta.url),"./widgets/web/video-text/content.vue":()=>t(()=>import("./jA2sE6qM.js"),__vite__mapDeps([40,9,2,10]),import.meta.url),"./widgets/web/video/content.vue":()=>t(()=>import("./DeM1ZIvK.js"),__vite__mapDeps([41,2,14,9,10]),import.meta.url),"./widgets/web/warp-background/content.vue":()=>t(()=>import("./B-JzBPcX.js"),__vite__mapDeps([42,9,2,10,43]),import.meta.url),"./widgets/web/webpage/content.vue":()=>t(()=>import("./CAuDqqsA.js"),__vite__mapDeps([44,2,9,10]),import.meta.url)}),y=j(),A=F(),a=Z(),d=f,O=w(typeof window<"u"?window.innerWidth:1920);function E(e){const o=Object.entries(L).find(([u])=>u.includes(`/${e}/content.vue`));if(!o)return null;const i=o[1];return q(i)}const v=n(()=>b.value.DEFAULT_WIDTH),h=n(()=>b.value.DEFAULT_HEIGHT),_=n(()=>b.value.SAFE_AREA_WIDTH),l=n(()=>({left:(v.value-_.value)/2,right:(v.value-_.value)/2+_.value}));function k(e){const{position:o,size:i}=e;console.log(o,i);const u=o.x,H=o.x+i.width;return u>=l.value.left&&H<=l.value.right}const I=n(()=>{const e=[],o=[];return a.components.forEach(i=>{k(i)?e.push(i):o.push(i)}),{centerComponents:e,outsideComponents:o}}),V=n(()=>{const e=a.configs,o={width:"100%",minHeight:`${e.pageHeight||h.value}px`,backgroundColor:"#ffffff",position:"relative"};return e.backgroundType==="solid"&&(o.backgroundColor=A.value==="dark"?e.backgroundDarkColor:e.backgroundColor),e.backgroundType==="image"&&e.backgroundImage&&(o.backgroundImage=`url(${e.backgroundImage})`,o.backgroundSize="cover",o.backgroundPosition="center",o.backgroundRepeat="no-repeat"),o}),C=n(()=>{const e=a.configs;return{width:"100%",maxWidth:`${_.value}px`,margin:"0 auto",position:"relative",minHeight:`${e.pageHeight||h.value}px`,pointerEvents:"none"}});function z(e){return{position:"absolute",left:`${e.position.x-l.value.left}px`,top:`${e.position.y}px`,width:`${e.size.width}px`,height:`${e.size.height}px`,zIndex:e.zIndex||0,opacity:e.isHidden?0:1,pointerEvents:e.isHidden?"none":"auto",overflow:"hidden",flexShrink:"0",flexGrow:"0"}}const m=w(),g=w(0);function $(e){const o=g.value;let i;if(e.position.x<l.value.left)i=e.position.x;else{const u=v.value-e.position.x;i=o-u}return{position:"absolute",left:`${i}px`,top:`${e.position.y}px`,width:`${e.size.width}px`,height:`${e.size.height}px`,zIndex:e.zIndex||0,opacity:e.isHidden?0:1,pointerEvents:e.isHidden?"none":"auto",overflow:"hidden",flexShrink:"0",flexGrow:"0"}}const W=()=>{g.value=m.value?.offsetWidth||0};return B(async()=>{if(d.data&&d.data.length>0&&(a.components=d.data,a.configs=d.configs||{}),g.value=m.value?.offsetWidth||0,typeof window<"u"){const e=()=>{O.value=window.innerWidth,W()};window.addEventListener("resize",e),G(()=>{window.removeEventListener("resize",e)})}}),(e,o)=>(r(),s("div",{ref_key:"webPreviewRef",ref:m,class:"web-preview"},[f.showToolbar?(r(),s("div",Y,[p("button",{type:"button",class:"inline-flex items-center gap-2 rounded-md px-2 py-1 text-sm hover:bg-gray-100 dark:hover:bg-gray-800",onClick:o[0]||(o[0]=i=>U(y).back())},[...o[1]||(o[1]=[p("span",{"aria-hidden":""},"←",-1),M(" 返回编辑 ",-1)])])])):N("",!0),p("div",{class:"preview-canvas",style:c(V.value)},[(r(!0),s(T,null,x(I.value.outsideComponents,i=>(r(),s("div",{key:`outside-${i.id}`,class:"design-component",style:c($(i))},[(r(),D(P(E(i.type)),R({ref_for:!0},i.props),null,16))],4))),128)),p("div",{class:"content-container",style:c(C.value)},[(r(!0),s(T,null,x(I.value.centerComponents,i=>(r(),s("div",{key:i.id,class:"design-component",style:c(z(i))},[(r(),D(P(E(i.type)),R({ref_for:!0},i.props),null,16))],4))),128))],4)],4)],512))}}),oe=X(J,[["__scopeId","data-v-801d991f"]]);export{oe as default};
