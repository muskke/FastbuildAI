import{d as E,f as Y,b3 as $,au as V,ap as j,O as b,s as X,g as A,b4 as G,b_ as K,S as _,aO as q,c as x,o as s,t as d,q as a,p as t,l as m,bG as F,v as g,k as p,j as v,z as w,aU as H,C as J,y as Q,x as W,Y as Z,A as ee}from"#entry";import{_ as te}from"./B1Lg5z9T.js";import{a as oe,b as le,c as ne,n as se}from"./MvoCqZMl.js";import{a as ae,c as ce}from"./2ydT-KR3.js";import{u as ie}from"./C1DLXs69.js";import{d as re}from"./CP4Zo7YT.js";import{useI18n as ue}from"./B_gLqRAo.js";import"./CLTNKp0S.js";import"./8-c-A7PB.js";import"./kRIii9yh.js";import"./TH-3OOuG.js";import"./Cfcu-t3n.js";import"./C6Y-ieo6.js";import"./b-_TUx9i.js";import"./DaNf1Wdt.js";import"./CKXZhss7.js";import"./Cpt2kRVT.js";import"./pUN2d83w.js";import"./B22A-h4k.js";import"./Bub1HYiY.js";import"./lw_U4-W2.js";import"./XpsTG8vq.js";import"./Dn8X9Gvz.js";const de={key:0,class:"hover:bg-secondary dark:hover:bg-surface-800 flex cursor-pointer flex-col rounded-lg select-none"},me={class:"flex h-10 items-center justify-between px-3 py-2 text-sm font-medium"},pe={class:"flex items-center gap-1.5",href:"https://www.buildingai.cc",target:"_blank"},fe={key:0,class:"truncate"},he={class:"ml-2 flex flex-col text-left"},xe={class:"block w-35 truncate text-sm font-medium"},ge={class:"text-muted-foreground text-xs"},ke={key:1,class:"text-foreground flex h-full w-full cursor-pointer items-center gap-2 px-1 py-1"},ye={class:"text-sm"},be={class:"flex flex-1 items-center gap-2"},_e={key:0,class:"flex w-[100px] flex-col"},ve={class:"truncate text-sm font-medium"},Ie={class:"text-secondary-foreground truncate text-xs"},Se={key:0,class:"flex items-center"},Fe=E({__name:"user-menu",props:{mode:{},collapsed:{type:Boolean},mobileMenu:{type:Boolean}},emits:["update:collapsed"],setup(c,{emit:D}){const L=c,R=D,I=L.mode==="sidebar"?ae(L,"collapsed",R):Y(!1),f=ie(),{store:r}=ce(),i=$(),{locale:C,t:o,setLocale:O}=ue(),P=V(),l=j(),T=b("nuxt-ui-language"),k=X(!1),M=A(()=>r.value==="auto"?{label:o("layouts.theme.system"),icon:"i-heroicons-computer-desktop-20-solid"}:r.value==="light"?{label:o("layouts.theme.light"),icon:"i-lucide-sun"}:{label:o("layouts.theme.dark"),icon:"i-lucide-moon"}),N=A(()=>[[{label:"profile",onSelect:()=>P.push(`/profile/${l.userInfo?.id}`)}],[{label:f.consoleLayoutMode==="side"?o("layouts.sidebar"):o("layouts.mixture"),icon:f.consoleLayoutMode==="side"?"i-lucide-panel-left":"i-lucide-panels-top-left",children:[{label:o("layouts.sidebar"),icon:"i-lucide-panel-left",type:"checkbox",checked:f.consoleLayoutMode==="side",onSelect(e){e.preventDefault(),f.consoleLayoutMode="side",b(_.LAYOUT_MODE).value="side"}},{label:o("layouts.mixture"),icon:"i-lucide-panels-top-left",type:"checkbox",checked:f.consoleLayoutMode==="mixture",onUpdateChecked(e){e&&(f.consoleLayoutMode="mixture",b(_.LAYOUT_MODE).value="mixture")},onSelect(e){e.preventDefault()}}]},{label:o("layouts.theme.theme"),icon:"i-lucide-palette",children:[{label:o("layouts.theme.color"),slot:"chip",chip:i.ui.colors.primary,content:{align:"center",collisionPadding:16},children:oe.map(e=>({label:o(ne[e]),chip:e,slot:"chip",checked:i.ui.colors.primary===e,type:"checkbox",onSelect:u=>{u.preventDefault();const h=b(_.NUXT_UI_BLACK_AS_PRIMARY),y=b(_.NUXT_UI_PRIMARY);if(y.value=e,i.ui.colors.primary=e,e==="black"){i.theme.blackAsPrimary=!0,h.value=!0,i.ui.colors.primary=e;return}i.theme.blackAsPrimary=!1,h.value=!1}}))},{label:o("layouts.theme.neutralLabel"),slot:"chip",chip:i.ui.colors.neutral,content:{align:"end",collisionPadding:16},children:le.map(e=>({label:o(se[e]),chip:e,slot:"chip",type:"checkbox",checked:i.ui.colors.neutral===e,onSelect:u=>{u.preventDefault();const h=b(_.NUXT_UI_NEUTRAL);h.value=e,i.ui.colors.neutral=e}}))}]},{label:M.value.label,icon:M.value.icon,children:[{label:o("layouts.theme.system"),icon:"i-heroicons-computer-desktop-20-solid",type:"checkbox",checked:r.value==="auto",onSelect(e){e.preventDefault(),r.value="auto"}},{label:o("layouts.theme.light"),icon:"i-lucide-sun",type:"checkbox",checked:r.value==="light",onSelect(e){e.preventDefault(),r.value="light"}},{label:o("layouts.theme.dark"),icon:"i-lucide-moon",type:"checkbox",checked:r.value==="dark",onUpdateChecked(e){e&&(r.value="dark")},onSelect(e){e.preventDefault()}}]},{label:K(C.value),icon:"i-lucide-languages",content:{align:"end",collisionPadding:16},children:G.map(e=>({label:`${e.name}`,type:"checkbox",slot:"lang",checked:C.value===e.code,onSelect(u){u.preventDefault(),O(e.code),T.value=e.code}}))}],[{label:o("layouts.officeLink"),icon:"i-lucide-external-link",onSelect(){window.open("https://www.buildingai.cc","_blank")}}],[{label:o("layouts.logout"),icon:"i-lucide-log-out",onSelect(e){e.preventDefault(),l.logout()}}]]);return re({o:()=>k.value=!k.value}),(e,u)=>{const h=F,y=Q,S=J,z=q("RouterLink"),U=H,B=te;return s(),x("div",{class:w(["flex flex-col gap-1",c.collapsed?"px-1":"px-1.5"])},[t(f).consoleLayoutMode==="side"?(s(),x("div",de,[a("div",me,[a("a",pe,[m(h,{name:"i-lucide-external-link"}),c.collapsed?d("",!0):(s(),x("span",fe,g(t(o)("layouts.officeLink")),1))])])])):d("",!0),a("div",{class:w(["hover:bg-secondary dark:hover:bg-surface-800 flex cursor-pointer flex-col rounded-lg px-3 py-2 select-none",{"bg-secondary dark:bg-surface-800":t(k)}])},[m(B,{open:t(k),"onUpdate:open":u[0]||(u[0]=n=>ee(k)?k.value=n:null),items:t(N),content:c.mode==="mixture"?{sideOffset:4,collisionPadding:14}:{align:"start",side:c.mobileMenu?"top":"right",sideOffset:10,collisionPadding:10},ui:{content:c.collapsed||c.mode==="mixture"?"w-54":"w-(--reka-dropdown-menu-trigger-width)"}},{"chip-leading":p(({item:n})=>[a("span",{style:Z({backgroundColor:n.chip}),class:"ms-0.5 size-2 rounded-full"},null,4)]),"chip-trailing":p(({item:n})=>[n.children?(s(),v(y,{key:0,name:"i-lucide-chevron-right",class:"text-muted-foreground text-lg"})):d("",!0)]),"lang-leading":p(({item:n})=>[W(g(n.icon),1)]),item:p(({item:n})=>[n?.label==="profile"?(s(),v(z,{key:0,class:"flex px-1 pt-1.5",to:"/profile"},{default:p(()=>[m(S,{src:t(l).userInfo?.avatar,alt:t(l).userInfo?.nickname,icon:t(l).userInfo?.nickname?"tabler:user":void 0,size:"lg",ui:{root:"rounded-lg"}},null,8,["src","alt","icon"]),a("div",he,[a("span",xe,g(t(l).userInfo?.nickname),1),a("span",ge,g(t(l).userInfo?.username),1)])]),_:1})):(s(),x("div",ke,[m(y,{name:n.icon,class:"text-muted-foreground text-lg"},null,8,["name"]),a("span",ye,g(n.label),1)])),n.children?(s(),v(y,{key:2,name:"i-lucide-chevron-right",class:"text-muted-foreground text-lg"})):d("",!0),n.checked?(s(),v(y,{key:3,name:"i-lucide-check",class:"text-muted-foreground text-lg"})):d("",!0)]),default:p(()=>[c.mode==="sidebar"?(s(),x("div",{key:0,class:w(["flex flex-1 items-center justify-center gap-2 select-none",{"flex-col":t(I)}])},[a("div",be,[m(U,{color:"success",inset:""},{default:p(()=>[m(S,{src:t(l).userInfo?.avatar,alt:t(l).userInfo?.nickname,icon:t(l).userInfo?.nickname?"tabler:user":void 0,size:"lg",ui:{root:"rounded-lg"}},null,8,["src","alt","icon"])]),_:1}),t(I)?d("",!0):(s(),x("div",_e,[a("span",ve,g(t(l).userInfo?.nickname),1),a("span",Ie,g(t(l).userInfo?.username),1)]))]),t(I)?d("",!0):(s(),x("div",Se,[m(h,{name:"i-lucide-chevrons-up-down",class:"text-muted"})]))],2)):c.mode==="mixture"?(s(),v(U,{key:1,inset:""},{default:p(()=>[m(S,{src:t(l).userInfo?.avatar,alt:t(l).userInfo?.nickname,icon:t(l).userInfo?.nickname?"tabler:user":void 0,size:"lg",ui:{root:"rounded-lg"}},null,8,["src","alt","icon"])]),_:1})):d("",!0)]),_:1},8,["open","items","content","ui"])],2)],2)}}});export{Fe as default};
