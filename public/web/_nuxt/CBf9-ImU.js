const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./DSkfcXhE.js","./CpacWlXu.js","./BqoA6bN6.js","./TH-3OOuG.js","./Bub1HYiY.js","./B22A-h4k.js","./lw_U4-W2.js","./XpsTG8vq.js","./ZZC6mEJB.js","./BgHJjJs-.js","./DN9ov8OT.js","./nBDBqKnC.js","./BdKfYASf.js","./B1Lg5z9T.js","./CLTNKp0S.js","./8-c-A7PB.js","./kRIii9yh.js","./Cfcu-t3n.js","./C6Y-ieo6.js","./b-_TUx9i.js","./DaNf1Wdt.js","./CKXZhss7.js","./Cpt2kRVT.js","./pUN2d83w.js","./BwTGIg9g.js","./BWWuJQeZ.js","./9bDOsXij.js","./BNVdDQJV.js","./Dp_0VxUw.js","./DUklDWBW.js","./--UdezPG.js","./BYwSSEjb.js","./CfxLE1oh.js","./EHoVw6ZP.js","./BstbYvQo.js","./CqN3ElKI.js","./BaNg8fjw.js","./DlAUqK2U.js","./DNgvVYsj.js","./BO1GPLSL.js","./BYK_1AlN.js","./BJ_E6Ph7.js","./DSMB-qMT.js","./B128ot1i.js","./CoMGTw2w.js","./CP4Zo7YT.js","./BUyfW8JT.js","./DaWZu8wl.js","./BYo0KDyg.js","./CBooyAK7.js"])))=>i.map(i=>d[i]);
import{d as Y,aq as Z,b as ee,Q as te,s as $,aM as oe,g as E,i as se,c as f,o as u,q as r,j as I,t as ae,l as n,p as e,v as d,k as p,_ as ne,x as k,F as ie,B as ce,R as S,y as le,U as M}from"#entry";import re from"./--UdezPG.js";import{_ as de}from"./EHoVw6ZP.js";import{_ as me}from"./BwTGIg9g.js";import{_ as pe}from"./lw_U4-W2.js";import{_ as ue}from"./CJG2iIES.js";import{_ as _e}from"./B1Lg5z9T.js";import{_ as fe}from"./D-yR6Fj9.js";import{_ as he}from"./DgnnKcyj.js";import{f as ge,g as ve,c as be,h as ye,i as ke}from"./BNVdDQJV.js";import{u as Se}from"./FihYtau-.js";import{u as Me}from"./B93AZ-4h.js";import"./8-c-A7PB.js";import"./DN9ov8OT.js";import"./TH-3OOuG.js";import"./b-_TUx9i.js";import"./DaNf1Wdt.js";import"./CKXZhss7.js";import"./Cfcu-t3n.js";import"./BstbYvQo.js";import"./B22A-h4k.js";import"./BWWuJQeZ.js";import"./9bDOsXij.js";import"./pUN2d83w.js";import"./Cpt2kRVT.js";import"./nBDBqKnC.js";import"./BgHJjJs-.js";import"./XpsTG8vq.js";import"./CLTNKp0S.js";import"./kRIii9yh.js";import"./C6Y-ieo6.js";import"./Bub1HYiY.js";import"./Dn8X9Gvz.js";import"./DlAUqK2U.js";const xe={class:"provider-list-container pb-5"},we={class:"bg-background sticky top-0 z-10 flex flex-wrap gap-4 pb-2"},Ce={class:"flex items-center gap-2 md:ml-auto"},De={class:"flex items-center gap-2"},Ue={class:"text-accent-foreground text-sm dark:text-gray-400"},Ve={class:"mt-2 grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4"},Ae={key:1,class:"flex h-[calc(100vh-13rem)] items-center justify-center"},ze={class:"flex items-center gap-3"},Te={class:"text-accent-foreground"},$e={key:2,class:"flex h-[calc(100vh-13rem)] flex-col items-center justify-center"},Ee={class:"text-secondary-foreground mb-2 text-lg font-medium"},Ie={class:"text-accent-foreground"},Pe={key:3,class:"bg-background sticky bottom-0 z-10 flex items-center justify-between gap-3 py-4"},Be={class:"text-muted text-sm"},Re={class:"flex items-center gap-1.5"},yt=Y({__name:"list",setup(je){const P=S(()=>M(()=>import("./DSkfcXhE.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28]),import.meta.url)),B=S(()=>M(()=>import("./DUklDWBW.js"),__vite__mapDeps([29,1,30,31,9,32,33,15,10,3,19,20,21,17,34,5,35,36,37,8,11,38,39,14,16,18,22,23,4,40,41,42,43,44,45,7,27,46,47]),import.meta.url)),R=S(()=>M(()=>import("./BYo0KDyg.js"),__vite__mapDeps([48,1,2,3,4,5,6,7,49,40,41,42,19,17,43,44,45,27]),import.meta.url)),h=Z(),{t:s}=ee(),x=te(),i=$(new Set),_=oe({name:"",isDisabled:null}),w=$([]),{paging:a,getLists:m}=Se({fetchFun:ge,params:_}),j=(t,o)=>{if(typeof o=="boolean"){const c=t.id;o?i.value.add(c):i.value.delete(c)}},q=t=>{t===!0?a.items.forEach(c=>{c.id&&i.value.add(c.id)}):i.value.clear()},C=async t=>{try{await Me({title:s("ai-mcp.backend.deleteTitle"),description:s("ai-mcp.backend.deleteMessage"),color:"error"}),Array.isArray(t)?(await ye(t),h.success(s("ai-mcp.backend.deleteSuccess"))):(await ke(t),h.success(s("ai-mcp.backend.deleteSuccess"))),i.value.clear(),m()}catch(o){console.error("Delete failed:",o)}},L=t=>{t.id&&C(t.id)},O=()=>{const t=Array.from(i.value);t.length!==0&&C(t)},g=async(t="",o=!1)=>{await x.create(B).open({id:t,isJsonImport:o,"onChange-update":b=>{w.value=b||[]}}).result&&m()},F=async t=>{await x.create(R).open({id:t}).result&&m()},N=t=>{F(t)},D=()=>{g()},U=()=>{g("",!0)},Q=async t=>{try{await ve(t.id),m(),h.success(s("ai-mcp.backend.quickMenuSuccess"))}catch(o){console.error("Set quick menu failed:",o)}},G=t=>{g(t.id)},J=async(t,o)=>{try{await be(t,{isDisabled:o}),h.success(o?"MCP已禁用":"MCP已启用"),m()}catch(c){console.error("Toggle provider active failed:",c)}},K=E(()=>a.items.length>0&&a.items.every(t=>t.id&&i.value.has(t.id))),H=E(()=>{const t=a.items.filter(o=>o.id&&i.value.has(o.id)).length;return t>0&&t<a.items.length});return se(()=>m()),(t,o)=>{const c=re,v=de,V=me,b=pe,y=ne,A=ue,z=_e,W=fe,T=le,X=he;return u(),f("div",xe,[r("div",we,[n(c,{modelValue:e(_).name,"onUpdate:modelValue":o[0]||(o[0]=l=>e(_).name=l),class:"w-70",placeholder:e(s)("ai-mcp.backend.search.placeholder"),onChange:e(m)},null,8,["modelValue","placeholder","onChange"]),n(v,{modelValue:e(_).isDisabled,"onUpdate:modelValue":o[1]||(o[1]=l=>e(_).isDisabled=l),items:[{label:e(s)("ai-mcp.backend.search.all"),value:null},{label:e(s)("console-common.enabled"),value:!1},{label:e(s)("console-common.disabled"),value:!0}],class:"w-fit","label-key":"label","value-key":"value",placeholder:e(s)("ai-mcp.backend.search.status"),onChange:e(m)},null,8,["modelValue","items","placeholder","onChange"]),r("div",Ce,[r("div",De,[n(V,{"model-value":e(K)?!0:e(H)?"indeterminate":!1,"onUpdate:modelValue":q},null,8,["model-value"]),r("span",Ue,d(e(i).size)+" / "+d(e(a).items.length)+" "+d(e(s)("console-common.selected")),1)]),n(A,{codes:["ai-mcp-servers:delete"]},{default:p(()=>[n(y,{color:"error",variant:"subtle",label:e(s)("console-common.batchDelete"),icon:"i-heroicons-trash",disabled:e(i).size===0,onClick:O},{trailing:p(()=>[n(b,null,{default:p(()=>[k(d(e(i).size),1)]),_:1})]),_:1},8,["label","disabled"])]),_:1}),n(A,{codes:["ai-mcp-servers:create"]},{default:p(()=>[n(z,{size:"lg",items:[{label:e(s)("ai-mcp.backend.quickCreateTitle"),icon:"i-heroicons-plus",color:"primary",onSelect:()=>D()},{label:e(s)("ai-mcp.backend.importTitle"),icon:"i-lucide-file-json-2",color:"primary",onSelect:()=>U()}],content:{align:"start",side:"bottom",sideOffset:8},ui:{content:"w-48"}},{default:p(()=>[n(y,{icon:"i-heroicons-plus",color:"primary"},{default:p(()=>[k(d(e(s)("ai-mcp.backend.addTitle")),1)]),_:1})]),_:1},8,["items"])]),_:1})])]),!e(a).loading&&e(a).items.length>0?(u(),I(W,{key:0,class:"h-[calc(100vh-13rem)]",shadow:!1},{default:p(()=>[r("div",Ve,[(u(!0),f(ie,null,ce(e(a).items,l=>(u(),I(e(P),{key:l.id,mcpServer:l,selected:e(i).has(l.id),isUpdate:e(w),onSelect:j,onDelete:L,onEdit:G,onViewModels:N,onToggleActive:J,onSetQuickMenu:Q},null,8,["mcpServer","selected","isUpdate"]))),128))])]),_:1})):e(a).loading?(u(),f("div",Ae,[r("div",ze,[n(T,{name:"i-lucide-loader-2",class:"text-primary-500 h-6 w-6 animate-spin"}),r("span",Te,d(t.$t("common.loading")),1)])])):(u(),f("div",$e,[n(T,{name:"i-lucide-building",class:"text-muted-foreground mb-4 h-16 w-16"}),r("h3",Ee,d(t.$t("ai-mcp.backend.emptyState")),1),r("p",Ie,d(t.$t("ai-mcp.backend.emptyStateDescription")),1),n(z,{size:"lg",items:[{label:e(s)("ai-mcp.backend.quickCreateTitle"),icon:"i-heroicons-plus",color:"primary",onSelect:()=>D()},{label:e(s)("ai-mcp.backend.importTitle"),icon:"i-lucide-file-json-2",color:"primary",onSelect:()=>U()}],content:{align:"start",side:"bottom",sideOffset:8},ui:{content:"w-48"}},{default:p(()=>[n(y,{class:"mt-4",icon:"i-heroicons-plus",color:"primary"},{default:p(()=>[k(d(t.$t("ai-mcp.backend.addFirstMcpServer")),1)]),_:1})]),_:1},8,["items"])])),e(a).total>0?(u(),f("div",Pe,[r("div",Be,d(e(i).size)+" "+d(t.$t("console-common.selected")),1),r("div",Re,[n(X,{page:e(a).page,"onUpdate:page":o[2]||(o[2]=l=>e(a).page=l),size:e(a).pageSize,"onUpdate:size":o[3]||(o[3]=l=>e(a).pageSize=l),total:e(a).total,onChange:e(m)},null,8,["page","size","total","onChange"])])])):ae("",!0)])}}});export{yt as default};
