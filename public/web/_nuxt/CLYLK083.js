const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./D_qQy8kW.js","./--UdezPG.js","./CpacWlXu.js","./BYwSSEjb.js","./BgHJjJs-.js","./BYK_1AlN.js","./BJ_E6Ph7.js","./DSMB-qMT.js","./b-_TUx9i.js","./B22A-h4k.js","./Cfcu-t3n.js","./B128ot1i.js","./CoMGTw2w.js","./CP4Zo7YT.js","./XpsTG8vq.js","./ej5TrWQl.js"])))=>i.map(i=>d[i]);
import{d as S,b0 as A,b as C,aq as B,ap as D,aK as E,c as k,q as l,v as i,p as e,l as o,k as t,b1 as F,o as v,R as w,_ as L,x as f,j as P,U as y}from"#entry";import{_ as T}from"./CqN3ElKI.js";import $ from"./--UdezPG.js";import{_ as j}from"./BYwSSEjb.js";import{_ as q}from"./DBjGnECu.js";import"./BaNg8fjw.js";import"./DlAUqK2U.js";import"./BgHJjJs-.js";const M={class:"mx-auto md:w-[600px] lg:w-[750px] xl:w-[850px]"},R={class:"mt-8 mb-6 text-lg font-medium"},O={class:"bg-accent mb-6 flex items-center rounded-xl p-6"},K={class:"ml-4"},W={class:"text-foreground text-md font-semibold"},G={class:"text-muted-foreground mt-1 text-sm"},H={class:"space-y-8"},J={class:"flex items-center gap-2"},Q={class:"flex-none"},X={class:"flex items-center gap-2"},Y={class:"flex items-center gap-2"},Z={class:"flex items-center gap-2"},ee={class:"flex items-center gap-2"},oe={class:"flex items-center gap-2"},se={key:1},ne={class:"mt-8 mb-6 text-lg font-medium"},le={class:"space-y-8"},te={class:"flex items-center gap-2"},ae={class:"flex-none"},re={class:"flex items-center gap-2"},ge=S({__name:"index",setup(ie){const h=w(()=>y(()=>import("./D_qQy8kW.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14]),import.meta.url)),z=w(()=>y(()=>import("./ej5TrWQl.js"),__vite__mapDeps([15,2,1,3,4,5,6,7,8,9,10,11,12,13,14]),import.meta.url)),{copy:g}=A(),{t:s}=C(),p=B(),n=D(),{lockFn:x,isLock:b}=E(async(I,a)=>{try{const m=await F({field:I,value:a});n.getUser(),p.success(m.message)}catch(m){console.error("修改失败:",m)}});async function V(){n.userInfo?.userNo&&(await g(n.userInfo.userNo),p.success(s("console-common.messages.copySuccess")))}async function U(){n.userInfo?.username&&(await g(n.userInfo.username),p.success(s("console-common.messages.copySuccess")))}function _(){p.info(s("user.frontend.profile.featureNotAvailable"))}return(I,a)=>{const m=T,u=$,c=L,d=j,N=q;return v(),k("div",M,[l("section",null,[l("h2",R,i(e(s)("user.frontend.profile.myAccount")),1),l("div",O,[l("div",null,[o(m,{modelValue:e(n).userInfo.avatar,"onUpdate:modelValue":a[0]||(a[0]=r=>e(n).userInfo.avatar=r),class:"size-16 overflow-hidden !rounded-full",text:e(s)("user.frontend.profile.uploadAvatar"),icon:"i-lucide-user",accept:".jpg,.png,.jpeg",maxCount:1,single:!0,onSuccess:a[1]||(a[1]=r=>e(x)("avatar",r.url))},null,8,["modelValue","text"])]),l("div",K,[l("div",W,i(e(n).userInfo?.nickname||e(s)("user.frontend.profile.notSet")),1),l("div",G,i(e(n).userInfo?.phone||e(n).userInfo?.email||"-"),1)])]),l("div",H,[o(d,{label:e(s)("user.frontend.profile.nickname"),required:"",name:"nickname"},{default:t(()=>[l("div",J,[o(u,{modelValue:e(n).userInfo.nickname,"onUpdate:modelValue":a[2]||(a[2]=r=>e(n).userInfo.nickname=r),variant:"soft",color:"neutral",size:"lg",disabled:"",ui:{root:"w-full"}},null,8,["modelValue"]),l("div",Q,[o(e(h),{loading:e(b),"current-value":e(n).userInfo?.nickname,class:"flex-none",size:"lg",onSuccess:a[3]||(a[3]=r=>e(x)("nickname",r))},{default:t(()=>[o(c,{variant:"soft"},{default:t(()=>[f(i(e(s)("console-common.edit")),1)]),_:1})]),_:1},8,["loading","current-value"])])])]),_:1},8,["label"]),o(d,{label:e(s)("user.frontend.profile.userNo"),name:"userNo"},{default:t(()=>[l("div",X,[o(u,{modelValue:e(n).userInfo.userNo,"onUpdate:modelValue":a[4]||(a[4]=r=>e(n).userInfo.userNo=r),variant:"soft",color:"neutral",size:"lg",disabled:"",ui:{root:"w-full"}},null,8,["modelValue"]),o(c,{size:"lg",class:"flex-none",variant:"soft",onClick:V},{default:t(()=>[f(i(e(s)("console-common.copy")),1)]),_:1})])]),_:1},8,["label"]),o(d,{label:e(s)("user.frontend.profile.username"),name:"username"},{default:t(()=>[l("div",Y,[o(u,{modelValue:e(n).userInfo.username,"onUpdate:modelValue":a[5]||(a[5]=r=>e(n).userInfo.username=r),variant:"soft",color:"neutral",size:"lg",disabled:"",ui:{root:"w-full"}},null,8,["modelValue"]),o(c,{size:"lg",class:"flex-none",variant:"soft",onClick:U},{default:t(()=>[f(i(e(s)("console-common.copy")),1)]),_:1})])]),_:1},8,["label"]),o(d,{label:e(s)("user.frontend.profile.email"),name:"email"},{default:t(()=>[l("div",Z,[o(u,{"model-value":e(n).userInfo.email||"-",variant:"soft",color:"neutral",size:"lg",disabled:"",ui:{root:"w-full"}},null,8,["model-value"]),o(c,{size:"lg",class:"flex-none",variant:"soft",onClick:_},{default:t(()=>[f(i(e(s)("console-common.update")),1)]),_:1})])]),_:1},8,["label"]),o(d,{label:e(s)("user.frontend.profile.phone"),name:"phone"},{default:t(()=>[l("div",ee,[o(u,{"model-value":e(n).userInfo.phone||"-",variant:"soft",color:"neutral",size:"lg",disabled:"",ui:{root:"w-full"}},null,8,["model-value"]),o(c,{size:"lg",class:"flex-none",variant:"soft",onClick:_},{default:t(()=>[f(i(e(s)("console-common.update")),1)]),_:1})])]),_:1},8,["label"]),o(d,{label:e(s)("user.frontend.profile.registrationTime"),name:"createdAt"},{default:t(()=>[l("div",oe,[o(u,{variant:"soft",color:"neutral",size:"lg",disabled:"",ui:{root:"w-full"}},{leading:t(()=>[e(n).userInfo?.createdAt?(v(),P(N,{key:0,datetime:e(n).userInfo.createdAt,mode:"datetime"},null,8,["datetime"])):(v(),k("span",se,"-"))]),_:1})])]),_:1},8,["label"])])]),l("section",null,[l("h2",ne,i(e(s)("user.frontend.profile.accountSecurity")),1),l("div",le,[o(d,{label:e(s)("user.frontend.profile.loginPassword"),name:"password"},{default:t(()=>[l("div",te,[o(u,{"model-value":e(n).userInfo.password?e(s)("user.frontend.profile.passwordSet"):e(s)("user.frontend.profile.passwordSet"),variant:"soft",color:"neutral",size:"lg",disabled:"",ui:{root:"w-full"}},null,8,["model-value"]),l("div",ae,[o(e(z),{loading:e(b),class:"flex-none",size:"lg"},{default:t(()=>[o(c,{size:"lg",variant:"soft"},{default:t(()=>[f(i(e(s)("console-common.update")),1)]),_:1})]),_:1},8,["loading"])])])]),_:1},8,["label"]),o(d,{label:e(s)("user.frontend.profile.deactivateAccount"),name:"deactivate"},{default:t(()=>[l("div",re,[o(u,{"model-value":e(s)("user.frontend.profile.deactivateWarning"),variant:"soft",color:"neutral",size:"lg",disabled:"",ui:{root:"w-full"}},null,8,["model-value"]),o(c,{size:"lg",class:"flex-none",variant:"soft",color:"error",onClick:_},{default:t(()=>[f(i(e(s)("user.frontend.profile.deactivate")),1)]),_:1})])]),_:1},8,["label"])])])])}}});export{ge as default};
