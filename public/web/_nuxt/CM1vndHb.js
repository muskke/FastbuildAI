import{d as U,ap as w,ar as C,b as K,s as B,g as E,i as D,c as h,o as y,q as v,l as n,v as u,k as s,_ as S,x,j as V,p as t,bE as z,C as L}from"#entry";import{_ as N}from"./5XG8SC4l.js";import{_ as R}from"./Cif_tCX1.js";import{_ as q}from"./CB78hAg2.js";import{_ as A}from"./jQG0lB_l.js";import{c as F,d as M}from"./lTGkHaAc.js";import{u as j}from"./Dx01Lm3C.js";import"./BgHJjJs-.js";import"./CR1AS2Ry.js";import"./C3zg6GHm.js";const G={class:"system-payConfig p-2"},I={class:"mb-6"},H={class:"text-secondary-foreground text-2xl font-bold"},J={key:1},ne=U({__name:"index",setup(O){const f=w(),P=C(),{t:e}=K(),_=B([]),$=E(()=>[{accessorKey:"logo",header:e("payment-config.logo")},{accessorKey:"payType",header:e("payment-config.payType")},{accessorKey:"name",header:e("payment-config.name")},{accessorKey:"isEnable",header:e("payment-config.isEnable")},{accessorKey:"isDefault",header:e("payment-config.isDefault")},{accessorKey:"sort",header:e("payment-config.sort")},{accessorKey:"action",header:e("payment-config.action")}]),k=z(async(o,c)=>{try{await M(o,c),f.success(e("system.website.messages.saveSuccess")),g()}catch{f.error(e("system.website.messages.saveFailed"))}},1e3),g=async()=>{const o=await F();_.value=o.map(({id:c,name:r,payType:i,isEnable:l,logo:d,isDefault:m,sort:p})=>({id:c,name:r,payType:i,isEnable:l,logo:d,isDefault:m,sort:p}))},T=o=>{P.push({path:j("system-payconfig:update"),query:{id:o}})};return D(()=>g()),(o,c)=>{const r=L,i=N,l=R,d=S,m=q,p=A;return y(),h("div",G,[v("div",I,[v("h1",H,u(o.$t("payment-config.title")),1)]),n(p,{columns:t($),data:t(_),ui:{base:"table-fixed border-separate border-spacing-0",thead:"[&>tr]:bg-elevated/50 [&>tr]:after:content-none",tbody:"[&>tr]:last:[&>td]:border-b-0",th:"py-2 first:rounded-l-lg last:rounded-r-lg border-y border-default first:border-l last:border-r",td:"border-b border-default",tr:"[&:has(>td[colspan])]:hidden"}},{"logo-cell":s(({row:a})=>[n(r,{src:a.original.logo,alt:a.original.payType===1?t(e)("payment-config.wxPay"):t(e)("payment-config.alipayPay"),size:"md",ui:{root:"rounded-lg"}},null,8,["src","alt"])]),"payType-cell":s(({row:a})=>[x(u(a.original.payType===1?t(e)("payment-config.wxPay"):t(e)("payment-config.aliPay")),1)]),"isEnable-cell":s(({row:a})=>[n(i,{"model-value":a.original.isEnable===1,"onUpdate:modelValue":b=>t(k)(a.original.id,b?1:0),size:"md"},null,8,["model-value","onUpdate:modelValue"])]),"isDefault-cell":s(({row:a})=>[a.original.isDefault===1?(y(),V(l,{key:0,label:t(e)("console-common.default"),color:"success"},null,8,["label"])):(y(),h("div",J))]),"action-cell":s(({row:a})=>[n(m,{codes:["system-payconfig:update"]},{default:s(()=>[n(d,{size:"md",variant:"ghost",color:"primary",onClick:b=>T(a.original.id)},{default:s(()=>[x(u(o.$t("console-common.edit")),1)]),_:1},8,["onClick"])]),_:2},1024)]),_:1},8,["columns","data"])])}}});export{ne as default};
