import{_ as z}from"./ybFaAORl.js";import{d as R,ap as F,s as _,b as N,aJ as j,j as v,o as g,k as m,l as i,q as a,p as n,A as b,t as k,y as L,v as u,_ as q,x as $,bs as T}from"#entry";import{_ as A}from"./ql0_WxJN.js";import D from"./BruVSCWF.js";import{_ as M}from"./DS-TE4M7.js";import{_ as P}from"./CXUt0j5Y.js";import{k as J}from"./ChM0pAjz.js";import"./DHFmmngs.js";import"./DuSMYVIA.js";import"./CuOaO1Pb.js";import"./D6yWePie.js";import"./DVnbt8cp.js";import"./Cif_tCX1.js";import"./BdImEx5p.js";import"./oFTPHjuc.js";import"./BcsO9TDZ.js";import"./DlAUqK2U.js";import"./BgHJjJs-.js";import"./-Eb02sIQ.js";import"./Dk6FGhu1.js";import"./BPKB8n-W.js";import"./MN31c9CG.js";import"./CCcv9mzY.js";import"./BFAo_s2U.js";import"./Cb04SOqd.js";import"./VGKgjfSv.js";const S={class:"py-10"},E={class:"hover:bg-accent border-muted group flex h-full w-full items-center gap-2 rounded-md border"},G={class:"ml-4 flex size-8 flex-none items-center justify-center gap-2"},H={class:"flex w-full flex-col justify-center truncate pr-4"},K={class:"truncate text-sm font-medium"},O={class:"text-muted-foreground text-xs"},Q={class:"absolute right-4 hidden group-hover:block"},W={class:"flex justify-end gap-2"},Ve=R({__name:"agent-dsl-import",emits:["close"],setup(X,{emit:x}){const d=x,c=F(),l=_("file"),r=_(""),s=_(""),{t:p}=N(),{lockFn:w,isLock:y}=j(async()=>{if(l.value==="file"&&!r.value){c.error(p("ai-agent.backend.dslImport.errors.fileRequired"));return}if(l.value==="url"&&!s.value){c.error(p("ai-agent.backend.dslImport.errors.urlRequired"));return}else if(l.value==="url"&&s.value){const o=await T({url:s.value,description:`Remote file: ${s.value}`});s.value=o.url}await J({content:l.value==="file"?r.value:s.value,format:"yaml"}),c.success(p("ai-agent.backend.dslImport.success")),d("close",!0)});return(o,e)=>{const I=z,V=L,f=q,U=A,h=D,C=M,B=P;return g(),v(B,{title:o.$t("ai-agent.backend.dslImport.title"),description:o.$t("ai-agent.backend.dslImport.description"),ui:{content:"max-w-lg"},onClose:e[5]||(e[5]=t=>d("close",!1))},{default:m(()=>[i(I,{modelValue:n(l),"onUpdate:modelValue":e[0]||(e[0]=t=>b(l)?l.value=t:null),size:"md",variant:"link",content:!1,items:[{label:o.$t("ai-agent.backend.dslImport.tabs.file"),value:"file"},{label:o.$t("ai-agent.backend.dslImport.tabs.url"),value:"url"}],ui:{trigger:"px-0! mr-5!"},class:"w-auto"},null,8,["modelValue","items"]),a("div",S,[n(l)==="file"?(g(),v(U,{key:0,modelValue:n(r),"onUpdate:modelValue":e[2]||(e[2]=t=>b(r)?r.value=t:null),accept:".yaml,.yml",multiple:!1,maxCount:1,single:!0,icon:"i-lucide-cloud-upload",showPreviewButton:!1,addButtonClassName:"flex-row",class:"bg-muted h-14 w-full border-none! shadow-none! ring-0!"},{"file-item":m(({item:t})=>[a("div",E,[a("div",G,[i(V,{name:"bd:yml",class:"text-muted-foreground size-6 flex-none"})]),a("div",H,[a("p",K,u(t.name),1),a("p",O,u(t.extension?.toUpperCase()),1)]),a("div",Q,[i(f,{color:"error",variant:"soft",size:"sm",icon:"i-lucide-trash",onClick:e[1]||(e[1]=Y=>r.value="")})])])]),_:1},8,["modelValue"])):k("",!0),n(l)==="url"?(g(),v(C,{key:1,label:o.$t("ai-agent.backend.dslImport.form.urlLabel"),name:"url"},{default:m(()=>[i(h,{modelValue:n(s),"onUpdate:modelValue":e[3]||(e[3]=t=>b(s)?s.value=t:null),ui:{root:"w-full"},variant:"soft",size:"lg",placeholder:o.$t("ai-agent.backend.dslImport.form.urlPlaceholder")},null,8,["modelValue","placeholder"])]),_:1},8,["label"])):k("",!0)]),a("div",W,[i(f,{color:"neutral",variant:"soft",size:"lg",onClick:e[4]||(e[4]=t=>d("close",!1))},{default:m(()=>[$(u(o.$t("console-common.cancel")),1)]),_:1}),i(f,{color:"primary",size:"lg",loading:n(y),onClick:n(w)},{default:m(()=>[$(u(o.$t("console-common.create")),1)]),_:1},8,["loading","onClick"])])]),_:1},8,["title","description"])}}});export{Ve as default};
