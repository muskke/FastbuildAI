const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./DaBmeODo.js","./IZm275qp.js","./DgQWEoyF.js","./BcsO9TDZ.js","./DlAUqK2U.js","./i5AwkGQh.js","./C1DLXs69.js","./BruVSCWF.js","./-Eb02sIQ.js","./Dk6FGhu1.js","./BPKB8n-W.js","./DuSMYVIA.js","./MN31c9CG.js","./CCcv9mzY.js","./BFAo_s2U.js","./oFTPHjuc.js","./Cb04SOqd.js","./VGKgjfSv.js","./BMj8wqH1.js","./DZRmWkAo.js","./BwAI6jgh.js","./BP0i4hNs.js","./DHFmmngs.js","./CgMDXot0.js","./C6Y-ieo6.js","./Cif_tCX1.js","./C7UmhjTd.js","./BFVs1AfH.js","./kRIii9yh.js","./Btvd554H.js","./B-DdbQ-X.js","./V9POJiZu.js","./CuOaO1Pb.js","./D6yWePie.js","./3UOIlTK8.js","./DGIb7fSK.js","./DduSJdeS.js","./DpqVaa8n.js","./CcXhcZIb.js","./DJtfqkZo.js","./COxNVqQJ.js"])))=>i.map(i=>d[i]);
import{d as L,f as F,c as f,o as p,q as c,l as _,p as n,R as y,U as M,aI as te,bD as C,aH as w,bo as Y,cO as S,s as A,A as oe,b as se,g as x,j as R,k as P,bH as D,_ as ne,t as T,v as b,F as B,B as G,z as j,y as le,b$ as ae,b8 as re,w as ce,O as z,S as H}from"#entry";import{_ as ie}from"./i5AwkGQh.js";import{u as q}from"./C1DLXs69.js";import ue from"./BruVSCWF.js";import{_ as de}from"./-Eb02sIQ.js";import{c as me}from"./oFTPHjuc.js";import{d as pe}from"./Cb04SOqd.js";/* empty css        */const _e={class:"flex h-screen w-full flex-col overflow-hidden"},he={class:"w-full flex-none"},fe={class:"flex w-full flex-1 overflow-hidden"},ve={class:"flex-none"},be={class:"flex min-h-0 w-full flex-1 flex-col items-center"},ge=L({__name:"index",setup(t){const e=y(()=>M(()=>import("./DaBmeODo.js"),__vite__mapDeps([0,1]),import.meta.url)),l=y(()=>M(()=>import("./DgQWEoyF.js"),__vite__mapDeps([2,1,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17]),import.meta.url)),r=y(()=>M(()=>import("./BMj8wqH1.js"),__vite__mapDeps([18,19,1,20,21,11,22,23,24,25,26,27,28,29,12,10,30,31,32,33,34,35,36,17,5,3,4,6,7,8,9,13,14,15,16]),import.meta.url)),o=F(!1),s=()=>{o.value=!o.value};return(a,u)=>(p(),f("div",_e,[c("div",he,[_(n(l),{collapsed:n(o),onToggle:s},null,8,["collapsed"])]),c("div",fe,[c("div",ve,[_(n(r),{collapsed:n(o)},null,8,["collapsed"])]),c("div",be,[_(n(e),{layout:"mixture"})])])]))}});function N(t,e){return t+(e?.startsWith("/")?e:`/${e||""}`)}function K(t,e){return t.filter(l=>l.type!==S.BUTTON&&(e||!l.isHidden)).sort((l,r)=>(l.sort||0)-(r.sort||0))}function xe(t,e=""){const l=t.path?`/${t.path}`:"",r=`${e}${l}`;return`${C.CONSOLE}${r}`.replace(/\/+/g,"/").replace(/\/$/,"")}function W(t,e=""){const l=N(e,t.path);if(t.type===S.MENU&&!t.isHidden&&t.component)return`${C.CONSOLE}${l}`.replace(/\/+/g,"/");if(t.children?.length){const r=t.children.find(o=>!o.isHidden&&(o.component||o.children?.length));if(r)return W(r,l)}return`${C.CONSOLE}${l}`.replace(/\/+/g,"/")}function U(t,e="",l={}){const{$i18n:r}=Y(),{t:o}=r;let s=[];return K(t,!1).forEach(a=>{const u=xe(a,e),g=N(e,a.path),h=l.directoryToEmpty&&a.type===S.DIRECTORY||a.type===S.GROUP?void 0:W(a,e),v=a.children?.length?U(a.children,g,l):[],$=l.currentPath?l.currentPath.startsWith(u):!1,k=v.some(O=>O.defaultOpen||O.active),E=$||k;a.type===S.GROUP?(s.push({label:o(a.name)||a.name,type:"label",matchPath:u,children:[]}),a.children?.length&&(s=s.concat(v))):s.push({label:o(a.name)||a.name,icon:a.icon||"",to:h,matchPath:u,active:!!h&&$,defaultOpen:E,children:v})}),s}function Xe(){const t=w().menus;return U(t,"",{directoryToEmpty:!1})}function Ze(t){const e=w().menus;return U(e,"",{directoryToEmpty:!0,currentPath:t})}function ye(){return I(w().menus,(t,e,l)=>t.type===S.MENU?{id:String(t.id),name:t.name,icon:t.icon||"i-heroicons-squares-2x2-20-solid",iconClass:"bg-blue-100",type:"menu",path:e,parentName:l}:[])}function et(t=te().path,e="/",l="后台管理"){if(!t||t===e)return[{label:l,to:e,active:!0}];const{$i18n:r}=Y(),{t:o}=r,s=[];return I(w().menus,(a,u)=>{if(t===u||t.startsWith(u+"/")){if(a.type===1){s.push({name:a.name,path:""});return}s.push({name:a.name,path:u})}return[]}),s.sort((a,u)=>a.path.length-u.path.length),[{label:l,to:e},...s.map((a,u,g)=>({label:o(a.name),to:a.path,active:u===g.length-1}))]}function I(t,e,l=C.CONSOLE){return K(t,!0).flatMap(r=>{let o=N(l,r.path);o=o.replace(/\/+/g,"/");const s=e(r,o,l),a=r.children?.length?I(r.children,e,o):[];return[].concat(s,a)})}const Me={class:"bg-sidebar flex h-screen w-full overflow-hidden"},Se={class:"app-sidebar"},$e={class:"bg-background m-0 flex min-w-0 flex-1 flex-col items-center shadow-lg md:m-2 md:ml-0 md:rounded-xl"},Ee=L({__name:"index",setup(t){const e=y(()=>M(()=>import("./DaBmeODo.js"),__vite__mapDeps([0,1]),import.meta.url)),l=y(()=>M(()=>import("./DpqVaa8n.js"),__vite__mapDeps([37,1,19,20,21,11,22,23,24,25,26,27,28,29,12,10,30,31,32,33,34,35,36,17,5,3,4,38,9,13,14,16,15,6,7,8]),import.meta.url)),r=y(()=>M(()=>import("./DJtfqkZo.js"),__vite__mapDeps([39,1,40,15,3,5,4,6,7,8,9,10,11,12,13,14,16,17]),import.meta.url)),o=A(!1),s=A(!1),a=()=>{o.value=!o.value},u=()=>{s.value=!0};return(g,h)=>(p(),f("div",Me,[c("div",Se,[_(n(l),{collapsed:n(o),"mobile-menu":n(s),"onUpdate:mobileMenu":h[0]||(h[0]=v=>oe(s)?s.value=v:null)},null,8,["collapsed","mobile-menu"])]),c("div",$e,[_(n(r),{collapsed:n(o),"mobile-menu":n(s),onToggle:a,onOpenMobileMenu:u},null,8,["collapsed","mobile-menu"]),_(n(e),{layout:"sidebar"})])]))}}),Oe={class:"sr-only"},Te={class:"py-2"},Ce={class:"border-default relative flex items-center gap-2 border-b border-solid px-2 pb-2"},Le={key:0,class:"px-2 pt-4"},we={class:"text-foreground mb-2 pl-2 text-xs font-medium"},ke=["onClick"],Pe={class:"flex items-center"},Re={class:"ml-3 text-xs"},Ne={key:0,class:"text-muted-foreground mt-0.5 text-xs"},Ue={class:"bg-secondary rounded-md px-2 py-1 text-xs"},Ie={key:1,class:"flex h-46 items-center justify-center px-4"},Ve={class:"text-muted-foreground text-center text-sm"},Ae={class:"border-default mt-4 border-t border-solid px-2 pt-4"},De={class:"text-foreground mb-2 pl-2 text-xs font-medium"},Be={class:"flex flex-col gap-2 text-xs"},Ge=["onClick"],je=L({__name:"search-modal",setup(t){const{t:e}=se(),l=ae(),{store:r}=me(),o=q();pe({o:()=>o.toggleGlobalSearch()});const s=F(""),a=x(()=>[{id:"auto",label:e("common.theme.system"),icon:"i-heroicons-computer-desktop-20-solid"},{id:"light",label:e("common.theme.light"),icon:"i-heroicons-sun-20-solid"},{id:"dark",label:e("common.theme.dark"),icon:"i-heroicons-moon-20-solid"}]),u=x(()=>ye()),g=x(()=>u.value),h=x(()=>{if(!s.value)return g.value;const m=s.value.toLowerCase().trim();return g.value.filter(d=>e(d.name).toLowerCase().includes(m)||d.parentName&&d.parentName.toLowerCase().includes(m)||d.path&&d.path.toLowerCase().includes(m))}),v=x(()=>({menus:h.value.filter(d=>d.type==="menu")})),$=x(()=>s.value.trim()===""||h.value.length>0),k=()=>{if(h.value.length===1&&h.value[0]?.path){const m=h.value[0];m&&E(m)}},E=m=>{m.path&&l.push(m.path),s.value="",o.toggleGlobalSearch()},O=m=>{r.value=m,localStorage.setItem("nuxt-ui-color-mode",m),o.toggleGlobalSearch()};return(m,d)=>{const Q=ue,J=ne,V=le,X=ie,Z=de;return p(),R(Z,{open:n(o).globalSearchVisible,"onUpdate:open":d[3]||(d[3]=i=>n(o).globalSearchVisible=i),title:n(e)("common.search"),description:n(e)("console-common.searchPlaceholder"),ui:{content:"z-999"}},{header:P(()=>[c("span",Oe,b(n(e)("common.search")),1)]),content:P(()=>[c("div",Te,[c("div",Ce,[_(Q,{modelValue:s.value,"onUpdate:modelValue":d[0]||(d[0]=i=>s.value=i),placeholder:n(e)("console-common.searchPlaceholder"),icon:"i-heroicons-magnifying-glass-20-solid",class:"w-full",variant:"none",autofocus:"",onKeydown:[d[1]||(d[1]=D(i=>n(o).toggleGlobalSearch(),["esc"])),D(k,["enter"])]},null,8,["modelValue","placeholder"]),_(J,{color:"neutral",variant:"ghost",size:"sm",icon:"i-lucide-x","aria-label":"Close search",onClick:d[2]||(d[2]=i=>n(o).toggleGlobalSearch())})]),_(X,{class:"h-90",type:"auto"},{default:P(()=>[$.value&&v.value.menus.length>0?(p(),f("div",Le,[c("div",we,b(s.value?n(e)("console-common.searchResult"):n(e)("console-common.menu")),1),(p(!0),f(B,null,G(v.value.menus,i=>(p(),f("div",{key:i.id,class:"hover:bg-muted flex cursor-pointer items-center justify-between rounded-md p-3 transition-colors",onClick:ee=>E(i)},[c("div",Pe,[c("div",{class:j(["bg-primary text-background flex h-8 w-8 items-center justify-center rounded-md",i.iconClass])},[_(V,{name:i.icon,class:"text-lg"},null,8,["name"])],2),c("div",Re,[c("div",null,b(n(e)(i.name)),1),i.parentName?(p(),f("div",Ne,b(i.parentName),1)):T("",!0)])]),c("div",Ue,b(n(e)("console-common.menu")),1)],8,ke))),128))])):T("",!0),s.value&&!$.value?(p(),f("div",Ie,[c("div",Ve,b(n(e)("console-common.searchNoResult",{query:s.value})),1)])):T("",!0),c("div",Ae,[c("div",De,b(n(e)("common.theme.theme")),1),c("div",Be,[(p(!0),f(B,null,G(a.value,i=>(p(),f("div",{key:i.id,class:j(["hover:bg-muted flex cursor-pointer items-center gap-2 rounded-md px-3 py-1.5 transition-all duration-150",[n(r)===i.id?"bg-secondary text-primary":"text-foreground-lighter"]]),onClick:ee=>O(i.id)},[_(V,{name:i.icon,class:"text-lg"},null,8,["name"]),c("div",null,b(i.label),1)],10,Ge))),128))])])]),_:1})])]),_:1},8,["open","title","description"])}}}),ze=L({__name:"console",setup(t){const e=q(),l=re("(max-width: 768px)");return ce(l,o=>{if(o&&e.consoleLayoutMode!=="side")e.consoleTempLayoutMode=e.consoleLayoutMode,e.consoleLayoutMode="side",z(H.LAYOUT_MODE).value="side";else if(!o&&e.consoleTempLayoutMode){const s=e.consoleTempLayoutMode;e.consoleLayoutMode=s,z(H.LAYOUT_MODE).value=s,e.consoleTempLayoutMode=""}},{immediate:!0}),(o,s)=>(p(),f("main",null,[n(e).consoleLayoutMode==="side"?(p(),R(n(Ee),{key:0})):n(e).consoleLayoutMode==="mixture"?(p(),R(n(ge),{key:1})):T("",!0),_(n(je))]))}}),tt=Object.freeze(Object.defineProperty({__proto__:null,default:ze},Symbol.toStringTag,{value:"Module"}));export{Ze as a,Xe as b,et as c,tt as d};
