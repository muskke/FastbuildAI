import{d as j,b as E,g as _,f as F,ah as L,j as h,o as u,k as r,q as l,l as n,x as g,v as d,p,y as M,n as P,A as q,c as x,t as D,B as R,F as G,C as H,z as J,aT as K}from"#entry";import{_ as O}from"./DGIb7fSK.js";import{_ as Q}from"./Cif_tCX1.js";import{_ as W}from"./5XG8SC4l.js";import{_ as X}from"./CB78hAg2.js";import{_ as Y}from"./KP0vbSC4.js";import{u as Z}from"./BJ10eFuk.js";import"./Btvd554H.js";import"./3UOIlTK8.js";import"./DuSMYVIA.js";import"./DduSJdeS.js";import"./VGKgjfSv.js";import"./BgHJjJs-.js";import"./CR1AS2Ry.js";import"./C3zg6GHm.js";import"./CQBV3TNh.js";import"./BFVs1AfH.js";import"./DHFmmngs.js";import"./kRIii9yh.js";import"./MN31c9CG.js";import"./C6Y-ieo6.js";import"./BPKB8n-W.js";import"./B-DdbQ-X.js";import"./V9POJiZu.js";import"./CuOaO1Pb.js";import"./D6yWePie.js";import"./ptVgWJmt.js";import"./CgMDXot0.js";import"./DVnbt8cp.js";const ee={class:"flex items-center justify-between"},oe={class:"text-secondary-foreground flex items-center text-base font-semibold"},te={class:"line-clamp-1 shrink-0"},ie={class:"text-muted-foreground mr-2 ml-1 line-clamp-1 shrink-0 text-sm"},re={key:0,class:"text-muted-foreground line-clamp-2 text-xs"},se={class:"flex flex-row flex-wrap gap-1"},ne={class:"flex items-center justify-between gap-2"},Ee=j({__name:"provider-card",props:{provider:{},selected:{type:Boolean,default:!1}},emits:["select","delete","edit","view-models","toggle-active"],setup(o,{emit:b}){const t=o,m=b,{t:c}=E(),{hasAccessByCodes:f}=Z();function k(e){return e?{label:c("console-common.enabled"),color:"success",icon:"i-lucide-check-circle"}:{label:c("console-common.disabled"),color:"error",icon:"i-lucide-x-circle"}}const y=_(()=>{const e=[];return f(["ai-provider.backends:update"])&&e.push({label:c("console-common.edit"),icon:"i-lucide-edit",onSelect:()=>m("edit",t.provider)}),f(["ai-provider.backends:delete"])&&!t.provider.isBuiltIn&&(e.length>0&&e.push({type:"separator",label:"",onSelect:()=>{}}),e.push({label:c("console-common.delete"),icon:"i-lucide-trash-2",color:"error",onSelect:()=>m("delete",t.provider)})),e}),C=_(()=>k(t.provider.isActive));function w(){m("view-models",t.provider.id)}function A(e){typeof e=="boolean"&&m("select",t.provider,e)}const i=F(t.provider.isActive);L(()=>{i.value=t.provider.isActive});const B=async()=>{const e=!i.value;try{m("toggle-active",t.provider.id,i.value),await new Promise(s=>setTimeout(s,200)),t.provider.isActive!==i.value&&(i.value=e)}catch(s){i.value=e,console.error("Toggle provider active failed:",s)}};return(e,s)=>{const U=H,$=K,S=O,v=Q,T=M,V=W,I=X,z=Y;return u(),h(z,{selectable:"",clickable:"","show-actions":"",variant:"outlined",class:"cursor-pointer",selected:o.selected,actions:p(y),onSelect:A,onClick:w},{icon:r(({groupHoverClass:a,selectedClass:N})=>[n($,{position:o.provider.isActive?"top-right":void 0,color:p(C).color},{default:r(()=>[n(U,{src:o.provider.iconUrl,alt:o.provider.name,size:"3xl",ui:{root:"rounded-lg",fallback:"text-inverted"},class:J([a,N,o.provider.iconUrl?"":"bg-primary"])},null,8,["src","alt","class"])]),_:2},1032,["position","color"])]),title:r(()=>[l("div",ee,[l("h3",oe,[n(S,{text:o.provider.name,delay:0},{default:r(()=>[l("span",te,d(o.provider.name),1)]),_:1},8,["text"]),l("span",ie," ("+d(o.provider.provider)+") ",1)])])]),description:r(()=>[o.provider.description?(u(),x("p",re,d(o.provider.description),1)):D("",!0),l("div",se,[(u(!0),x(G,null,R(o.provider.supportedModelTypes,a=>(u(),h(v,{key:a,variant:"soft",color:"neutral",size:"sm",class:"h-fit"},{default:r(()=>[g(d(a.toLocaleUpperCase().replaceAll("-"," ")),1)]),_:2},1024))),128))])]),footer:r(()=>[l("div",ne,[n(v,{variant:"outline",color:"neutral",size:"sm",class:"shrink-0 gap-0 rounded-full"},{default:r(()=>[g(d(o.provider.models.length)+" "+d(`${p(c)("common.unit.general.item")}${p(c)("common.ai.model")}`)+" ",1),n(T,{name:"i-lucide-chevron-right"})]),_:1}),n(I,{codes:["ai-provider.backends:update"]},{default:r(()=>[n(V,{modelValue:p(i),"onUpdate:modelValue":[s[0]||(s[0]=a=>q(i)?i.value=a:null),B],onClick:s[1]||(s[1]=P(()=>{},["stop"]))},null,8,["modelValue"])]),_:1})])]),_:1},8,["selected","actions"])}}});export{Ee as default};
