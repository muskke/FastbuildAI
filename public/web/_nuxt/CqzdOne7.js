import{u as Gt,_ as qt}from"./B6ZzIxp0.js";import Vt from"./--UdezPG.js";import{_ as Ut}from"./Bfc6LCc8.js";import{_ as Ot,a as jt}from"./l1H0tvBk.js";import{_ as Kt}from"./D-yR6Fj9.js";import{_ as Wt}from"./CPdnHwcb.js";import{_ as Xt}from"./BVHcrJNM.js";import{ab as Jt,f as O,g as T,ak as Se,d as fe,ad as Yt,ae as je,Z as ft,w as Ce,j as oe,o as H,k as K,r as We,p as f,Y as pt,$ as Xe,i as Je,ah as Ye,c as te,t as ae,q as I,l as R,y as mt,v as ne,_ as Qe,x as ke,e as vt,s as me,G as Me,bp as Qt,aJ as Zt,b as en,aq as tn,aN as nn,aM as on,aZ as Fe,b5 as an,z as ot,a_ as Ge,ap as at,aL as qe,D as ln,A as Ve,n as sn,C as rn,T as un,E as cn}from"#entry";import{i as dn,a as fn,g as pn,_ as mn}from"./CdEI2ZYD.js";import{d as vn}from"./CP4Zo7YT.js";import{d as hn,c as gn,k as lt,l as yn,e as xn,h as wn}from"./B1XcE43x.js";import{a as Sn}from"./CKTa8Hyi.js";import{u as zn}from"./8-c-A7PB.js";import{u as Ze}from"./B22A-h4k.js";import{u as _n}from"./C1DLXs69.js";import{u as st}from"./BI1JbAYD.js";import{u as bn}from"./DqNHTeRY.js";import"./BYwSSEjb.js";import"./BgHJjJs-.js";import"./B1Lg5z9T.js";import"./CLTNKp0S.js";import"./kRIii9yh.js";import"./TH-3OOuG.js";import"./Cfcu-t3n.js";import"./C6Y-ieo6.js";import"./b-_TUx9i.js";import"./DaNf1Wdt.js";import"./CKXZhss7.js";import"./Cpt2kRVT.js";import"./pUN2d83w.js";import"./Bub1HYiY.js";import"./lw_U4-W2.js";import"./XpsTG8vq.js";import"./BsoAYZfI.js";import"./D_xVtNgx.js";import"./DSMB-qMT.js";import"./B128ot1i.js";import"./CoMGTw2w.js";import"./eeyg4-1U.js";import"./B93AZ-4h.js";import"./DlAUqK2U.js";import"./BMSQkwth.js";import"./DaWZu8wl.js";import"./B9WZOnAv.js";import"./CBooyAK7.js";import"./BqoA6bN6.js";import"./BaNg8fjw.js";import"./BvoFq0Fi.js";import"./Bu7cOM_l.js";import"./ADUcesrP.js";import"./2ydT-KR3.js";import"./Dn8X9Gvz.js";import"./B_gLqRAo.js";import"./DBjGnECu.js";import"./PM3E-asR.js";import"./BO1GPLSL.js";import"./CbuHra-u.js";import"./9bDOsXij.js";import"./D9F45f3T.js";import"./CfxLE1oh.js";const Ee=typeof document<"u";function Cn(e){const t=Jt({nonce:O()});return T(()=>e?.value||t.nonce?.value)}function E(e,t="Assertion failed!"){if(!e)throw console.error(t),new Error(t)}function ht(e,t=document){if(!Ee)return null;if(t instanceof HTMLElement&&t?.dataset?.panelGroupId===e)return t;const n=t.querySelector(`[data-panel-group][data-panel-group-id="${e}"]`);return n||null}function Le(e,t=document){if(!Ee)return null;const n=t.querySelector(`[data-panel-resize-handle-id="${e}"]`);return n||null}function gt(e,t,n=document){return Ee?ze(e,n).findIndex(a=>a.getAttribute("data-panel-resize-handle-id")===t)??null:null}function ze(e,t=document){return Ee?Array.from(t.querySelectorAll(`[data-panel-resize-handle-id][data-panel-group-id="${e}"]`)):[]}function En(e,t,n,o=document){const s=Le(t,o),a=ze(e,o),l=s?a.indexOf(s):-1,i=n[l]?.id??null,u=n[l+1]?.id??null;return[i,u]}function yt(e){return e.type==="keydown"}function xt(e){return e.type.startsWith("mouse")}function wt(e){return e.type.startsWith("touch")}function $e(e){if(xt(e))return{x:e.clientX,y:e.clientY};if(wt(e)){const t=e.touches[0];if(t&&t.clientX&&t.clientY)return{x:t.clientX,y:t.clientY}}return{x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY}}function St(e,t){const n=e==="horizontal",{x:o,y:s}=$e(t);return n?o:s}function In(e,t,n,o,s){const a=n==="horizontal",l=Le(t,s);E(l);const i=l.getAttribute("data-panel-group-id");E(i);const{initialCursorPosition:u}=o,m=St(n,e),c=ht(i,s);E(c);const r=c.getBoundingClientRect(),y=a?r.width:r.height;return(m-u)/y*100}function Pn(e,t,n,o,s,a){if(yt(e)){const l=n==="horizontal";let i=0;e.shiftKey?i=100:i=s??10;let u=0;switch(e.key){case"ArrowDown":u=l?0:i;break;case"ArrowLeft":u=l?-i:0;break;case"ArrowRight":u=l?i:0;break;case"ArrowUp":u=l?0:-i;break;case"End":u=100;break;case"Home":u=-100;break}return u}else return o==null?0:In(e,t,n,o,a)}function kn({layout:e,panelsArray:t,pivotIndices:n}){let o=0,s=100,a=0,l=0;const i=n[0];E(i!=null),t.forEach((r,y)=>{const{constraints:g}=r,{maxSize:v=100,minSize:S=0}=g;y===i?(o=S,s=v):(a+=S,l+=v)});const u=Math.min(s,100-a),m=Math.max(o,100-l),c=e[i];return{valueMax:u,valueMin:m,valueNow:c}}function Mn({panelDataArray:e}){const t=Array.from({length:e.length}),n=e.map(a=>a.constraints);let o=0,s=100;for(let a=0;a<e.length;a++){const l=n[a];E(l);const{defaultSize:i}=l;i!=null&&(o++,t[a]=i,s-=i)}for(let a=0;a<e.length;a++){const l=n[a];E(l);const{defaultSize:i}=l;if(i!=null)continue;const u=e.length-o,m=s/u;o++,t[a]=m,s-=m}return t}function ye(e,t,n){t.forEach((o,s)=>{const a=e[s];E(a);const{callbacks:l,constraints:i,id:u}=a,{collapsedSize:m=0,collapsible:c}=i,r=n[u];if(r==null||o!==r){n[u]=o;const{onCollapse:y,onExpand:g,onResize:v}=l;v&&v(o,r),c&&(y||g)&&(g&&(r==null||r===m)&&o!==m&&g(),y&&(r==null||r!==m)&&o===m&&y())}})}function An(e,t=10){let n=null;return(...s)=>{n!==null&&clearTimeout(n),n=setTimeout(()=>{e(...s)},t)}}const et=10;function _e(e,t,n=et){e=Number.parseFloat(e.toFixed(n)),t=Number.parseFloat(t.toFixed(n));const o=e-t;return o===0?0:o>0?1:-1}function W(e,t,n){return _e(e,t,n)===0}function ve({panelConstraints:e,panelIndex:t,size:n}){const o=e[t];E(o!=null);const{collapsedSize:s=0,collapsible:a,maxSize:l=100,minSize:i=0}=o;if(_e(n,i)<0)if(a){const u=(s+i)/2;_e(n,u)<0?n=s:n=i}else n=i;return n=Math.min(l,n),n=Number.parseFloat(n.toFixed(et)),n}function Ie(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function xe({delta:e,layout:t,panelConstraints:n,pivotIndices:o,trigger:s}){if(W(e,0))return t;const a=[...t],[l,i]=o;E(l!=null),E(i!=null);let u=0;if(s==="keyboard"){{const c=e<0?i:l,r=n[c];if(E(r),r.collapsible){const y=t[c];E(y!=null);const g=n[c];E(g);const{collapsedSize:v=0,minSize:S=0}=g;if(W(y,v)){const p=S-y;_e(p,Math.abs(e))>0&&(e=e<0?0-p:p)}}}{const c=e<0?l:i,r=n[c];E(r);const{collapsible:y}=r;if(y){const g=t[c];E(g!=null);const v=n[c];E(v);const{collapsedSize:S=0,minSize:p=0}=v;if(W(g,p)){const _=g-S;_e(_,Math.abs(e))>0&&(e=e<0?0-_:_)}}}}{const c=e<0?1:-1;let r=e<0?i:l,y=0;for(;;){const v=t[r];E(v!=null);const p=ve({panelConstraints:n,panelIndex:r,size:100})-v;if(y+=p,r+=c,r<0||r>=n.length)break}const g=Math.min(Math.abs(e),Math.abs(y));e=e<0?0-g:g}{let r=e<0?l:i;for(;r>=0&&r<n.length;){const y=Math.abs(e)-Math.abs(u),g=t[r];E(g!=null);const v=g-y,S=ve({panelConstraints:n,panelIndex:r,size:v});if(!W(g,S)&&(u+=g-S,a[r]=S,u.toPrecision(3).localeCompare(Math.abs(e).toPrecision(3),void 0,{numeric:!0})>=0))break;e<0?r--:r++}}if(W(u,0))return t;{const c=e<0?i:l,r=t[c];E(r!=null);const y=r+u,g=ve({panelConstraints:n,panelIndex:c,size:y});if(a[c]=g,!W(g,y)){let v=y-g,p=e<0?i:l;for(;p>=0&&p<n.length;){const _=a[p];E(_!=null);const q=_+v,D=ve({panelConstraints:n,panelIndex:p,size:q});if(W(_,D)||(v-=D-_,a[p]=D),W(v,0))break;e>0?p--:p++}}}const m=a.reduce((c,r)=>r+c,0);return W(m,100)?a:t}function zt(e,t,n){const o=gt(e,t,n);return o!=null?[o,o+1]:[-1,-1]}function Ln(e,t,n){return e.x<t.x+t.width&&e.x+e.width>t.x&&e.y<t.y+t.height&&e.y+e.height>t.y}function $n(e,t){if(e===t)throw new Error("Cannot compare node with itself");const n={a:ut(e),b:ut(t)};let o;for(;n.a.at(-1)===n.b.at(-1);)e=n.a.pop(),t=n.b.pop(),o=e;E(o);const s={a:rt(it(n.a)),b:rt(it(n.b))};if(s.a===s.b){const a=o.childNodes,l={a:n.a.at(-1),b:n.b.at(-1)};let i=a.length;for(;i--;){const u=a[i];if(u===l.a)return 1;if(u===l.b)return-1}}return Math.sign(s.a-s.b)}const Rn=/\b(?:position|zIndex|opacity|transform|webkitTransform|mixBlendMode|filter|webkitFilter|isolation)\b/;function Dn(e){const t=getComputedStyle(_t(e)).display;return t==="flex"||t==="inline-flex"}function Nn(e){const t=getComputedStyle(e);return!!(t.position==="fixed"||t.zIndex!=="auto"&&(t.position!=="static"||Dn(e))||+t.opacity<1||"transform"in t&&t.transform!=="none"||"webkitTransform"in t&&t.webkitTransform!=="none"||"mixBlendMode"in t&&t.mixBlendMode!=="normal"||"filter"in t&&t.filter!=="none"||"webkitFilter"in t&&t.webkitFilter!=="none"||"isolation"in t&&t.isolation==="isolate"||Rn.test(t.willChange)||t.webkitOverflowScrolling==="touch")}function it(e){let t=e.length;for(;t--;){const n=e[t];if(E(n),Nn(n))return n}return null}function rt(e){return e&&Number(getComputedStyle(e).zIndex)||0}function ut(e){const t=[];for(;e;)t.push(e),e=_t(e);return t}function _t(e){return e.parentNode instanceof DocumentFragment&&e.parentNode?.host||e.parentNode}const bt=1,Ct=2,Et=4,It=8;function Tn(){if(typeof matchMedia=="function")return matchMedia("(pointer:coarse)").matches?"coarse":"fine"}const Hn=Tn()==="coarse",ce=[];let Re=!1;const re=new Map,De=new Map,be=new Set;function Bn(e,t,n,o,s,a){const{ownerDocument:l}=t,i={direction:n,element:t,hitAreaMargins:o,nonce:s,setResizeHandlerState:a},u=re.get(l)??0;return re.set(l,u+1),be.add(i),Ae(),function(){De.delete(e),be.delete(i);const c=re.get(l)??1;re.set(l,c-1),Ae(),kt(),c===1&&re.delete(l)}}function Pe(e){const{target:t}=e,{x:n,y:o}=$e(e);Re=!0,tt({target:t,x:n,y:o}),Ae(),ce.length>0&&(nt("down",e),e.preventDefault())}function se(e){const{x:t,y:n}=$e(e);if(!Re){const{target:o}=e;tt({target:o,x:t,y:n})}nt("move",e),Pt(),ce.length>0&&e.preventDefault()}function ie(e){const{target:t}=e,{x:n,y:o}=$e(e);De.clear(),Re=!1,ce.length>0&&e.preventDefault(),nt("up",e),tt({target:t,x:n,y:o}),Pt(),Ae()}function tt({target:e,x:t,y:n}){ce.splice(0);let o=null;e instanceof HTMLElement&&(o=e),be.forEach(s=>{const{element:a,hitAreaMargins:l}=s,i=a.getBoundingClientRect(),{bottom:u,left:m,right:c,top:r}=i,y=Hn?l.coarse:l.fine;if(t>=m-y&&t<=c+y&&n>=r-y&&n<=u+y){if(o!==null&&a!==o&&!a.contains(o)&&!o.contains(a)&&$n(o,a)>0){let v=o,S=!1;for(;v&&!v.contains(a);){if(Ln(v.getBoundingClientRect(),i)){S=!0;break}v=v.parentElement}if(S)return}ce.push(s)}})}function Ue(e,t){De.set(e,t)}function Pt(){let e=!1,t=!1,n;ce.forEach(s=>{const{direction:a,nonce:l}=s;a.value==="horizontal"?e=!0:t=!0,n=l.value});let o=0;De.forEach(s=>{o|=s}),e&&t?Oe("intersection",o,n):e?Oe("horizontal",o,n):t?Oe("vertical",o,n):kt()}function Ae(){re.forEach((e,t)=>{const{body:n}=t;n.removeEventListener("contextmenu",ie),n.removeEventListener("mousedown",Pe),n.removeEventListener("mouseleave",se),n.removeEventListener("mousemove",se),n.removeEventListener("touchmove",se),n.removeEventListener("touchstart",Pe)}),window.removeEventListener("mouseup",ie),window.removeEventListener("touchcancel",ie),window.removeEventListener("touchend",ie),be.size>0&&(Re?(ce.length>0&&re.forEach((e,t)=>{const{body:n}=t;e>0&&(n.addEventListener("contextmenu",ie),n.addEventListener("mouseleave",se),n.addEventListener("mousemove",se),n.addEventListener("touchmove",se,{passive:!1}))}),window.addEventListener("mouseup",ie),window.addEventListener("touchcancel",ie),window.addEventListener("touchend",ie)):re.forEach((e,t)=>{const{body:n}=t;e>0&&(n.addEventListener("mousedown",Pe),n.addEventListener("mousemove",se),n.addEventListener("touchmove",se,{passive:!1}),n.addEventListener("touchstart",Pe))}))}function nt(e,t){be.forEach(n=>{const{setResizeHandlerState:o}=n,s=ce.includes(n);o(e,s,t)})}let Ke=null,ue=null;function Fn(e,t){if(t){const n=(t&bt)!==0,o=(t&Ct)!==0,s=(t&Et)!==0,a=(t&It)!==0;if(n)return s?"se-resize":a?"ne-resize":"e-resize";if(o)return s?"sw-resize":a?"nw-resize":"w-resize";if(s)return"s-resize";if(a)return"n-resize"}switch(e){case"horizontal":return"ew-resize";case"intersection":return"move";case"vertical":return"ns-resize"}}function kt(){ue!==null&&(document.head.removeChild(ue),Ke=null,ue=null)}function Oe(e,t,n){const o=Fn(e,t);Ke!==o&&(Ke=o,ue===null&&(ue=document.createElement("style"),n&&(ue.nonce=n),document.head.appendChild(ue)),ue.innerHTML=`*{cursor: ${o}!important;}`)}function Gn({defaultSize:e,dragState:t,layout:n,panelData:o,panelIndex:s,precision:a=3}){const l=n[s];let i;return l==null?i=e!==void 0?e.toPrecision(a):"1":o.length===1?i="1":i=l.toPrecision(a),{flexBasis:0,flexGrow:i,flexShrink:1,overflow:"hidden",pointerEvents:t!==null?"none":void 0}}function qn({layout:e,panelConstraints:t}){const n=[...e],o=n.reduce((a,l)=>a+l,0);if(n.length!==t.length)throw new Error(`Invalid ${t.length} panel layout: ${n.map(a=>`${a}%`).join(", ")}`);if(!W(o,100)){console.warn(`WARNING: Invalid layout total size: ${n.map(a=>`${a}%`).join(", ")}. Layout normalization will be applied.`);for(let a=0;a<t.length;a++){const l=n[a];E(l!=null);const i=100/o*l;n[a]=i}}let s=0;for(let a=0;a<t.length;a++){const l=n[a];E(l!=null);const i=ve({panelConstraints:t,panelIndex:a,size:l});l!==i&&(s+=l-i,n[a]=i)}if(!W(s,0))for(let a=0;a<t.length;a++){const l=n[a];E(l!=null);const i=l+s,u=ve({panelConstraints:t,panelIndex:a,size:i});if(l!==u&&(s-=u-l,n[a]=u,W(s,0)))break}return n}function Vn({eagerValuesRef:e,groupId:t,layout:n,panelDataArray:o,panelGroupElement:s,setLayout:a}){Se(l=>{const i=s.value;if(!i)return;const u=ze(t,i);for(let m=0;m<o.length-1;m++){const{valueMax:c,valueMin:r,valueNow:y}=kn({layout:n.value,panelsArray:o,pivotIndices:[m,m+1]}),g=u[m];if(g!=null){const v=o[m];E(v),g.setAttribute("aria-controls",v.id),g.setAttribute("aria-valuemax",`${Math.round(c)}`),g.setAttribute("aria-valuemin",`${Math.round(r)}`),g.setAttribute("aria-valuenow",y!=null?`${Math.round(y)}`:"")}}l(()=>{u.forEach(m=>{m.removeAttribute("aria-controls"),m.removeAttribute("aria-valuemax"),m.removeAttribute("aria-valuemin"),m.removeAttribute("aria-valuenow")})})}),Se(l=>{const i=s.value;if(!i)return;const u=e.value;E(u);const{panelDataArray:m}=u,c=ht(t,i);E(c!=null,`No group found for id "${t}"`);const r=ze(t,i);E(r);const y=r.map(g=>{const v=g.getAttribute("data-panel-resize-handle-id");E(v);const[S,p]=En(t,v,m,i);if(S==null||p==null)return()=>{};const _=q=>{if(!q.defaultPrevented)switch(q.key){case"Enter":{q.preventDefault();const D=m.findIndex(N=>N.id===S);if(D>=0){const N=m[D];E(N);const k=n.value[D],{collapsedSize:V=0,collapsible:X,minSize:M=0}=N.constraints;if(k!=null&&X){const F=xe({delta:W(k,V)?M-V:V-k,layout:n.value,panelConstraints:m.map(Q=>Q.constraints),pivotIndices:zt(t,v,i),trigger:"keyboard"});n.value!==F&&a(F)}}break}}};return g.addEventListener("keydown",_),()=>{g.removeEventListener("keydown",_)}});l(()=>{y.forEach(g=>g())})})}function ct(e){try{if(typeof localStorage<"u")e.getItem=t=>localStorage.getItem(t),e.setItem=(t,n)=>{localStorage.setItem(t,n)};else throw new TypeError("localStorage not supported in this environment")}catch(t){console.error(t),e.getItem=()=>null,e.setItem=()=>{}}}function Mt(e){return`reka:${e}`}function At(e){return e.map(t=>{const{constraints:n,id:o,idIsFromProps:s,order:a}=t;return s?o:a?`${a}:${JSON.stringify(n)}`:JSON.stringify(n)}).sort((t,n)=>t.localeCompare(n)).join(",")}function Lt(e,t){try{const n=Mt(e),o=t.getItem(n);if(o){const s=JSON.parse(o);if(typeof s=="object"&&s!=null)return s}}catch{}return null}function Un(e,t,n){const o=Lt(e,n)??{},s=At(t);return o[s]??null}function On(e,t,n,o,s){const a=Mt(e),l=At(t),i=Lt(e,s)??{};i[l]={expandToSizes:Object.fromEntries(n.entries()),layout:o};try{s.setItem(a,JSON.stringify(i))}catch(u){console.error(u)}}const jn=100,we={getItem:e=>(ct(we),we.getItem(e)),setItem:(e,t)=>{ct(we),we.setItem(e,t)}},[$t,Kn]=Yt("PanelGroup");var Wn=fe({__name:"SplitterGroup",props:{id:{type:[String,null],required:!1},autoSaveId:{type:[String,null],required:!1,default:null},direction:{type:String,required:!0},keyboardResizeBy:{type:[Number,null],required:!1,default:10},storage:{type:Object,required:!1,default:()=>we},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["layout"],setup(e,{emit:t}){const n=e,o=t,s={},{direction:a}=je(n),l=Ze(n.id,"reka-splitter-group"),i=zn(),{forwardRef:u,currentElement:m}=ft(),c=O(null),r=O([]),y=O({}),g=O(new Map),v=O(0),S=T(()=>({autoSaveId:n.autoSaveId,direction:n.direction,dragState:c.value,id:l,keyboardResizeBy:n.keyboardResizeBy,storage:n.storage})),p=O({layout:r.value,panelDataArray:[],panelDataArrayChanged:!1}),_=d=>r.value=d;Vn({eagerValuesRef:p,groupId:l,layout:r,panelDataArray:p.value.panelDataArray,setLayout:_,panelGroupElement:m}),Se(()=>{const{panelDataArray:d}=p.value,{autoSaveId:z}=n;if(z){if(r.value.length===0||r.value.length!==d.length)return;let x=s[z];x||(x=An(On,jn),s[z]=x);const w=[...d],P=new Map(g.value);x(z,w,P,r.value,n.storage)}});function q(d,z){const{panelDataArray:x}=p.value,w=Z(x,d);return Gn({defaultSize:z,dragState:c.value,layout:r.value,panelData:x,panelIndex:w})}function D(d){const{panelDataArray:z}=p.value;z.push(d),z.sort((x,w)=>{const P=x.order,b=w.order;return P==null&&b==null?0:P==null?-1:b==null?1:P-b}),p.value.panelDataArrayChanged=!0}Ce(()=>p.value.panelDataArrayChanged,()=>{if(p.value.panelDataArrayChanged){p.value.panelDataArrayChanged=!1;const{autoSaveId:d,storage:z}=S.value,{layout:x,panelDataArray:w}=p.value;let P=null;if(d){const A=Un(d,w,z);A&&(g.value=new Map(Object.entries(A.expandToSizes)),P=A.layout)}P===null&&(P=Mn({panelDataArray:w}));const b=qn({layout:P,panelConstraints:w.map(A=>A.constraints)});Sn(x,b)||(_(b),p.value.layout=b,o("layout",b),ye(w,b,y.value))}});function N(d){return function(x){x.preventDefault();const w=m.value;if(!w)return()=>null;const{direction:P,dragState:b,id:A,keyboardResizeBy:j}=S.value,{layout:G,panelDataArray:L}=p.value,{initialLayout:U}=b??{},J=zt(A,d,w);let B=Pn(x,d,P,b,j,w);if(B===0)return;const pe=P==="horizontal";i.value==="rtl"&&pe&&(B=-B);const h=L.map(le=>le.constraints),C=xe({delta:B,layout:U??G,panelConstraints:h,pivotIndices:J,trigger:yt(x)?"keyboard":"mouse-or-touch"}),$=!Ie(G,C);(xt(x)||wt(x))&&v.value!==B&&(v.value=B,$?Ue(d,0):pe?Ue(d,B<0?bt:Ct):Ue(d,B<0?Et:It)),$&&(_(C),p.value.layout=C,o("layout",C),ye(L,C,y.value))}}function k(d,z){const{layout:x,panelDataArray:w}=p.value,P=w.map(U=>U.constraints),{panelSize:b,pivotIndices:A}=ee(w,d,x);E(b!=null);const G=Z(w,d)===w.length-1?b-z:z-b,L=xe({delta:G,layout:x,panelConstraints:P,pivotIndices:A,trigger:"imperative-api"});Ie(x,L)||(_(L),p.value.layout=L,o("layout",L),ye(w,L,y.value))}function V(d,z){const{layout:x,panelDataArray:w}=p.value,P=Z(w,d);w[P]=d,p.value.panelDataArrayChanged=!0;const{collapsedSize:b=0,collapsible:A}=z,{collapsedSize:j=0,collapsible:G,maxSize:L=100,minSize:U=0}=d.constraints,{panelSize:J}=ee(w,d,x);J!==null&&(A&&G&&J===b?b!==j&&k(d,j):J<U?k(d,U):J>L&&k(d,L))}function X(d,z){const{direction:x}=S.value,{layout:w}=p.value;if(!m.value)return;const P=Le(d,m.value);E(P);const b=St(x,z);c.value={dragHandleId:d,dragHandleRect:P.getBoundingClientRect(),initialCursorPosition:b,initialLayout:w}}function M(){c.value=null}function F(d){const{panelDataArray:z}=p.value,x=Z(z,d);x>=0&&(z.splice(x,1),delete y.value[d.id],p.value.panelDataArrayChanged=!0)}function Q(d){const{layout:z,panelDataArray:x}=p.value;if(d.constraints.collapsible){const w=x.map(j=>j.constraints),{collapsedSize:P=0,panelSize:b,pivotIndices:A}=ee(x,d,z);if(E(b!=null,`Panel size not found for panel "${d.id}"`),b!==P){g.value.set(d.id,b);const G=Z(x,d)===x.length-1?b-P:P-b,L=xe({delta:G,layout:z,panelConstraints:w,pivotIndices:A,trigger:"imperative-api"});Ie(z,L)||(_(L),p.value.layout=L,o("layout",L),ye(x,L,y.value))}}}function he(d){const{layout:z,panelDataArray:x}=p.value;if(d.constraints.collapsible){const w=x.map(G=>G.constraints),{collapsedSize:P=0,panelSize:b,minSize:A=0,pivotIndices:j}=ee(x,d,z);if(b===P){const G=g.value.get(d.id),L=G!=null&&G>=A?G:A,J=Z(x,d)===x.length-1?b-L:L-b,B=xe({delta:J,layout:z,panelConstraints:w,pivotIndices:j,trigger:"imperative-api"});Ie(z,B)||(_(B),p.value.layout=B,o("layout",B),ye(x,B,y.value))}}}function de(d){const{layout:z,panelDataArray:x}=p.value,{panelSize:w}=ee(x,d,z);return E(w!=null,`Panel size not found for panel "${d.id}"`),w}function Ne(d){const{layout:z,panelDataArray:x}=p.value,{collapsedSize:w=0,collapsible:P,panelSize:b}=ee(x,d,z);return P?b===void 0?d.constraints.defaultSize===d.constraints.collapsedSize:b===w:!1}function Te(d){const{layout:z,panelDataArray:x}=p.value,{collapsedSize:w=0,collapsible:P,panelSize:b}=ee(x,d,z);return E(b!=null,`Panel size not found for panel "${d.id}"`),!P||b>w}Kn({direction:a,dragState:c.value,groupId:l,reevaluatePanelConstraints:V,registerPanel:D,registerResizeHandle:N,resizePanel:k,startDragging:X,stopDragging:M,unregisterPanel:F,panelGroupElement:m,collapsePanel:Q,expandPanel:he,isPanelCollapsed:Ne,isPanelExpanded:Te,getPanelSize:de,getPanelStyle:q});function Z(d,z){return d.findIndex(x=>x===z||x.id===z.id)}function ee(d,z,x){const w=Z(d,z),b=w===d.length-1?[w-1,w]:[w,w+1],A=x[w];return{...z.constraints,panelSize:A,pivotIndices:b}}return(d,z)=>(H(),oe(f(Xe),{ref:f(u),as:d.as,"as-child":d.asChild,style:pt({display:"flex",flexDirection:f(a)==="horizontal"?"row":"column",height:"100%",overflow:"hidden",width:"100%"}),"data-panel-group":"","data-orientation":f(a),"data-panel-group-id":f(l)},{default:K(()=>[We(d.$slots,"default",{layout:r.value})]),_:3},8,["as","as-child","style","data-orientation","data-panel-group-id"]))}}),Xn=Wn,Jn=fe({__name:"SplitterPanel",props:{collapsedSize:{type:Number,required:!1},collapsible:{type:Boolean,required:!1},defaultSize:{type:Number,required:!1},id:{type:String,required:!1},maxSize:{type:Number,required:!1},minSize:{type:Number,required:!1},order:{type:Number,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["collapse","expand","resize"],setup(e,{expose:t,emit:n}){const o=e,s=n,a=$t();if(a===null)throw new Error("SplitterPanel components must be rendered within a SplitterGroup container");const{collapsePanel:l,expandPanel:i,getPanelSize:u,getPanelStyle:m,isPanelCollapsed:c,resizePanel:r,groupId:y,reevaluatePanelConstraints:g,registerPanel:v,unregisterPanel:S}=a,p=Ze(o.id,"reka-splitter-panel"),_=T(()=>({callbacks:{onCollapse:()=>s("collapse"),onExpand:()=>s("expand"),onResize:(...M)=>s("resize",...M)},constraints:{collapsedSize:o.collapsedSize&&Number.parseFloat(o.collapsedSize.toFixed(et)),collapsible:o.collapsible,defaultSize:o.defaultSize,maxSize:o.maxSize,minSize:o.minSize},id:p,idIsFromProps:o.id!==void 0,order:o.order}));Ce(()=>_.value.constraints,(M,F)=>{(F.collapsedSize!==M.collapsedSize||F.collapsible!==M.collapsible||F.maxSize!==M.maxSize||F.minSize!==M.minSize)&&g(_.value,F)},{deep:!0}),Je(()=>{v(_.value)}),Ye(()=>{S(_.value)});const q=T(()=>m(_.value,o.defaultSize)),D=T(()=>c(_.value)),N=T(()=>!D.value);function k(){l(_.value)}function V(){i(_.value)}function X(M){r(_.value,M)}return t({collapse:k,expand:V,getSize(){return u(_.value)},resize:X,isCollapsed:D,isExpanded:N}),(M,F)=>(H(),oe(f(Xe),{id:f(p),style:pt(q.value),as:M.as,"as-child":M.asChild,"data-panel":"","data-panel-collapsible":M.collapsible||void 0,"data-panel-group-id":f(y),"data-panel-id":f(p),"data-panel-size":Number.parseFloat(`${q.value.flexGrow}`).toFixed(1),"data-state":M.collapsible?D.value?"collapsed":"expanded":void 0},{default:K(()=>[We(M.$slots,"default",{isCollapsed:D.value,isExpanded:N.value,expand:V,collapse:k,resize:X})]),_:3},8,["id","style","as","as-child","data-panel-collapsible","data-panel-group-id","data-panel-id","data-panel-size","data-state"]))}}),dt=Jn;function Yn({disabled:e,handleId:t,resizeHandler:n,panelGroupElement:o}){Se(s=>{const a=o.value;if(e.value||n.value===null||a===null)return;const l=Le(t,a);if(l==null)return;const i=u=>{if(!u.defaultPrevented)switch(u.key){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"End":case"Home":{u.preventDefault(),n.value?.(u);break}case"F6":{u.preventDefault();const m=l.getAttribute("data-panel-group-id");E(m);const c=ze(m,a),r=gt(m,t,a);E(r!==null);const y=u.shiftKey?r>0?r-1:c.length-1:r+1<c.length?r+1:0;c[y].focus();break}}};l.addEventListener("keydown",i),s(()=>{l.removeEventListener("keydown",i)})})}var Qn=fe({__name:"SplitterResizeHandle",props:{id:{type:String,required:!1},hitAreaMargins:{type:Object,required:!1},tabindex:{type:Number,required:!1,default:0},disabled:{type:Boolean,required:!1},nonce:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["dragging"],setup(e,{emit:t}){const n=e,o=t,{forwardRef:s,currentElement:a}=ft(),{disabled:l}=je(n),i=$t();if(i===null)throw new Error("PanelResizeHandle components must be rendered within a PanelGroup container");const{direction:u,groupId:m,registerResizeHandle:c,startDragging:r,stopDragging:y,panelGroupElement:g}=i,v=Ze(n.id,"reka-splitter-resize-handle"),S=O("inactive"),p=O(!1),_=O(null),{nonce:q}=je(n),D=Cn(q);return Ce(l,()=>{Ee&&(l.value?_.value=null:_.value=c(v))},{immediate:!0}),Se(N=>{if(l.value||_.value===null)return;const k=a.value;if(!k)return;E(k);const V=(X,M,F)=>{if(M)switch(X){case"down":{S.value="drag",r(v,F),o("dragging",!0);break}case"move":{S.value!=="drag"&&(S.value="hover"),_.value?.(F);break}case"up":{S.value="hover",y(),o("dragging",!1);break}}else S.value="inactive"};N(Bn(v,k,u,{coarse:n.hitAreaMargins?.coarse??15,fine:n.hitAreaMargins?.fine??5},D,V))}),Yn({disabled:l,resizeHandler:_,handleId:v,panelGroupElement:g}),(N,k)=>(H(),oe(f(Xe),{id:f(v),ref:f(s),style:{touchAction:"none",userSelect:"none"},as:N.as,"as-child":N.asChild,role:"separator","data-resize-handle":"",tabindex:N.tabindex,"data-state":S.value,"data-disabled":f(l)?"":void 0,"data-orientation":f(u),"data-panel-group-id":f(m),"data-resize-handle-active":S.value==="drag"?"pointer":p.value?"keyboard":void 0,"data-resize-handle-state":S.value,"data-panel-resize-handle-enabled":!f(l),"data-panel-resize-handle-id":f(v),onBlur:k[0]||(k[0]=V=>p.value=!1),onFocus:k[1]||(k[1]=V=>p.value=!1)},{default:K(()=>[We(N.$slots,"default")]),_:3},8,["id","as","as-child","tabindex","data-state","data-disabled","data-orientation","data-panel-group-id","data-resize-handle-active","data-resize-handle-state","data-panel-resize-handle-enabled","data-panel-resize-handle-id"]))}}),Zn=Qn;const eo={key:0,class:"flex h-full w-full flex-col"},to={class:"flex items-center justify-between px-4 py-3"},no={class:"flex min-w-0 flex-1 items-center gap-3"},oo={class:"flex size-10 items-center justify-center rounded-lg p-2 shadow-md"},ao={class:"min-w-0 flex-1"},lo={class:"text-foreground truncate text-sm font-semibold"},so={class:"text-muted-foreground truncate text-xs"},io={class:"flex items-center gap-1"},ro={class:"flex-1 overflow-auto"},uo={key:0,class:"h-full"},co=["src"],fo={key:1,class:"flex h-full items-center justify-center p-4"},po=["src"],mo={class:"text-muted-foreground"},vo=["href"],ho={key:2,class:"flex h-full flex-col items-center justify-center gap-6 p-8"},go={class:"bg-primary/10 flex size-24 items-center justify-center rounded-full"},yo={class:"text-center"},xo={class:"text-foreground mb-2 truncate px-4 text-base font-medium break-all"},wo=["src"],So={class:"text-muted-foreground"},zo=["href"],_o={key:3,class:"bg-muted/30 flex h-full flex-col items-center justify-center gap-4 p-8"},bo={class:"text-center"},Co={class:"text-foreground mb-2 truncate px-4 text-base font-medium break-all"},Eo={class:"text-muted-foreground mb-4 truncate text-sm"},Io=fe({__name:"files",props:{file:{}},emits:["close"],setup(e,{emit:t}){const n=e,o=t,s=T(()=>n.file?.name.split(".").pop()?.toLowerCase()||""),a=T(()=>s.value==="pdf"),l=T(()=>["doc","docx","xls","xlsx","ppt","pptx"].includes(s.value)),i=T(()=>n.file?dn(n.file):!1),u=T(()=>n.file?fn(n.file):!1),m=T(()=>n.file?pn(n.file):"file"),c=T(()=>a.value?"i-lucide-file-text":l.value?"i-lucide-file-box":i.value?"i-lucide-video":u.value?"i-lucide-music":"i-lucide-file"),r=T(()=>m.value==="video"?"Video":m.value==="audio"?"Audio":`${s.value.toUpperCase()} File`),y=()=>o("close"),g=()=>{n.file?.url&&window.open(n.file.url,"_blank")};return(v,S)=>{const p=mt,_=Qe;return e.file?(H(),te("div",eo,[I("div",to,[I("div",no,[I("div",oo,[R(p,{name:f(c),class:"size-6 flex-none"},null,8,["name"])]),I("div",ao,[I("h3",lo,ne(e.file.name),1),I("p",so,ne(f(r)),1)])]),I("div",io,[R(_,{icon:"i-lucide-download",color:"neutral",variant:"ghost",size:"sm",onClick:g}),R(_,{icon:"i-lucide-x",color:"neutral",variant:"ghost",size:"sm",onClick:y})])]),I("div",ro,[f(a)?(H(),te("div",uo,[I("iframe",{src:e.file.url,class:"h-full w-full border-0"},null,8,co)])):f(i)?(H(),te("div",fo,[I("video",{src:e.file.url,controls:"",class:"max-h-full max-w-full rounded-lg shadow-lg",preload:"metadata"},[I("p",mo,[S[0]||(S[0]=ke(" Your browser doesn't support video playback. ",-1)),I("a",{href:e.file.url,target:"_blank",class:"text-primary hover:underline"}," Download video file ",8,vo)])],8,po)])):f(u)?(H(),te("div",ho,[I("div",go,[R(p,{name:"i-lucide-music",class:"text-primary size-12"})]),I("div",yo,[I("p",xo,ne(e.file.name),1),S[1]||(S[1]=I("p",{class:"text-muted-foreground mb-4 text-sm"},"Audio File",-1))]),I("audio",{src:e.file.url,controls:"",class:"w-full max-w-md",preload:"metadata"},[I("p",So,[S[2]||(S[2]=ke(" Your browser doesn't support audio playback. ",-1)),I("a",{href:e.file.url,target:"_blank",class:"text-primary hover:underline"}," Download audio file ",8,zo)])],8,wo)])):(H(),te("div",_o,[R(p,{name:f(l)?"i-lucide-file-box":"i-lucide-file",class:"text-muted-foreground size-20"},null,8,["name"]),I("div",bo,[I("p",Co,ne(e.file.name),1),I("p",Eo,ne(f(l)?"This file type cannot be previewed directly":"Preview not available for this file type"),1),R(_,{icon:"i-lucide-download",color:"primary",onClick:g},{default:K(()=>[...S[3]||(S[3]=[ke(" Download File ",-1)])]),_:1})])]))])])):ae("",!0)}}}),Po={key:0,class:"flex h-full w-full flex-col"},ko={class:"flex items-center justify-between px-4 py-3"},Mo={class:"flex min-w-0 flex-1 items-center gap-3"},Ao={class:"flex size-10 items-center justify-center rounded-lg p-2 shadow-md"},Lo={class:"min-w-0 flex-1"},$o={class:"text-foreground truncate text-sm font-semibold"},Ro={class:"text-muted-foreground truncate text-xs"},Do={class:"flex items-center gap-1"},No={class:"flex-1 overflow-auto"},To=fe({__name:"html",props:{htmlContent:{}},emits:["close"],setup(e,{emit:t}){const n=e,o=t,s=vt("iframeRefs"),a=me("HTML Preview"),l=me(!0),i=c=>{const r=c.match(/<title[^>]*>([^<]+)<\/title>/i);return r&&r?.[1]?.trim()||"HTML Preview"},u=()=>{const c=n.htmlContent,r=s.value?.contentWindow;c&&r&&(r.postMessage({BuildingAICode:c},location.origin),a.value=i(c))},m=c=>{if(c.source===s.value?.contentWindow&&c.origin===location.origin){if(c.data?.iframeLoaded){u();return}c.data?.title&&(a.value=c.data.title)}};return Je(()=>window.addEventListener("message",m)),Ye(()=>window.removeEventListener("message",m)),Ce(()=>n.htmlContent,async()=>{u(),l.value=!1,await Me(),l.value=!0}),(c,r)=>{const y=mt,g=Qe;return e.htmlContent?(H(),te("div",Po,[I("div",ko,[I("div",Mo,[I("div",Ao,[R(y,{name:"i-lucide-code",class:"size-6 flex-none"})]),I("div",Lo,[I("h3",$o,ne(f(a)),1),I("p",Ro,ne(c.$t("common.preview")),1)])]),I("div",Do,[R(g,{icon:"i-lucide-x",color:"neutral",variant:"ghost",size:"sm",onClick:r[0]||(r[0]=v=>o("close"))})])]),I("div",No,[f(l)?(H(),te("iframe",{key:0,ref_key:"iframeRefs",ref:s,src:"/runchat.html",class:"h-full w-full border-0"},null,512)):ae("",!0)])])):ae("",!0)}}}),Ho={key:0,class:"bg-background border-border flex h-full w-full flex-col border-l"},Bo=fe({__name:"index",props:{type:{},data:{}},emits:["close"],setup(e,{emit:t}){const n=e,o=t,s=()=>o("close");return vn({Escape:()=>s()}),(a,l)=>e.data?(H(),te("div",Ho,[n.type==="file"?(H(),oe(Io,{key:0,file:n.data,onClose:s},null,8,["file"])):n.type==="html"?(H(),oe(To,{key:1,"html-content":n.data,onClose:s},null,8,["html-content"])):ae("",!0)])):ae("",!0)}}),Fo="chat:run:html";function Go(){const e=O(null),t=O(null),n=T(()=>e.value!==null),o=(u,m)=>{e.value=u,t.value=m},s=()=>{e.value=null,t.value=null},a=u=>o("file",u),l=u=>o("html",u),i=(u,m)=>n.value?s():o(u,m);return Qt().hook(Fo,l),{previewType:e,previewData:t,isPreviewOpen:n,openFilePreview:a,openHtmlPreview:l,closePreview:s,togglePreview:i}}const qo={class:"ai-chat dark:bg-muted/50 flex h-full min-h-0 w-full overflow-hidden pl-0"},Vo={class:"flex w-full items-center justify-center py-2"},Uo={class:"w-full max-w-[800px]"},Oo={class:"text-muted-forgeround w-full p-2 text-center text-xs"},Qa=fe({__name:"[id]",async setup(e){let t,n;const{params:o}=Zt(),{t:s}=en(),a=tn(),l=vt("scrollAreaRef"),{height:i}=nn(l),u=_n(),m=Gt(),c=T(()=>o.id),r=on({page:1,pageSize:5}),y=me(!1),g=T(()=>u.selectedModel||{}),v=me([]),S=me(!1),p=me(),{previewType:_,previewData:q,openFilePreview:D,closePreview:N}=Go(),{data:k,pending:V}=([t,n]=Fe(()=>Ge(`chat-messages-${c.value}`,()=>lt(c.value,r),{transform:h=>(h.items=h.items.reverse(),h)})),t=await t,n(),t);if(!k.value?.items)throw an({statusCode:404,statusMessage:"Chat not found",fatal:!0});y.value=k.value.total>k.value.items.length;const{data:X}=([t,n]=Fe(()=>Ge(`chat-detail-${c.value}`,()=>yn(c.value))),t=await t,n(),t),{data:M}=([t,n]=Fe(()=>Ge("chat-config",()=>xn())),t=await t,n(),t),F=k.value.items.map(h=>({id:h.id||st(),role:h.role,metadata:h.metadata,content:h.errorMessage||h.content,status:h.errorMessage?"failed":"completed",mcpToolCalls:h.mcpToolCalls})),{messages:Q,input:he,files:de,handleSubmit:Ne,reload:Te,stop:Z,status:ee,error:d}=bn({id:c.value,api:gn,initialMessages:F,body:{get modelId(){return g.value?.id},get mcpServers(){return JSON.parse(localStorage.getItem("mcpIds")||"[]")},saveConversation:!0,get conversationId(){return c.value}},onToolCall(){U()},onResponse(h){h.status===401&&at().logout(!0)},onError(h){const C=h?.message||s("ai-chat.frontend.sendFailed");console.error("Chat error:",C)},onFinish(){at().getUser(),qe("chats"),qe(`chat-detail-${c.value}`)}}),z=T(()=>ee.value==="loading"),x=O(!0);function w(h){const C=h.target,$=40;x.value=C.scrollHeight-(C.scrollTop+C.clientHeight)<=$}async function P(){if(y.value){r.page++;try{const h=await lt(c.value,r),C=h.items.reverse().map($=>({id:$.id||st(),role:$.role,content:$.errorMessage||$.content,status:$.errorMessage?"failed":"completed",mcpToolCalls:$.mcpToolCalls}));Q.value.unshift(...C),y.value=h.total>Q.value.length}catch(h){r.page--,console.error("Failed to load more messages:",h),y.value=!0}}}const b=O();function A(){try{const h=JSON.parse(localStorage.getItem("mcpIds")||"[]");return Array.isArray(h)?h:[]}catch{return[]}}function j(h){h.length?localStorage.setItem("mcpIds",JSON.stringify(h)):localStorage.removeItem("mcpIds")}const G=()=>{if(!b.value)return;Array.isArray(v.value)||(v.value=[]);const h=A(),C=b.value,$=h.includes(C),le=v.value.includes(C);if(!$&&!le)h.push(C),le||v.value.push(C),j(h);else{const He=h.filter(ge=>ge!==C),Be=v.value.filter(ge=>ge!==C);j(He),v.value=Be}S.value=A().includes(C)},L=async()=>{try{const h=await hn();if(!h)return;p.value=h,b.value=h.id,h.id&&(S.value=A().includes(h.id))}catch(h){console.error("Failed to fetch quick menu:",h)}};async function U(h=!0){await Me(),l.value?.scrollToBottom(h)}async function J(h){try{await wn(c.value,{title:h.target.value}),qe("chats")}catch(C){console.error("Failed to save conversation name:",C)}}async function B(h){if(!(!h.trim()&&!de.value.length||z.value)){if(!g.value.id){a.warning(s("ai-chat.frontend.selectModel"));return}await Ne(h),U()}}Ce(()=>Q.value.at(-1)?.content,()=>Me(()=>{x.value&&U(!0)}),{flush:"post"});let pe=null;return Je(async()=>{U(!1);const h=l.value?.getViewportElement(),C=h&&h.viewportElement;C&&(C.addEventListener("scroll",w,{passive:!0}),w({target:C}),pe=new MutationObserver(()=>{x.value&&U(!1)}),pe.observe(C,{childList:!0,subtree:!0,characterData:!0}));const $=m.getPendingConversation();if(Q.value.length===0&&$&&$.id===c.value){const le=$.files||[];de.value=le,g.value.id=$.modelId||"",await Me(),await B($.title||"")}m.clearPendingConversation(),await L()}),Ye(()=>{const h=l.value?.getViewportElement();(h&&h.viewportElement)?.removeEventListener("scroll",w),pe?.disconnect()}),(h,C)=>{const $=qt,le=Vt,He=Ut,Be=jt,ge=Ot,Rt=Kt,Dt=Wt,Nt=Xt,Tt=rn,Ht=Qe,Bt=mn,Ft=Bo;return H(),te("div",qo,[I("div",{class:ot(["border-border/50 h-full flex-none border-r pl-0 sm:pl-2",{"border-none":!f(u).chatSidebarVisible}])},[R($)],2),R(f(Xn),{id:"chat-main-splitter",direction:"horizontal",class:"h-full min-w-0 flex-1"},{default:K(()=>[R(f(dt),{id:"chat-content-panel","min-size":30,"default-size":f(_)?70:100,class:"flex h-full flex-col items-center justify-center overflow-hidden rounded-lg px-4 xl:px-0"},{default:K(()=>[I("div",Vo,[R(le,{"model-value":f(z)?f(s)("ai-chat.frontend.messages.typing"):f(X)?.title,size:"sm",variant:"ghost",ui:{base:"text-center text-lg"},onChange:C[0]||(C[0]=Y=>J(Y))},null,8,["model-value"])]),R(Rt,{class:"revert-layer h-full min-h-0 w-full",type:"auto",ref_key:"scrollAreaRef",ref:l,onInView:C[1]||(C[1]=Y=>U(!1))},{default:K(()=>[R(ge,{loading:f(V),"has-more":f(y),threshold:500,"content-class":"max-w-[800px] w-full space-y-3 py-6",onLoadMore:P},{default:K(()=>[R(Be,{messages:f(Q),"scroll-area-height":f(i),error:f(d),assistant:{actions:[{label:f(s)("ai-chat.frontend.messages.retry"),icon:"i-lucide-rotate-cw-square",onClick:()=>f(Te)()}]},"spacing-offset":160,onFilePreview:f(D)},{content:K(({message:Y})=>[R(He,{content:Y.content},null,8,["content"])]),_:1},8,["messages","scroll-area-height","error","assistant","onFilePreview"])]),_:1},8,["loading","has-more"])]),_:1},512),I("div",Uo,[R(Bt,{modelValue:f(he),"onUpdate:modelValue":C[3]||(C[3]=Y=>Ve(he)?he.value=Y:null),"file-list":f(de),"onUpdate:fileList":C[4]||(C[4]=Y=>Ve(de)?de.value=Y:null),"is-loading":f(z),needAuth:!0,attachmentSizeLimit:f(M)?.attachmentSizeLimit,class:"sticky bottom-0 z-10 [view-transition-name:chat-prompt]",onStop:f(Z),onSubmit:B},{"panel-left":K(()=>[R(Dt,{supportedModelTypes:["llm"],"show-billingRule":!0,"open-local-storage":!0,placeholder:"选择AI模型开始对话",onChange:f(u).setSelectedModel},null,8,["onChange"]),R(Nt,{modelValue:f(v),"onUpdate:modelValue":C[2]||(C[2]=Y=>Ve(v)?v.value=Y:null),mcpIds:f(v)||[],capability:"chat",placeholder:"选择MCP..."},null,8,["modelValue","mcpIds"]),f(p)?(H(),oe(Ht,{key:0,color:f(S)?"primary":"neutral",variant:"ghost",icon:f(p)?.icon?"":"tabler:tool",ui:{leadingIcon:"size-4"},class:ot({"bg-primary/10":f(S)}),onClick:sn(G,["stop"])},{default:K(()=>[f(p)?.icon?(H(),oe(Tt,{key:0,src:f(p)?.icon,ui:{root:"size-4 rounded-md"}},null,8,["src"])):ae("",!0),ke(" "+ne(f(p)?.alias||f(p)?.name),1)]),_:1},8,["color","icon","class"])):ae("",!0)]),_:1},8,["modelValue","file-list","is-loading","attachmentSizeLimit","onStop"])]),I("div",Oo,ne(f(M)?.welcomeInfo?.footer),1)]),_:1},8,["default-size"]),f(_)?(H(),oe(f(Zn),{key:0,id:"chat-resize-handle",class:"w-px origin-center transition-opacity duration-300"})):ae("",!0),ln(R(f(dt),{id:"chat-preview-panel","min-size":20,"default-size":30,class:"preview-panel-wrapper relative h-full overflow-hidden",style:{contain:"layout size style"}},{default:K(()=>[R(un,{"enter-active-class":"transition-all duration-300 ease-out","enter-from-class":"opacity-0 translate-x-8","enter-to-class":"opacity-100 translate-x-0","leave-active-class":"transition-all duration-300 ease-in","leave-from-class":"opacity-100 translate-x-0","leave-to-class":"opacity-0 translate-x-8"},{default:K(()=>[f(_)?(H(),oe(Ft,{key:0,type:f(_),data:f(q),onClose:f(N)},null,8,["type","data","onClose"])):ae("",!0)]),_:1})]),_:1},512),[[cn,f(_)]])]),_:1})])}}});export{Qa as default};
