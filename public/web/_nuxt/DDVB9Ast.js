import{d as B,f as C,g as d,j as S,o as a,k as _,q as l,Y as s,c as o,F as k,B as $,z as i,t as c,l as A,bs as N,v as u}from"#entry";import{W as j}from"./nFtW2wrU.js";import"./DlAUqK2U.js";const P={key:0,class:"flex-none"},T=B({__name:"content",props:{messages:{},showAvatar:{type:Boolean},showSender:{type:Boolean},alignment:{},sideAlignment:{},maxWidthPercent:{},messageSpacing:{},style:{}},setup(p){const e=p,y=C(),m=d(()=>({height:"100%",display:"flex",flexDirection:"column",gap:`${e.messageSpacing}px`,overflowY:"auto",scrollBehavior:"smooth",paddingTop:`${e.style.contentPaddingTop}px`,paddingRight:`${e.style.contentPaddingRight}px`,paddingBottom:`${e.style.contentPaddingBottom}px`,paddingLeft:`${e.style.contentPaddingLeft}px`})),g=r=>{const n={borderRadius:`${e.style.bubbleRadius}px`,maxWidth:`${e.maxWidthPercent}%`};switch(r.role){case"user":return{...n,backgroundColor:e.style.userBubbleBg,color:e.style.userTextColor};case"assistant":return{...n,backgroundColor:e.style.assistantBubbleBg,color:e.style.assistantTextColor};default:return n}},f=d(()=>({width:`${e.style.avatarSize}px`,height:`${e.style.avatarSize}px`})),x=d(()=>({color:e.style.senderNameColor})),h=r=>e.alignment==="separate"?r.role==="user"?"justify-end":"justify-start":e.sideAlignment==="right"?"justify-end":"justify-start",v=r=>e.alignment==="separate"?r.role==="user"?"row-reverse":"row":e.sideAlignment==="right"?"row-reverse":"row",b=r=>e.alignment==="separate"?r.role==="user"?"text-right":"text-left":e.sideAlignment==="right"?"text-right":"text-left";return(r,n)=>{const w=N;return a(),S(j,{style:s(e.style),"override-bg-color":!0,"custom-class":"chat-bubble-content"},{default:_(({style:R})=>[l("div",{ref_key:"chatContainerRef",ref:y,style:s(m.value),class:"relative"},[(a(!0),o(k,null,$(e.messages,t=>(a(),o("div",{key:t.id,class:i(["flex w-full",h(t)])},[l("div",{class:i(["flex max-w-full",{"gap-1":e.alignment==="separate"&&t.role==="user","gap-2":!(e.alignment==="separate"&&t.role==="user")}]),style:s({flexDirection:v(t)})},[e.showAvatar&&t.avatar?(a(),o("div",P,[A(w,{src:t.avatar,alt:`${t.sender||t.role}的头像`,style:s(f.value),class:"rounded-full border-2 border-white/90 object-cover shadow-sm"},null,8,["src","alt","style"])])):c("",!0),l("div",{class:i(["flex min-w-0 flex-1 flex-col",{"items-end":e.alignment==="separate"&&t.role==="user"}])},[e.showSender&&t.sender?(a(),o("div",{key:0,style:s(x.value),class:i(["mb-1 text-xs font-medium",b(t)])},u(t.sender),7)):c("",!0),l("div",{class:"inline-block px-4 py-3 text-sm leading-relaxed break-words shadow-sm backdrop-blur-sm transition-all duration-200 hover:-translate-y-0.5 hover:shadow-md",style:s(g(t))},u(t.content),5)],2)],6)],2))),128))],4)]),_:1},8,["style"])}}});export{T as default};
