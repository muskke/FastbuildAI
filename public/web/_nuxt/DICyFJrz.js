const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./CBY9SXo7.js","./YsC0FLg2.js","./L68WRhQH.js","./d8SgN1fM.js","./EHoVw6ZP.js","./8-c-A7PB.js","./DN9ov8OT.js","./TH-3OOuG.js","./b-_TUx9i.js","./DaNf1Wdt.js","./CKXZhss7.js","./Cfcu-t3n.js","./BstbYvQo.js","./B22A-h4k.js","./CBooyAK7.js","./BsoAYZfI.js","./D-yR6Fj9.js","./Dn8X9Gvz.js","./DlAUqK2U.js"])))=>i.map(i=>d[i]);
import{d as T,a1 as A,aK as E,c as $,o as B,q as o,l as n,k as u,v as d,p as t,R as p,A as C,aS as x,z as w,_ as P,x as h,U as g}from"#entry";import{_ as F}from"./D-yR6Fj9.js";import{u as L}from"./DpSZ1r7x.js";import"./Dn8X9Gvz.js";import"./DlAUqK2U.js";const z={class:"segmentation-configurator mx-auto h-full max-w-7xl"},D={class:"grid h-full grid-cols-1 gap-8 lg:grid-cols-2"},I={class:"space-y-2"},M={class:"text-foreground text-sm font-medium"},U={class:"text-foreground text-sm font-medium"},N={class:"flex justify-end gap-4 py-4"},H=T({__name:"index",props:{indexingConfig:{},retrievalConfig:{},disabled:{type:Boolean}},emits:["update:retrievalConfig","onStepChange","onCreate","update:indexingConfig"],setup(c,{emit:V}){const k=p(()=>g(()=>import("./CBY9SXo7.js"),__vite__mapDeps([0,1]),import.meta.url)),S=p(()=>g(()=>import("./L68WRhQH.js"),__vite__mapDeps([2,1]),import.meta.url)),y=p(()=>g(()=>import("./d8SgN1fM.js"),__vite__mapDeps([3,4,1,5,6,7,8,9,10,11,12,13,14,15,16,17,18]),import.meta.url)),f=c,l=V,r=x(f,"indexingConfig",l),m=x(f,"retrievalConfig",l),a=A({totalSegments:0,fileResults:[],processingTime:0,processedFiles:0}),{lockFn:R,isLock:_}=E(async()=>{try{const e=await L(r.value);a.totalSegments=e.totalSegments,a.fileResults=e.fileResults,a.processingTime=e.processingTime,a.processedFiles=e.processedFiles}catch(e){console.error("预览失败:",e)}});return(e,s)=>{const v=P,b=F;return B(),$("div",z,[o("div",D,[n(b,{class:"table h-full pr-2",shadow:!1},{default:u(()=>[o("section",I,[o("h5",M,d(e.$t("ai-datasets.backend.create.stepTwo.segmentation")),1),n(t(S),{modelValue:t(r),"onUpdate:modelValue":s[0]||(s[0]=i=>C(r)?r.value=i:null),"is-previewing":t(_),"on-preview-segments":t(R)},null,8,["modelValue","is-previewing","on-preview-segments"])]),o("section",{class:w(["mt-4 space-y-4",{"cursor-not-allowed":c.disabled}])},[o("h5",U,d(e.$t("ai-datasets.backend.settings.retrievalMethod")),1),n(t(k),{modelValue:t(m),"onUpdate:modelValue":s[1]||(s[1]=i=>C(m)?m.value=i:null),class:w({"pointer-events-none opacity-70":c.disabled})},null,8,["modelValue","class"])],2),o("section",N,[n(v,{size:"lg",variant:"outline",onClick:s[2]||(s[2]=i=>l("onStepChange",-1))},{default:u(()=>[h(d(e.$t("ai-datasets.backend.create.previousStep")),1)]),_:1}),n(v,{size:"lg",onClick:s[3]||(s[3]=i=>l("onCreate"))},{default:u(()=>[h(d(e.$t("ai-datasets.backend.create.saveAndCreate")),1)]),_:1})])]),_:1}),n(t(y),{"is-previewing":t(_),results:t(a)},null,8,["is-previewing","results"])])])}}});export{H as default};
