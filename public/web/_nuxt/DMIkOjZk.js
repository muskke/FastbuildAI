import{d as A,b as C,s as b,aK as w,i as N,j as p,o as n,k as c,c as a,t as V,p as e,l as r,y as j,q as s,v as o,x as _,_ as F,aq as M}from"#entry";import{_ as T}from"./CBooyAK7.js";import{_ as U}from"./DBjGnECu.js";import{_ as q}from"./BYK_1AlN.js";import{a as I}from"./BcgmQzdY.js";import"./BJ_E6Ph7.js";import"./DSMB-qMT.js";import"./b-_TUx9i.js";import"./B22A-h4k.js";import"./Cfcu-t3n.js";import"./B128ot1i.js";import"./CoMGTw2w.js";import"./CP4Zo7YT.js";import"./XpsTG8vq.js";const L={key:0,class:"flex items-center justify-center py-10"},z={key:1,class:"space-y-6 p-2"},E={class:"grid grid-cols-1 gap-4 sm:grid-cols-2"},G={class:"text-muted-foreground text-sm font-medium"},K={class:"mt-1 font-mono text-sm"},P={class:"text-muted-foreground text-sm font-medium"},R={class:"mt-1 text-sm"},S={class:"text-muted-foreground text-sm font-medium"},H={class:"mt-1"},J={class:"text-muted-foreground text-sm font-medium"},O={class:"mt-1"},Q={class:"text-muted-foreground text-sm font-medium"},W={class:"mt-1 text-sm"},X={class:"grid grid-cols-1 gap-4 sm:grid-cols-2"},Y={class:"text-muted-foreground text-sm font-medium"},Z={class:"mt-1 text-sm"},ee={key:1},se={class:"text-muted-foreground text-sm font-medium"},te={class:"mt-1 text-sm"},oe={key:1},ie={class:"mt-6 flex justify-end"},he=A({__name:"edit",props:{code:{}},emits:["close"],setup(y,{emit:x}){const u=y,l=x,{t}=C(),i=b(null),{lockFn:h,isLock:g}=w(async()=>{try{const m=await I(u.code);i.value=m}catch(m){console.error("获取权限详情失败:",m),M().error(t("system-perms.permission.getDetailFailed")),l("close")}});return N(()=>u.code&&h()),(m,d)=>{const k=j,f=T,v=U,D=F,B=q;return n(),p(B,{title:e(t)("system-perms.permission.detailTitle"),description:e(t)("system-perms.permission.detailDesc"),ui:{content:"max-w-2xl"},onClose:d[1]||(d[1]=$=>l("close"))},{default:c(()=>[e(g)?(n(),a("div",L,[r(k,{name:"i-lucide-loader-2",class:"size-8 animate-spin"})])):e(i)?(n(),a("div",z,[s("div",E,[s("div",null,[s("div",G,o(e(t)("system-perms.permission.code")),1),s("div",K,o(e(i).code),1)]),s("div",null,[s("div",P,o(e(t)("system-perms.permission.name")),1),s("div",R,o(e(i).name),1)]),s("div",null,[s("div",S,o(e(t)("system-perms.permission.group")),1),s("div",H,[r(f,{color:"primary",variant:"subtle"},{default:c(()=>[_(o(e(i).group),1)]),_:1})])]),s("div",null,[s("div",J,o(e(t)("system-perms.permission.isDeprecated")),1),s("div",O,[r(f,{color:e(i).isDeprecated?"error":"success",variant:"subtle"},{default:c(()=>[_(o(e(i).isDeprecated?e(t)("system-perms.permission.yes"):e(t)("system-perms.permission.no")),1)]),_:1},8,["color"])])])]),s("div",null,[s("div",Q,o(e(t)("system-perms.permission.describe")),1),s("div",W,o(e(i).description||e(t)("system-perms.permission.noDescription")),1)]),s("div",X,[s("div",null,[s("div",Y,o(e(t)("console-common.createAt")),1),s("div",Z,[e(i).createdAt?(n(),p(v,{key:0,datetime:e(i).createdAt,mode:"datetime"},null,8,["datetime"])):(n(),a("span",ee,"-"))])]),s("div",null,[s("div",se,o(e(t)("console-common.updateAt")),1),s("div",te,[e(i).updatedAt?(n(),p(v,{key:0,datetime:e(i).updatedAt,mode:"datetime"},null,8,["datetime"])):(n(),a("span",oe,"-"))])])]),s("div",ie,[r(D,{color:"neutral",variant:"soft",onClick:d[0]||(d[0]=$=>l("close"))},{default:c(()=>[_(o(e(t)("console-common.close")),1)]),_:1})])])):V("",!0)]),_:1},8,["title","description"])}}});export{he as default};
