const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./B0mrc6gS.js","./YsC0FLg2.js","./BIwjuh_U.js","./Bez2VUEw.js","./DlCFzOeE.js","./BqoA6bN6.js","./TH-3OOuG.js","./Bub1HYiY.js","./B22A-h4k.js","./lw_U4-W2.js","./XpsTG8vq.js","./--UdezPG.js","./DCeylyAR.js","./Bfc6LCc8.js","./BMSQkwth.js","./DaWZu8wl.js","./l1H0tvBk.js","./B9WZOnAv.js","./CBooyAK7.js","./BaNg8fjw.js","./BvoFq0Fi.js","./BI1JbAYD.js","./Bu7cOM_l.js","./ADUcesrP.js","./2ydT-KR3.js","./Dn8X9Gvz.js","./B_gLqRAo.js","./DBjGnECu.js","./BvA0VnH0.js","./BO1GPLSL.js","./CLTNKp0S.js","./8-c-A7PB.js","./kRIii9yh.js","./Cfcu-t3n.js","./C6Y-ieo6.js","./b-_TUx9i.js","./DaNf1Wdt.js","./CKXZhss7.js","./Cpt2kRVT.js","./pUN2d83w.js","./DqVgEjI6.js","./D-yR6Fj9.js","./DlAUqK2U.js","./CdEI2ZYD.js","./CfxLE1oh.js","./C1DLXs69.js","./B1XcE43x.js","./BDS0FVMi.js","./DqNHTeRY.js","./BAtm-ujp.js","./CPdnHwcb.js","./PM3E-asR.js","./BwTGIg9g.js","./BWWuJQeZ.js","./DN9ov8OT.js","./9bDOsXij.js","./nBDBqKnC.js","./BgHJjJs-.js","./Cou45cKM.js","./BstbYvQo.js","./CP4Zo7YT.js"])))=>i.map(i=>d[i]);
import{d as j,aJ as B,b as M,s as g,R as r,e as N,O as q,a1 as z,aK as K,w as Q,H,i as J,p as e,aa as W,c as G,o as v,q as n,v as b,j as k,l,A as p,at as X,t as Y,k as R,_ as Z,x as ee,U as u,aq as I,aL as te}from"#entry";import{_ as ae}from"./CbuHra-u.js";import{_ as oe}from"./BwTGIg9g.js";import{_ as ne}from"./CJG2iIES.js";import{a as se}from"./BDS0FVMi.js";const le={class:"flex h-full min-h-0 flex-1 flex-col p-4"},ie={class:"flex items-center justify-between"},re={class:"text-foreground text-lg font-medium"},ue={class:"flex h-full min-h-0 flex-1 gap-4 pt-4 pr-4"},ce={class:"flex h-full min-h-0 w-1/2 flex-none flex-col"},de={class:"mb-4 flex"},me={class:"flex h-full min-h-0 w-1/2 flex-none flex-col"},fe={class:"mb-4 flex items-center justify-end gap-3 p-0.5"},pe={class:"bg-muted border-default flex h-full min-h-0 w-full flex-col rounded-lg border"},_e={class:"flex items-center justify-between p-4"},ge={class:"text-foreground text-lg font-medium"},ve={class:"flex items-center gap-2"},ke=j({__name:"index",setup(be){const A=r(()=>u(()=>import("./B0mrc6gS.js"),__vite__mapDeps([0,1,2]),import.meta.url)),E=r(()=>u(()=>import("./Bez2VUEw.js"),__vite__mapDeps([3,1]),import.meta.url)),P=r(()=>u(()=>import("./DlCFzOeE.js"),__vite__mapDeps([4,1,5,6,7,8,9,10,11]),import.meta.url)),S=r(()=>u(()=>import("./DCeylyAR.js"),__vite__mapDeps([12,1,13,14,15,16,17,18,5,6,7,8,9,10,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,11,45,46,47,48]),import.meta.url)),U=r(()=>u(()=>import("./BAtm-ujp.js"),__vite__mapDeps([49,1,50,18,11,51,29,30,31,32,6,33,34,35,36,37,38,39,8,7,41,25,42,46,52,53,54,55,56,57,5,9,10,58,59,60]),import.meta.url)),y=B(),{t:i}=M(),h=g(!1),x=y.params.id,c=W("agents"),d=g("0"),w=[{value:"0",label:i("ai-agent.backend.configuration.func"),component:A},{value:"1",label:i("ai-agent.backend.configuration.user"),component:E},{value:"2",label:i("ai-agent.backend.configuration.billingSetup"),component:P}],C=N("previewChatRef"),m=g(!0),f=q("agent-config-auto-save",{default:()=>!0}),t=z({name:"",description:"",avatar:"",chatAvatar:"",rolePrompt:"",createMode:"direct",showContext:!0,showReference:!0,enableFeedback:!0,enableWebSearch:!1,billingConfig:{price:0},modelConfig:{id:"",options:{}},datasetIds:[],mcpServerIds:[],openingStatement:"你好，我是智能体默认开场白，你可以在界面配置中修改我",openingQuestions:["我打算去北京旅游，有什么推荐的路线吗？","预算大约2万，能帮我规划一下行程吗？","我对历史文化很感兴趣，有合适的目的地推荐吗？"],isPublic:!1,quickCommands:[],autoQuestions:{enabled:!1,customRuleEnabled:!1,customRule:""},formFields:[],formFieldsInputs:{},thirdPartyIntegration:{},tagIds:[]});function D(){if(!t.formFields||t.formFields.length===0){I().error(i("ai-agent.backend.configuration.variableInputDesc"));return}m.value=!m.value}const{lockFn:V,isLock:F}=K(async(o=!0)=>{await se(x,t),o&&I().success(i("common.message.updateSuccess")),te(`agent-detail-${x}`)}),O=H(()=>V(!1),1e3);return Q(()=>t,()=>{!h.value||!f.value||O()},{deep:!0}),J(()=>{Reflect.ownKeys({...t,tags:[]}).forEach(o=>{e(c)&&Object.prototype.hasOwnProperty.call(e(c),o)&&o!=="tags"&&(t[o]=e(c)?.[o]??t[o]),o==="tags"&&(t.tagIds=e(c)?.tags?.map(a=>a.id)??[])}),setTimeout(()=>{h.value=!0},1500)}),(o,a)=>{const T=ae,$=oe,_=Z,L=ne;return v(),G("div",le,[n("div",ie,[n("h1",re,b(o.$t("ai-agent.backend.menu.arrange")),1)]),n("div",ue,[n("div",ce,[n("div",de,[l(T,{modelValue:e(d),"onUpdate:modelValue":a[0]||(a[0]=s=>p(d)?d.value=s:null),items:w,class:"block w-auto"},null,8,["modelValue"])]),(v(),k(X(w[Number(e(d))]?.component),{modelValue:e(t),"onUpdate:modelValue":a[1]||(a[1]=s=>p(t)?t.value=s:null)},null,8,["modelValue"]))]),n("div",me,[n("div",fe,[l($,{modelValue:e(f),"onUpdate:modelValue":a[2]||(a[2]=s=>p(f)?f.value=s:null),label:e(i)("ai-agent.backend.configuration.enableAutoSave"),class:"flex-none"},null,8,["modelValue","label"]),e(t).createMode==="direct"?(v(),k(e(U),{key:0,modelValue:e(t).modelConfig,"onUpdate:modelValue":a[3]||(a[3]=s=>e(t).modelConfig=s)},null,8,["modelValue"])):Y("",!0),l(L,{codes:["ai-agent:update"]},{default:R(()=>[l(_,{trailingIcon:"i-lucide-arrow-big-up",color:"primary",size:"lg",class:"flex-none gap-1 px-4",disabled:e(F),onClick:e(V)},{default:R(()=>[ee(b(o.$t("ai-agent.backend.configuration.saveConfig")),1)]),_:1},8,["disabled","onClick"])]),_:1})]),n("div",pe,[n("div",_e,[n("h1",ge,b(o.$t("ai-agent.backend.configuration.debugPreview")),1),n("div",ve,[l(_,{icon:"i-lucide-refresh-cw",color:"primary",variant:"ghost",onClick:a[4]||(a[4]=s=>e(C)?.clearRecord())}),l(_,{icon:"i-lucide-settings-2",color:"primary",variant:e(m)?"soft":"ghost",onClick:D},null,8,["variant"])])]),l(e(S),{agent:e(t),"onUpdate:agent":a[5]||(a[5]=s=>p(t)?t.value=s:null),ref_key:"previewChatRef",ref:C,"show-variable-input":e(m)},null,8,["agent","show-variable-input"])])])])])}}});export{ke as _};
