import{d as U,aV as V,aJ as q,aZ as F,f as x,g as N,w as E,c as a,q as o,l as t,k as m,A as G,p as i,F as w,B as k,D as I,v as h,x as J,j as P,b6 as R,_ as j,b7 as H,a_ as W,b8 as Z,o as n,z as D,an as K,G as M}from"#entry";import{_ as X}from"./BsoAYZfI.js";import{_ as Y}from"./tZe-4A_l.js";import{_ as Q}from"./D-yR6Fj9.js";import{_ as ee}from"./zTBChdp5.js";import{_ as te}from"./D_xVtNgx.js";import{_ as oe}from"./DBjGnECu.js";import{d as ne}from"./CP4Zo7YT.js";import"./Dba-M22T.js";import"./BvoFq0Fi.js";import"./B22A-h4k.js";import"./8-c-A7PB.js";import"./BWWuJQeZ.js";import"./C6Y-ieo6.js";import"./Dn8X9Gvz.js";import"./DlAUqK2U.js";import"./2ydT-KR3.js";import"./7mZ7jJaJ.js";import"./DSMB-qMT.js";import"./b-_TUx9i.js";import"./Cfcu-t3n.js";import"./B128ot1i.js";import"./CoMGTw2w.js";import"./XpsTG8vq.js";const se={class:"bg-background flex size-full overflow-hidden"},ae={class:"fixed bottom-1/2 left-0 md:hidden"},ie={class:"relative flex h-full w-52 flex-col"},le={class:"absolute -right-7 bottom-1/2 md:hidden"},re={class:"flex-1 overflow-hidden"},ce={key:0,class:"h-full space-y-3"},pe={key:1,class:"flex flex-col gap-3"},de=["onClick"],ue={class:"mt-auto px-4 py-2"},me={class:"bg-muted w-0 overflow-x-hidden transition-[width] md:w-44 lg:w-52"},_e={class:"flex h-full w-full min-w-44 flex-col gap-4"},fe={class:"flex-1 overflow-hidden"},ve={key:0,class:"h-full space-y-3"},ye={key:1,class:"flex flex-col gap-3 text-sm"},he=["onClick"],ge={class:"mt-auto px-4 py-2"},xe={id:"__read_area__",class:"flex-1 overflow-y-auto"},we={class:"mx-auto flex w-full flex-col gap-4 p-6 md:max-w-prose"},ke={key:0,class:"space-y-4"},Ae={class:"mt-8! space-y-6"},Ce={key:1,class:"space-y-4"},be={class:"text-2xl font-medium"},Te={class:"text-foreground/60 text-xs"},Se={key:1},$e={class:"prose dark:prose-invert"},tt=U({__name:"index",async setup(De){let f,A;V({title:"Policy Agreements"});const B=q(),{data:v,pending:C}=([f,A]=F(()=>W(()=>Z(),{transform:u=>{const e=u.agreement;if(!e)return console.warn("Agreement configuration not found"),[];const c=[];return e.serviceTitle&&e.serviceContent&&c.push({title:e.serviceTitle,type:"service",content:e.serviceContent,updateAt:e.updateAt||new Date().toISOString()}),e.privacyTitle&&e.privacyContent&&c.push({title:e.privacyTitle,type:"privacy",content:e.privacyContent,updateAt:e.updateAt||new Date().toISOString()}),e.paymentTitle&&e.paymentContent&&c.push({title:e.paymentTitle,type:"payment",content:e.paymentContent,updateAt:e.updateAt||new Date().toISOString()}),c}},"$8SJ7sF5zWw")),f=await f,A(),f);(!v.value||v.value.length===0)&&console.error("Agreement configuration data not found");const d=x(!1);ne({o:()=>d.value=!d.value});const g=x(!1),r=x(null),b=N(()=>[{id:"agreement",value:"agreement",label:"Policy Agreements",defaultOpen:!0,list:v.value||[]}]);async function T(u,e){g.value=!0,r.value=e,await K({path:"/agreement",query:{type:u,item:e.type}},{replace:!0}),await M(),document.getElementById("__read_area__")?.scrollTo({top:0,behavior:"smooth"}),g.value=!1}return E(()=>B.query,u=>{const e=u.type,c=u.item,s=v.value||[];if(e==="agreement"&&c){const _=s.find(y=>y.type===c);if(_){r.value=_;return}}s[0]&&!r.value&&(r.value=s[0])},{immediate:!0}),(u,e)=>{const c=j,s=X,_=Y,y=Q,S=ee,$=H,z=te,O=oe,L=R("dompurify-html");return n(),a("div",se,[o("div",ae,[t(c,{icon:"tabler:list",ui:{base:"rounded-s-none"},onClick:e[0]||(e[0]=l=>d.value=!0)})]),t(z,{open:i(d),"onUpdate:open":e[2]||(e[2]=l=>G(d)?d.value=l:null),side:"left",ui:{content:"!w-fit flex-0 max-w-fit"}},{content:m(()=>[o("div",ie,[o("div",le,[t(c,{icon:"tabler:text-wrap",ui:{base:"rounded-s-none"},onClick:e[1]||(e[1]=l=>d.value=!1)})]),o("div",re,[t(y,{class:"h-full px-4"},{default:m(()=>[t(_,{items:i(b),type:"multiple",style:{"--ui-border":"transparent"},"default-value":["agreement"],ui:{trigger:"text-md",trailingIcon:"size-4"}},{content:m(({item:l})=>[i(C)?(n(),a("div",ce,[t(s,{class:"h-6 w-full"}),t(s,{class:"h-6 w-full"}),t(s,{class:"h-6 w-full"})])):(n(),a("div",pe,[(n(!0),a(w,null,k(l.list,p=>(n(),a("div",{key:p.type,class:D(["hover:text-foreground active:text-primary cursor-pointer truncate pr-3 pl-6",{"text-primary hover:text-primary!":p.type===i(r)?.type}]),onClick:()=>{T(l.id,p),d.value=!1}},h(p.title),11,de))),128))]))]),_:1},8,["items"])]),_:1})]),o("div",ue,[t($,null,{default:m(()=>[t(S)]),_:1})])])]),_:1},8,["open"]),o("div",me,[o("div",_e,[o("div",fe,[t(y,{class:"h-full pr-4 pl-2"},{default:m(()=>[t(_,{items:i(b),type:"multiple","default-value":["agreement"],style:{"--ui-border":"transparent"},ui:{trailingIcon:"size-4"}},{content:m(({item:l})=>[i(C)?(n(),a("div",ve,[t(s,{class:"h-6 w-full"}),t(s,{class:"h-6 w-full"}),t(s,{class:"h-6 w-full"})])):(n(),a("div",ye,[(n(!0),a(w,null,k(l.list,p=>(n(),a("div",{key:p.type,class:D(["hover:text-foreground active:text-primary cursor-pointer truncate pr-3 pl-6",{"text-primary hover:text-primary!":p.type===i(r)?.type}]),onClick:Be=>T(l.id,p)},h(p.title),11,he))),128))]))]),_:1},8,["items"])]),_:1})]),o("div",ge,[t($,null,{default:m(()=>[t(S)]),_:1})])])]),o("div",xe,[o("div",we,[i(g)?(n(),a("div",ke,[t(s,{class:"h-6 w-[250px]"}),t(s,{class:"h-4 w-[200px]"}),o("div",Ae,[(n(),a(w,null,k(15,l=>t(s,{key:l,class:"h-4 w-full"})),64))])])):(n(),a("div",Ce,[o("h1",be,h(i(r)?.title),1),o("p",Te,[J(h(u.$t("common.updateAt"))+": ",1),i(r)?.updateAt?(n(),P(O,{key:0,datetime:i(r).updateAt,mode:"datetime"},null,8,["datetime"])):(n(),a("span",Se,"-"))]),I(o("div",$e,null,512),[[L,i(r)?.content]])]))])])])}}});export{tt as default};
