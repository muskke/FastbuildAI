import{d as $,a1 as D,s as V,w as C,c as r,o as u,q as e,v as t,l,y as O,F as f,t as B,p as n,B as U,_ as L,A as H,k as N,x as P}from"#entry";import M from"./--UdezPG.js";import{_ as S}from"./ZZC6mEJB.js";import"./BgHJjJs-.js";import"./DN9ov8OT.js";import"./nBDBqKnC.js";const j={class:"cursor-no-drop space-y-6"},z={class:"mb-2 text-lg font-medium"},E={class:"text-muted-foreground text-sm"},F={key:0,class:"border-border rounded-lg border p-6 text-center"},I={class:"mb-2 font-medium"},K={class:"text-muted-foreground text-sm"},R={class:"space-y-4"},q={class:"space-y-2"},A={class:"text-sm font-medium"},J={class:"text-muted-foreground text-xs"},T={key:0,class:"space-y-2"},G={class:"flex gap-2"},Q={class:"space-y-2"},W={class:"text-sm font-medium"},X={class:"text-muted-foreground text-xs"},Y={class:"space-y-4"},Z={class:"font-medium"},ee={class:"space-y-3"},se={class:"flex items-center justify-between"},te={class:"text-sm font-medium"},oe={class:"text-muted-foreground text-xs"},ne={class:"flex items-center justify-between"},ie={class:"text-sm font-medium"},ae={class:"text-muted-foreground text-xs"},le={class:"border-border rounded-lg border p-4"},de={class:"mb-3 font-medium"},re={class:"text-muted-foreground overflow-auto text-xs"},_e=$({__name:"publish-settings",props:{agent:{}},emits:["update"],setup(p,{emit:w}){const c=p,v=w,o=D({allowOrigins:c.agent?.publishConfig?.allowOrigins||[],rateLimitPerMinute:c.agent?.publishConfig?.rateLimitPerMinute||60,showBranding:c.agent?.publishConfig?.showBranding??!0,allowDownloadHistory:c.agent?.publishConfig?.allowDownloadHistory??!1}),d=V("");C(()=>o,s=>{v("update",{...s})},{deep:!0});const g=()=>{d.value.trim()&&!o.allowOrigins.includes(d.value.trim())&&(o.allowOrigins.push(d.value.trim()),d.value="")},y=s=>{o.allowOrigins.splice(s,1)},k=s=>{s.key==="Enter"&&(s.preventDefault(),g())};return(s,a)=>{const x=O,m=M,h=L,b=S;return u(),r("div",j,[e("div",null,[e("h3",z,t(s.$t("ai-agent.backend.publish.publishConfig")),1),e("p",E,t(s.$t("ai-agent.backend.publish.publishConfigDesc")),1)]),p.agent?.isPublished?(u(),r(f,{key:1},[e("div",R,[e("div",q,[e("label",A,t(s.$t("ai-agent.backend.publish.allowedDomains")),1),e("p",J,t(s.$t("ai-agent.backend.publish.allowedDomainsDesc")),1),n(o).allowOrigins.length>0?(u(),r("div",T,[(u(!0),r(f,null,U(n(o).allowOrigins,(i,_)=>(u(),r("div",{key:_,class:"flex items-center gap-2"},[l(m,{value:i,readonly:"",class:"flex-1"},null,8,["value"]),l(h,{icon:"i-lucide-x",variant:"ghost",size:"sm",onClick:ue=>y(_)},null,8,["onClick"])]))),128))])):B("",!0),e("div",G,[l(m,{modelValue:n(d),"onUpdate:modelValue":a[0]||(a[0]=i=>H(d)?d.value=i:null),placeholder:"例如：https://example.com",class:"flex-1",disabled:"",onKeydown:k},null,8,["modelValue"]),l(h,{disabled:"",onClick:g},{default:N(()=>[P(t(s.$t("console-common.add")),1)]),_:1})])]),e("div",Q,[e("label",W,t(s.$t("ai-agent.backend.publish.rateLimit")),1),e("p",X,t(s.$t("ai-agent.backend.publish.rateLimitDesc")),1),l(m,{modelValue:n(o).rateLimitPerMinute,"onUpdate:modelValue":a[1]||(a[1]=i=>n(o).rateLimitPerMinute=i),type:"number",min:"0",max:"1000",placeholder:"60",class:"w-32",disabled:""},null,8,["modelValue"])])]),e("div",Y,[e("h4",Z,t(s.$t("ai-agent.backend.publish.featureSettings")),1),e("div",ee,[e("div",se,[e("div",null,[e("div",te,t(s.$t("ai-agent.backend.publish.showBranding")),1),e("div",oe,t(s.$t("ai-agent.backend.publish.showBrandingDesc")),1)]),l(b,{modelValue:n(o).showBranding,"onUpdate:modelValue":a[2]||(a[2]=i=>n(o).showBranding=i),disabled:""},null,8,["modelValue"])]),e("div",ne,[e("div",null,[e("div",ie,t(s.$t("ai-agent.backend.publish.allowDownloadHistory")),1),e("div",ae,t(s.$t("ai-agent.backend.publish.allowDownloadHistoryDesc")),1)]),l(b,{modelValue:n(o).allowDownloadHistory,"onUpdate:modelValue":a[3]||(a[3]=i=>n(o).allowDownloadHistory=i),disabled:""},null,8,["modelValue"])])])]),e("div",le,[e("h4",de,t(s.$t("ai-agent.backend.publish.previewConfig")),1),e("pre",re,"                    "+t(JSON.stringify(n(o),null,2))+`
                `,1)])],64)):(u(),r("div",F,[l(x,{name:"i-lucide-lock",class:"text-muted-foreground mx-auto mb-3 size-12"}),e("h4",I,t(s.$t("ai-agent.backend.publish.unpublished")),1),e("p",K,t(s.$t("ai-agent.backend.publish.unpublishedDesc4")),1)]))])}}});export{_e as default};
