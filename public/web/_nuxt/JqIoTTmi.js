import{ai as c,au as p}from"#entry";function u(i){const{page:o=1,pageSize:r=15,fetchFun:g,params:t={},firstLoading:l=!1}=i,s=Object.assign({},c(t)),e=p({page:o,pageSize:r,loading:l,total:0,items:[],extend:{},needPolling:!1}),n=()=>(e.loading=!0,g({page:e.page,pageSize:e.pageSize,...t}).then(a=>(e.total=a?.total,e.items=a?.items,e.extend=a?.extend,e.needPolling=a?.needPolling||!1,Promise.resolve(a))).catch(a=>Promise.reject(a)).finally(()=>{e.loading=!1}));return{paging:e,getLists:n,resetParams:()=>{Object.keys(s).forEach(a=>{t[a]=s[a]}),n()},resetPage:()=>{e.page=1,n()}}}export{u};
