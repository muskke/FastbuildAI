import{c8 as g,f as A,d as w,Z as C,au as k,ah as b,al as K,c9 as m,G as x,ag as h,ca as F,cb as I,cc as U,cd as T,ce as y,j as P,o as N,k as R,r as Y,p as B,$ as D,cf as M}from"#entry";const j=g(()=>A([]));function q(){const e=j();return{add(t){const a=e.value[0];t!==a&&a?.pause(),e.value=L(e.value,t),e.value.unshift(t)},remove(t){e.value=L(e.value,t),e.value[0]?.resume()}}}function L(e,t){const a=[...e],c=a.indexOf(t);return c!==-1&&a.splice(c,1),a}function G(e){return e.filter(t=>t.tagName!=="A")}var $=w({__name:"FocusScope",props:{loop:{type:Boolean,required:!1,default:!1},trapped:{type:Boolean,required:!1,default:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["mountAutoFocus","unmountAutoFocus"],setup(e,{emit:t}){const a=e,c=t,{currentRef:v,currentElement:d}=C(),f=A(null),S=q(),i=k({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}});b(n=>{if(!K)return;const s=d.value;if(!a.trapped)return;function o(l){if(i.paused||!s)return;const p=l.target;s.contains(p)?f.value=p:m(f.value,{select:!0})}function E(l){if(i.paused||!s)return;const p=l.relatedTarget;p!==null&&(s.contains(p)||m(f.value,{select:!0}))}function r(l){s.contains(f.value)||m(s)}document.addEventListener("focusin",o),document.addEventListener("focusout",E);const u=new MutationObserver(r);s&&u.observe(s,{childList:!0,subtree:!0}),n(()=>{document.removeEventListener("focusin",o),document.removeEventListener("focusout",E),u.disconnect()})}),b(async n=>{const s=d.value;if(await x(),!s)return;S.add(i);const o=h();if(!s.contains(o)){const r=new CustomEvent(F,y);s.addEventListener(F,u=>c("mountAutoFocus",u)),s.dispatchEvent(r),r.defaultPrevented||(I(G(U(s)),{select:!0}),h()===o&&m(s))}n(()=>{s.removeEventListener(F,l=>c("mountAutoFocus",l));const r=new CustomEvent(T,y),u=l=>{c("unmountAutoFocus",l)};s.addEventListener(T,u),s.dispatchEvent(r),setTimeout(()=>{r.defaultPrevented||m(o??document.body,{select:!0}),s.removeEventListener(T,u),S.remove(i)},0)})});function _(n){if(!a.loop&&!a.trapped||i.paused)return;const s=n.key==="Tab"&&!n.altKey&&!n.ctrlKey&&!n.metaKey,o=h();if(s&&o){const E=n.currentTarget,[r,u]=M(E);r&&u?!n.shiftKey&&o===u?(n.preventDefault(),a.loop&&m(r,{select:!0})):n.shiftKey&&o===r&&(n.preventDefault(),a.loop&&m(u,{select:!0})):o===E&&n.preventDefault()}}return(n,s)=>(N(),P(B(D),{ref_key:"currentRef",ref:v,tabindex:"-1","as-child":n.asChild,as:n.as,onKeydown:_},{default:R(()=>[Y(n.$slots,"default")]),_:3},8,["as-child","as"]))}}),J=$;const Q="menu.itemSelect",O=["Enter"," "],H=["ArrowDown","PageUp","Home"],V=["ArrowUp","PageDown","End"],W=[...H,...V],ee={ltr:[...O,"ArrowRight"],rtl:[...O,"ArrowLeft"]},te={ltr:["ArrowLeft"],rtl:["ArrowRight"]};function se(e){return e?"open":"closed"}function X(e){return e==="indeterminate"}function ne(e){return X(e)?"indeterminate":e?"checked":"unchecked"}function ae(e){const t=h();for(const a of e)if(a===t||(a.focus(),h()!==t))return}function Z(e,t){const{x:a,y:c}=e;let v=!1;for(let d=0,f=t.length-1;d<t.length;f=d++){const S=t[d].x,i=t[d].y,_=t[f].x,n=t[f].y;i>c!=n>c&&a<(_-S)*(c-i)/(n-i)+S&&(v=!v)}return v}function oe(e,t){if(!t)return!1;const a={x:e.clientX,y:e.clientY};return Z(a,t)}function re(e){return e.pointerType==="mouse"}export{J as F,Q as I,V as L,O as S,W as a,re as b,ne as c,X as d,te as e,ae as f,se as g,ee as h,oe as i};
