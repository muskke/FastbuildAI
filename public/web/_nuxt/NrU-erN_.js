import{d as A,aJ as N,au as T,b as U,b9 as D,g as I,f as V,aZ as F,a_ as q,w as E,c,p as e,o,q as a,l as u,j as x,t as m,z as g,_ as G,y as J,k,v as i,x as p,a$ as L,ba as Q}from"#entry";import{_ as Z}from"./BqoA6bN6.js";import{_ as H}from"./Bu7cOM_l.js";import{_ as K}from"./D34gzPKg.js";import{u as f}from"./DqVgEjI6.js";import{a as O}from"./BI1JbAYD.js";import{j as W}from"./DpSZ1r7x.js";import{u as X}from"./Dp_0VxUw.js";import"./TH-3OOuG.js";import"./Bub1HYiY.js";import"./B22A-h4k.js";import"./lw_U4-W2.js";import"./XpsTG8vq.js";import"./Dba-M22T.js";import"./BvoFq0Fi.js";import"./8-c-A7PB.js";import"./BWWuJQeZ.js";import"./C6Y-ieo6.js";import"./CBooyAK7.js";import"./BO1GPLSL.js";import"./CLTNKp0S.js";import"./kRIii9yh.js";import"./Cfcu-t3n.js";import"./b-_TUx9i.js";import"./DaNf1Wdt.js";import"./CKXZhss7.js";import"./Cpt2kRVT.js";import"./pUN2d83w.js";const Y={key:0,class:"flex h-full min-h-0 w-full"},ee={class:"flex flex-col space-y-3"},te={class:"bg-primary-50 border-default flex rounded-lg border p-2"},se={class:"text-foreground line-clamp-2 text-sm font-medium"},ae={key:1,class:"text-muted-foreground text-xs"},ie={class:"text-muted-foreground flex flex-col space-y-3 text-xs"},oe={key:0,class:"flex items-center justify-between font-medium"},ne={key:1,class:"flex items-center justify-between font-medium"},le={key:2,class:"flex items-center justify-between font-medium"},re={key:3,class:"text-accent-foreground flex items-center justify-between font-medium"},de={class:"flex h-full w-full flex-col justify-between"},ce={key:1,class:"flex h-[calc(100vh-6rem)] items-center justify-center text-center"},ue={class:"max-w-md"},me={class:"mb-2 text-xl font-semibold text-gray-800"},pe={class:"text-muted-foreground mb-6"},Ge=A({__name:"[id]",async setup(fe){let b,w;const v=N(),$=T(),{t:l}=U(),z=D("(max-width: 1380px)"),{hasAccessByCodes:_}=X(),r=I(()=>v.params.id),s=V(!1),{data:n}=([b,w]=F(()=>q(`dataset-detail-${r.value}`,()=>W(r.value))),b=await b,w(),b);Q("datasets",n);const R={normal:l("ai-datasets.backend.create.segment.general"),hierarchical:l("ai-datasets.backend.create.segment.hierarchical")},C={vector:l("ai-datasets.backend.retrieval.vector"),fullText:l("ai-datasets.backend.retrieval.fullText"),hybrid:l("ai-datasets.backend.retrieval.hybrid")};return E(z,t=>{t?s.value=!0:s.value=!1}),(t,d)=>{const h=G,y=J,P=Z,j=H,M=K,B=L;return e(n)!==void 0?(o(),c("div",Y,[a("div",{class:g(["bg-muted flex h-full w-50 flex-none flex-col rounded-tr-xl rounded-br-xl p-4",{"w-18!":e(s)}])},[a("div",ee,[a("div",{class:g(["flex items-center justify-between gap-2",{"flex-col!":e(s)}])},[u(h,{variant:"soft",color:"neutral",size:"lg","leading-icon":"i-lucide-arrow-left",onClick:d[0]||(d[0]=S=>e($).replace(("useRoutePath"in t?t.useRoutePath:e(f))("ai-datasets:list")))}),a("div",te,[u(y,{name:"i-lucide-folder",class:"text-primary size-5"})])],2),e(s)?m("",!0):(o(),x(P,{key:0,text:e(n)?.name,"delay-duration":0},{default:k(()=>[a("div",se,i(e(n)?.name),1)]),_:1},8,["text"])),e(s)?m("",!0):(o(),c("div",ae,i(e(n)?.description),1)),a("div",ie,[e(s)?m("",!0):(o(),c("div",oe,[a("span",null,i(e(l)("ai-datasets.backend.create.stepThree.segmentMode"))+"：",1),p(" "+i(R[e(n)?.indexingConfig?.documentMode||"normal"]),1)])),e(s)?m("",!0):(o(),c("div",ne,[a("span",null,i(e(l)("ai-datasets.backend.common.retrievalMode"))+"：",1),p(" "+i(C[e(n)?.retrievalConfig?.retrievalMode||"vector"]),1)])),e(s)?m("",!0):(o(),c("div",le,[a("span",null,i(e(l)("ai-datasets.backend.dataset.table.storageSize"))+"：",1),p(" "+i(("formatFileSize"in t?t.formatFileSize:e(O))(e(n)?.storageSize*1)),1)])),e(s)?m("",!0):(o(),c("div",re,[a("span",null,i(t.$t("ai-datasets.backend.menu.relatedApplications"))+"：",1),p(" "+i(e(n)?.relatedAgentCount||0),1)]))])]),u(j,{class:"my-3 flex"}),a("div",de,[u(M,{orientation:"vertical",collapsed:e(s),items:[e(_)(["ai-datasets-documents:list"])?{label:t.$t("ai-datasets.backend.menu.documents"),icon:"i-lucide-files",to:("useRoutePath"in t?t.useRoutePath:e(f))("ai-datasets-documents:list",{id:e(r)}),active:e(v).path.includes(`/console/datasets/${e(r)}/segments`)||e(v).path.includes(`/console/datasets/${e(r)}/documents`)}:null,e(_)(["ai-datasets:retrieval-test"])?{label:t.$t("ai-datasets.backend.menu.retrieval"),icon:"i-lucide-radar",to:("useRoutePath"in t?t.useRoutePath:e(f))("ai-datasets:retrieval-test",{id:e(r)})}:null,e(_)(["ai-datasets-team-members:list"])?{label:t.$t("ai-datasets.backend.menu.members"),icon:"i-lucide-users",to:("useRoutePath"in t?t.useRoutePath:e(f))("ai-datasets-team-members:list",{id:e(r)})}:null,e(_)(["ai-datasets:update"])?{label:t.$t("ai-datasets.backend.menu.settings"),icon:"i-lucide-settings-2",to:("useRoutePath"in t?t.useRoutePath:e(f))("ai-datasets:update",{id:e(r)})}:null].filter(Boolean),class:"data-[orientation=vertical]:w-full",ui:{list:"space-y-1",link:e(s)?"p-2.5":"p-2 pl-3",linkLeadingIcon:e(s)?"size-5":"size-4"}},null,8,["collapsed","items","ui"]),a("div",{class:g(["mt-auto flex items-center justify-center",{"justify-between!":!e(s)}])},[u(h,{"data-sidebar":"trigger",variant:"ghost",color:"neutral",size:"xs",ui:{base:"py-2"},onClick:d[1]||(d[1]=S=>s.value=!e(s))},{default:k(()=>[e(s)?(o(),x(y,{key:1,name:"i-lucide-panel-left",class:"size-5"})):(o(),x(y,{key:0,name:"i-lucide-panel-right",class:"size-5"})),d[2]||(d[2]=a("span",{class:"sr-only"},"侧边栏切换",-1))]),_:1})],2)])],2),u(B)])):(o(),c("div",ce,[a("div",ue,[d[3]||(d[3]=a("h1",{class:"text-error mb-4 text-6xl font-extrabold"},"403",-1)),a("p",me,i(t.$t("ai-datasets.backend.permission.title")),1),a("p",pe,i(t.$t("ai-datasets.backend.permission.description")),1),u(h,{to:"/",color:"primary",size:"lg",icon:"i-heroicons-arrow-left"},{default:k(()=>[p(i(t.$t("ai-datasets.backend.permission.back")),1)]),_:1})])]))}}});export{Ge as default};
