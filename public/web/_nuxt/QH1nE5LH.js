import{d as S,ap as j,f as h,j as y,o as r,k as m,c,p as e,A,r as D,D as x,q as o,t as b,l as i,C as T,aU as V,v as a,_ as q,z as F,y as L,x as O,B as P,F as E,b7 as M,b6 as R}from"#entry";import{_ as G}from"./Bu7cOM_l.js";import{_ as H}from"./zTBChdp5.js";import{_ as J}from"./BO1GPLSL.js";import{d as K}from"./BmcQ4QW7.js";import{useI18n as Q}from"./B_gLqRAo.js";import"./2ydT-KR3.js";import"./Dn8X9Gvz.js";import"./7mZ7jJaJ.js";import"./DlAUqK2U.js";import"./CLTNKp0S.js";import"./8-c-A7PB.js";import"./kRIii9yh.js";import"./TH-3OOuG.js";import"./Cfcu-t3n.js";import"./C6Y-ieo6.js";import"./b-_TUx9i.js";import"./DaNf1Wdt.js";import"./CKXZhss7.js";import"./Cpt2kRVT.js";import"./pUN2d83w.js";import"./B22A-h4k.js";import"./Bub1HYiY.js";import"./D34gzPKg.js";import"./Dba-M22T.js";import"./BvoFq0Fi.js";import"./BWWuJQeZ.js";import"./CBooyAK7.js";import"./BqoA6bN6.js";import"./lw_U4-W2.js";import"./XpsTG8vq.js";import"./XNFJUl58.js";/* empty css        */const W={class:"flex flex-1 items-center justify-center gap-2"},X={key:0,class:"flex w-[100px] flex-col"},Y={class:"truncate text-sm font-medium"},Z={class:"text-secondary-foreground truncate text-xs"},ee={key:0},te={class:"flex flex-col"},oe={class:"max-w-32 truncate text-sm"},se={class:"text-foreground/60 max-w-32 truncate text-xs"},ne={class:"bg-primary/10 mt-4 flex items-center justify-between rounded-xl p-3"},ie={class:"flex items-center gap-2 text-sm"},re={class:"font-medium"},ae={class:"text-primary"},le={class:"mt-4 grid w-72 grid-cols-4 gap-6"},ce=["onClick"],pe={class:"bg-foreground/5 hover:bg-foreground/10 active:bg-foreground/15 flex h-8 w-8 items-center justify-center rounded-full"},de={class:"max-w-full truncate text-center text-xs"},ue={class:"flex justify-between"},me={class:"select-none"},Ke=S({__name:"user-profile",props:{size:{default:"md"},collapsed:{type:Boolean,default:!1},content:{}},setup(w){const d=w,{t:f}=Q(),t=j(),{smartNavigate:p}=K(),u=h(!1),I=h([{id:1,icon:"i-lucide-settings",title:"layouts.menu.system",click:()=>p(`/profile/${t.userInfo?.id}/general-settings`)},{id:2,title:"layouts.powerDetail",icon:"i-lucide-database-zap",click:()=>p(`/profile/${t.userInfo?.id}/power-detail`)},{id:3,title:"layouts.userAgreement",icon:"i-lucide-file-text",target:"_blank",path:"/agreement?type=agreement&item=service"},{id:4,title:"layouts.privacyPolicy",icon:"i-lucide-shield-check",target:"_blank",path:"/agreement?type=agreement&item=privacy"}]),$=l=>{l.click?l.click():l.path&&(l.target==="_blank"?p(l.path,{newTab:!0}):p(l.path)),u.value=!1};return(l,s)=>{const _=T,z=V,k=q,g=L,C=G,U=H,B=J,N=M,v=R("ripple");return r(),y(N,null,{default:m(()=>[e(t).isLogin?(r(),y(B,{key:0,open:e(u),"onUpdate:open":s[4]||(s[4]=n=>A(u)?u.value=n:null),class:"flex",mode:"click",ui:{content:"rounded-2xl"},content:d.content,"close-delay":300},{content:m(()=>[o("div",{class:"p-3",onClick:s[3]||(s[3]=n=>u.value=!1)},[o("div",{class:"hover:bg-muted flex cursor-pointer items-center gap-4 rounded-lg p-3",onClick:s[0]||(s[0]=n=>e(p)(`/profile/${e(t).userInfo?.id}`))},[i(_,{src:e(t).userInfo?.avatar,alt:"Avatar",size:"md","img-class":"bg-foreground/30"},null,8,["src"]),o("div",te,[o("span",oe,a(e(t).userInfo?.nickname),1),o("span",se,a(e(t).userInfo?.username),1)]),i(g,{name:"i-lucide-chevron-right",class:"text-foreground/60 ml-auto",size:"20"})]),o("div",ne,[o("div",ie,[o("span",re,a(e(f)("layouts.power"))+":",1),o("span",ae,a(e(t).userInfo?.power),1)]),i(k,{size:"xs",onClick:s[1]||(s[1]=n=>e(p)(`/profile/${e(t).userInfo?.id}/personal-rights/recharge-center`))},{default:m(()=>[O(a(e(f)("layouts.recharge")),1)]),_:1})]),o("div",le,[(r(!0),c(E,null,P(e(I),n=>(r(),c("div",{key:n.id,class:"group flex w-full flex-1 cursor-pointer flex-col items-center gap-2",onClick:fe=>$(n)},[x((r(),c("div",pe,[i(g,{name:n.icon},null,8,["name"])])),[[v]]),o("p",de,a(e(f)(n.title)),1)],8,ce))),128))]),i(C,{class:"py-4"}),o("div",ue,[x((r(),c("div",{class:"flex cursor-pointer items-center gap-1 rounded-md px-2 text-sm text-red-500 transition-colors hover:bg-red-50 dark:hover:bg-red-500/10",onClick:s[2]||(s[2]=n=>e(t).logout())},[i(g,{name:"i-lucide-log-out",size:"18"}),o("p",me,a(e(f)("layouts.logout")),1)])),[[v]]),i(U)])])]),default:m(()=>[D(l.$slots,"default",{},()=>[x((r(),c("div",{class:F(["hover:bg-muted flex items-center gap-1 rounded-lg p-1.5",{"p-3":!d.collapsed}])},[o("div",W,[i(z,{color:"success",inset:""},{default:m(()=>[i(_,{src:e(t).userInfo?.avatar,alt:e(t).userInfo?.nickname,icon:e(t).userInfo?.nickname?"tabler:user":void 0,size:d.size,ui:{root:"rounded-lg"}},null,8,["src","alt","icon","size"])]),_:1}),d.collapsed?b("",!0):(r(),c("div",X,[o("span",Y,a(e(t).userInfo?.nickname),1),o("span",Z,a(e(t).userInfo?.email||e(t).userInfo?.phone),1)]))]),d.collapsed?b("",!0):(r(),c("div",ee,[i(k,{icon:"i-lucide-chevrons-up-down",color:"neutral",variant:"link",ui:{leadingIcon:"size-4"}})]))],2)),[[v]])])]),_:3},8,["open","content"])):(r(),c("div",{key:1,class:"flex items-center gap-1 rounded-lg",onClick:s[5]||(s[5]=n=>e(p)("/login"))},[i(_,{icon:"i-lucide-user",alt:"未登录",size:d.size,ui:{root:"rounded-lg"}},null,8,["size"])]))]),_:3})}}});export{Ke as default};
