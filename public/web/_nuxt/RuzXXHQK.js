import{d as N,b as C,ar as I,c as a,t as l,o as t,F as _,B as f,j as p,k as i,l as x,_ as F,q as s,v as o,x as S,p as h,Y as V}from"#entry";import{_ as $}from"./COxNVqQJ.js";import{_ as U}from"./C7UmhjTd.js";import{u as j}from"./Dx01Lm3C.js";const q={key:0,class:"space-y-3"},z={class:"relative flex items-center justify-between gap-4"},K={key:0,class:"text-muted-foreground ml-1"},P={class:"bg-muted text-muted-foreground w-xs rounded p-2"},R={class:"flex items-center gap-4"},T={class:"text-muted-foreground text-xs"},D={class:"bg-accent h-2 w-20 rounded"},E={class:"text-muted-foreground text-xs"},J=N({__name:"reference-knowledge-files",props:{references:{default:()=>[]}},setup(c){const{t:d}=C(),g=I();function v(r){return(r*100).toFixed(0)}function k(r,u){g.push({path:j("ai-datasets:detail",{id:r}),query:{documentId:u}})}return(r,u)=>{const m=F,y=$,b=U;return c.references&&c.references.length>0?(t(),a("div",q,[(t(!0),a(_,null,f(c.references,(n,w)=>(t(),p(b,{key:w,ui:{content:"flex flex-col"}},{content:i(()=>[(t(!0),a(_,null,f(n.chunks,(e,B)=>(t(),a("div",{key:e.id,class:"group m-3 inline-block cursor-pointer space-y-2 rounded-lg text-xs"},[s("div",z,[e.chunkIndex!==void 0?(t(),a("span",K," #chunk "+o(e.chunkIndex+1),1)):l("",!0),x(m,{size:"xs",color:"primary",variant:"soft",icon:"i-lucide-external-link",class:"top0 absolute right-0 hidden group-hover:flex",onClick:L=>k(n.datasetId,e.documentId)},{default:i(()=>[S(o(h(d)("common.reference.goToKnowledgeBase")),1)]),_:1},8,["onClick"])]),s("div",P,o(e.content),1),s("div",R,[s("span",T,o(e.content.length)+" "+o(h(d)("common.reference.characters")),1),s("div",D,[s("div",{class:"bg-primary h-2 rounded transition-all duration-300",style:V({width:v(e.score)+"%"})},null,4)]),s("span",E,o(e.score.toFixed(3)),1)]),B!==n.chunks.length-1?(t(),p(y,{key:0})):l("",!0)]))),128))]),default:i(()=>[x(m,{label:n?.chunks?.[0]?.fileName||n?.chunks?.[0]?.datasetName,color:"neutral",variant:"ghost",class:"w-full"},null,8,["label"])]),_:2},1024))),128))])):l("",!0)}}});export{J as _};
