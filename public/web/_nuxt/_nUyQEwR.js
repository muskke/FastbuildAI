const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./CBY9SXo7.js","./CpacWlXu.js"])))=>i.map(i=>d[i]);
import{aQ as O,bn as T,b3 as _,g as j,bd as z,j as v,o as n,k as y,r as b,q as d,c as f,t as m,C as F,m as k,y as P,z as g,x as M,v as q,F as I,B as U,_ as $,p as o,$ as R,d as D,aJ as E,aq as J,b as K,a1 as Q,aK as G,i as H,aa as X,l as s,R as Y,U as Z,aL as ee}from"#entry";import te from"./--UdezPG.js";import{_ as ae}from"./BYwSSEjb.js";import re from"./CfxLE1oh.js";import{_ as oe}from"./CPdnHwcb.js";import{_ as ie}from"./Bu7cOM_l.js";import{A as se}from"./DpSZ1r7x.js";import"./BgHJjJs-.js";import"./CBooyAK7.js";import"./PM3E-asR.js";import"./BO1GPLSL.js";import"./CLTNKp0S.js";import"./8-c-A7PB.js";import"./kRIii9yh.js";import"./TH-3OOuG.js";import"./Cfcu-t3n.js";import"./C6Y-ieo6.js";import"./b-_TUx9i.js";import"./DaNf1Wdt.js";import"./CKXZhss7.js";import"./Cpt2kRVT.js";import"./pUN2d83w.js";import"./B22A-h4k.js";import"./Bub1HYiY.js";import"./D-yR6Fj9.js";import"./Dn8X9Gvz.js";import"./DlAUqK2U.js";import"./B1XcE43x.js";const ne={slots:{root:"relative overflow-hidden w-full rounded-lg p-4 flex gap-2.5",wrapper:"min-w-0 flex-1 flex flex-col",title:"text-sm font-medium",description:"text-sm opacity-90",icon:"shrink-0 size-5",avatar:"shrink-0",avatarSize:"2xl",actions:"flex flex-wrap gap-1.5 shrink-0",close:"p-0"},variants:{color:{primary:"",secondary:"",success:"",info:"",warning:"",error:"",neutral:""},variant:{solid:"",outline:"",soft:"",subtle:""},orientation:{horizontal:{root:"items-center",actions:"items-center"},vertical:{root:"items-start",actions:"items-start mt-2.5"}},title:{true:{description:"mt-1"}}},compoundVariants:[{color:"primary",variant:"solid",class:{root:"bg-primary text-inverted"}},{color:"secondary",variant:"solid",class:{root:"bg-secondary text-inverted"}},{color:"success",variant:"solid",class:{root:"bg-success text-inverted"}},{color:"info",variant:"solid",class:{root:"bg-info text-inverted"}},{color:"warning",variant:"solid",class:{root:"bg-warning text-inverted"}},{color:"error",variant:"solid",class:{root:"bg-error text-inverted"}},{color:"primary",variant:"outline",class:{root:"text-primary ring ring-inset ring-primary/25"}},{color:"secondary",variant:"outline",class:{root:"text-secondary ring ring-inset ring-secondary/25"}},{color:"success",variant:"outline",class:{root:"text-success ring ring-inset ring-success/25"}},{color:"info",variant:"outline",class:{root:"text-info ring ring-inset ring-info/25"}},{color:"warning",variant:"outline",class:{root:"text-warning ring ring-inset ring-warning/25"}},{color:"error",variant:"outline",class:{root:"text-error ring ring-inset ring-error/25"}},{color:"primary",variant:"soft",class:{root:"bg-primary/10 text-primary"}},{color:"secondary",variant:"soft",class:{root:"bg-secondary/10 text-secondary"}},{color:"success",variant:"soft",class:{root:"bg-success/10 text-success"}},{color:"info",variant:"soft",class:{root:"bg-info/10 text-info"}},{color:"warning",variant:"soft",class:{root:"bg-warning/10 text-warning"}},{color:"error",variant:"soft",class:{root:"bg-error/10 text-error"}},{color:"primary",variant:"subtle",class:{root:"bg-primary/10 text-primary ring ring-inset ring-primary/25"}},{color:"secondary",variant:"subtle",class:{root:"bg-secondary/10 text-secondary ring ring-inset ring-secondary/25"}},{color:"success",variant:"subtle",class:{root:"bg-success/10 text-success ring ring-inset ring-success/25"}},{color:"info",variant:"subtle",class:{root:"bg-info/10 text-info ring ring-inset ring-info/25"}},{color:"warning",variant:"subtle",class:{root:"bg-warning/10 text-warning ring ring-inset ring-warning/25"}},{color:"error",variant:"subtle",class:{root:"bg-error/10 text-error ring ring-inset ring-error/25"}},{color:"neutral",variant:"solid",class:{root:"text-inverted bg-inverted"}},{color:"neutral",variant:"outline",class:{root:"text-highlighted bg-default ring ring-inset ring-default"}},{color:"neutral",variant:"soft",class:{root:"text-highlighted bg-elevated/50"}},{color:"neutral",variant:"subtle",class:{root:"text-highlighted bg-elevated/50 ring ring-inset ring-accented"}}],defaultVariants:{color:"primary",variant:"solid"}},le={__name:"Alert",props:{as:{type:null,required:!1},title:{type:String,required:!1},description:{type:String,required:!1},icon:{type:String,required:!1},avatar:{type:Object,required:!1},color:{type:null,required:!1},variant:{type:null,required:!1},orientation:{type:null,required:!1,default:"vertical"},actions:{type:Array,required:!1},close:{type:[Boolean,Object],required:!1},closeIcon:{type:String,required:!1},class:{type:null,required:!1},ui:{type:null,required:!1}},emits:["update:open"],setup(e,{emit:C}){const r=e,V=C,l=O(),{t:h}=T(),p=_(),t=j(()=>z({extend:z(ne),...p.ui?.alert||{}})({color:r.color,variant:r.variant,orientation:r.orientation,title:!!r.title||!!l.title}));return(c,w)=>(n(),v(o(R),{as:e.as,"data-orientation":e.orientation,class:g(t.value.root({class:[r.ui?.root,r.class]}))},{default:y(()=>[b(c.$slots,"leading",{},()=>[e.avatar?(n(),v(F,k({key:0,size:r.ui?.avatarSize||t.value.avatarSize()},e.avatar,{class:t.value.avatar({class:r.ui?.avatar})}),null,16,["size","class"])):e.icon?(n(),v(P,{key:1,name:e.icon,class:g(t.value.icon({class:r.ui?.icon}))},null,8,["name","class"])):m("",!0)]),d("div",{class:g(t.value.wrapper({class:r.ui?.wrapper}))},[e.title||l.title?(n(),f("div",{key:0,class:g(t.value.title({class:r.ui?.title}))},[b(c.$slots,"title",{},()=>[M(q(e.title),1)])],2)):m("",!0),e.description||l.description?(n(),f("div",{key:1,class:g(t.value.description({class:r.ui?.description}))},[b(c.$slots,"description",{},()=>[M(q(e.description),1)])],2)):m("",!0),e.orientation==="vertical"&&(e.actions?.length||l.actions)?(n(),f("div",{key:2,class:g(t.value.actions({class:r.ui?.actions}))},[b(c.$slots,"actions",{},()=>[(n(!0),f(I,null,U(e.actions,(a,i)=>(n(),v($,k({key:i,size:"xs"},{ref_for:!0},a),null,16))),128))])],2)):m("",!0)],2),e.orientation==="horizontal"&&(e.actions?.length||l.actions)||e.close?(n(),f("div",{key:0,class:g(t.value.actions({class:r.ui?.actions,orientation:"horizontal"}))},[e.orientation==="horizontal"&&(e.actions?.length||l.actions)?b(c.$slots,"actions",{key:0},()=>[(n(!0),f(I,null,U(e.actions,(a,i)=>(n(),v($,k({key:i,size:"xs"},{ref_for:!0},a),null,16))),128))]):m("",!0),b(c.$slots,"close",{ui:t.value},()=>[e.close?(n(),v($,k({key:0,icon:e.closeIcon||o(p).ui.icons.close,color:"neutral",variant:"link","aria-label":o(h)("alert.close")},typeof e.close=="object"?e.close:{},{class:t.value.close({class:r.ui?.close}),onClick:w[0]||(w[0]=a=>V("update:open",!1))}),null,16,["icon","aria-label","class"])):m("",!0)])],2)):m("",!0)]),_:3},8,["as","data-orientation","class"]))}},ce={class:"h-full w-full overflow-auto"},de={class:"inline-block px-6 py-4"},ue={class:"mb-8"},me={class:"text-foreground mb-1 text-lg font-medium"},ge={class:"text-muted text-sm"},fe={class:"space-y-8"},pe={class:"flex flex-col space-y-8"},ve={class:"space-y-3"},Ee=D({__name:"settings",setup(e){const C=Y(()=>Z(()=>import("./CBY9SXo7.js"),__vite__mapDeps([0,1]),import.meta.url)),{params:r}=E(),V=J(),{t:l}=K(),h=j(()=>r.id),p=X("datasets"),t=Q({name:"",description:"",retrievalConfig:{retrievalMode:"hybrid",strategy:"weighted_score",topK:3,scoreThreshold:.5,scoreThresholdEnabled:!1,weightConfig:{semanticWeight:.5,keywordWeight:.5},rerankConfig:{enabled:!1,modelId:""}},embeddingModelId:""}),{lockFn:c,isLock:w}=G(async()=>{try{await se(h.value,t),ee(`dataset-detail-${h.value}`),V.success(`${l("console-common.messages.saveSuccess")}`)}catch(a){console.error(a)}});return H(()=>{Reflect.ownKeys(t).forEach(a=>{if(o(p)&&Object.prototype.hasOwnProperty.call(o(p),a)){const i=JSON.parse(JSON.stringify(o(p)?.[a]))??t[a];t[a]=i}})}),(a,i)=>{const W=te,x=ae,A=re,B=oe,L=le,S=ie,N=$;return n(),f("div",ce,[d("div",de,[d("div",ue,[d("h5",me,q(a.$t("ai-datasets.backend.settings.name")),1),d("p",ge,q(a.$t("ai-datasets.backend.settings.description")),1)]),d("div",fe,[d("div",pe,[s(x,{label:a.$t("ai-datasets.backend.common.name"),class:"flex w-full justify-between",ui:{wrapper:"flex",label:"text-accent-foreground font-medium width180",container:"flex-1"},required:""},{default:y(()=>[s(W,{modelValue:o(t).name,"onUpdate:modelValue":i[0]||(i[0]=u=>o(t).name=u),placeholder:a.$t("ai-datasets.backend.settings.nameInput"),ui:{root:"w-full"}},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),s(x,{class:"flex w-full justify-between",ui:{wrapper:"flex  ",labelWrapper:"items-stretch ",label:"text-accent-foreground width180 pt-2",container:"flex-1"},label:a.$t("ai-datasets.backend.common.description"),required:""},{default:y(()=>[s(A,{modelValue:o(t).description,"onUpdate:modelValue":i[1]||(i[1]=u=>o(t).description=u),placeholder:a.$t("ai-datasets.backend.settings.descriptionInput"),ui:{root:"w-full"}},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),s(x,{class:"flex w-full justify-between",ui:{wrapper:"flex  ",labelWrapper:"items-stretch ",label:"text-accent-foreground width180 pt-2",container:"flex-1"},label:a.$t("ai-datasets.backend.create.stepTwo.embeddingModel"),required:""},{default:y(()=>[d("div",ve,[s(B,{modelValue:o(t).embeddingModelId,"button-ui":{variant:"outline",color:"neutral",ui:{base:"w-full"},class:"bg-background"},supportedModelTypes:["text-embedding"],defaultSelected:!1,capability:"chat",placeholder:"选择嵌入模型",onChange:i[2]||(i[2]=u=>o(t).embeddingModelId=u?.id??"")},null,8,["modelValue"]),s(L,{color:"warning",variant:"soft",title:a.$t("ai-datasets.backend.settings.embeddingModelWarning.title"),description:a.$t("ai-datasets.backend.settings.embeddingModelWarning.description"),icon:"i-lucide-alert-triangle"},null,8,["title","description"])])]),_:1},8,["label"]),s(S),s(x,{class:"flex w-full justify-between",ui:{wrapper:"flex  ",labelWrapper:"items-stretch ",label:"text-accent-foreground width180 pt-2",container:"flex-1"},label:a.$t("ai-datasets.backend.settings.retrievalMethod"),required:""},{default:y(()=>[s(o(C),{modelValue:o(t).retrievalConfig,"onUpdate:modelValue":i[3]||(i[3]=u=>o(t).retrievalConfig=u)},null,8,["modelValue"])]),_:1},8,["label"]),s(S),s(x,{label:" ",class:"flex w-full justify-between",ui:{wrapper:"flex  ",labelWrapper:"items-stretch ",label:"text-accent-foreground width180 pt-2",container:"flex-1 flex gap-4 items-center"}},{default:y(()=>[s(N,{"trailing-icon":"i-lucide-arrow-right",label:a.$t("console-common.save"),size:"lg",loading:o(w),onClick:o(c)},null,8,["label","loading","onClick"])]),_:1})])])])}}});export{Ee as default};
