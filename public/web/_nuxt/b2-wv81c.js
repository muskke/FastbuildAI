import{d as L,aU as q,aI as F,aY as I,f as x,g as N,w as V,c as a,q as o,l as t,k as m,A as E,p as i,F as w,B as k,D as G,v as h,x as P,j as R,b5 as j,_ as H,b6 as J,aZ as W,b7 as Y,o as n,z as D,am as Z,G as K}from"#entry";import{_ as M}from"./BNWstlnh.js";import{_ as X}from"./DZjlY_x0.js";import{_ as Q}from"./i5AwkGQh.js";import{_ as ee}from"./WUiQN7UQ.js";import{_ as te}from"./CcXhcZIb.js";import{_ as oe}from"./DiYXikHi.js";import{d as ne}from"./Cb04SOqd.js";import"./BwAI6jgh.js";import"./BP0i4hNs.js";import"./DuSMYVIA.js";import"./DHFmmngs.js";import"./CgMDXot0.js";import"./C6Y-ieo6.js";import"./BcsO9TDZ.js";import"./DlAUqK2U.js";import"./oFTPHjuc.js";import"./BQ3yNAd1.js";import"./Dk6FGhu1.js";import"./BPKB8n-W.js";import"./MN31c9CG.js";import"./CCcv9mzY.js";import"./BFAo_s2U.js";import"./VGKgjfSv.js";const se={class:"bg-background flex size-full overflow-hidden"},ae={class:"fixed bottom-1/2 left-0 md:hidden"},ie={class:"relative flex h-full w-52 flex-col"},le={class:"absolute -right-7 bottom-1/2 md:hidden"},re={class:"flex-1 overflow-hidden"},ce={key:0,class:"h-full space-y-3"},pe={key:1,class:"flex flex-col gap-3"},de=["onClick"],ue={class:"mt-auto px-4 py-2"},me={class:"bg-muted w-0 overflow-x-hidden transition-[width] md:w-44 lg:w-52"},_e={class:"flex h-full w-full min-w-44 flex-col gap-4"},fe={class:"flex-1 overflow-hidden"},ve={key:0,class:"h-full space-y-3"},ye={key:1,class:"flex flex-col gap-3 text-sm"},he=["onClick"],ge={class:"mt-auto px-4 py-2"},xe={id:"__read_area__",class:"flex-1 overflow-y-auto"},we={class:"mx-auto flex w-full flex-col gap-4 p-6 md:max-w-prose"},ke={key:0,class:"space-y-4"},Ae={class:"mt-8! space-y-6"},Ce={key:1,class:"space-y-4"},be={class:"text-2xl font-medium"},Te={class:"text-foreground/60 text-xs"},Se={key:1},$e={class:"prose dark:prose-invert"},tt=L({__name:"index",async setup(De){let f,A;q({title:"Policy Agreements"});const B=F(),{data:v,pending:C}=([f,A]=I(()=>W(()=>Y(),{transform:u=>{const e=u.agreement;if(!e)return console.warn("Agreement configuration not found"),[];const c=[];return e.serviceTitle&&e.serviceContent&&c.push({title:e.serviceTitle,type:"service",content:e.serviceContent,updateAt:e.updateAt||new Date().toISOString()}),e.privacyTitle&&e.privacyContent&&c.push({title:e.privacyTitle,type:"privacy",content:e.privacyContent,updateAt:e.updateAt||new Date().toISOString()}),e.paymentTitle&&e.paymentContent&&c.push({title:e.paymentTitle,type:"payment",content:e.paymentContent,updateAt:e.updateAt||new Date().toISOString()}),c}},"$8SJ7sF5zWw")),f=await f,A(),f);(!v.value||v.value.length===0)&&console.error("Agreement configuration data not found");const d=x(!1);ne({o:()=>d.value=!d.value});const g=x(!1),r=x(null),b=N(()=>[{id:"agreement",value:"agreement",label:"Policy Agreements",defaultOpen:!0,list:v.value||[]}]);async function T(u,e){g.value=!0,r.value=e,await Z({path:"/agreement",query:{type:u,item:e.type}},{replace:!0}),await K(),document.getElementById("__read_area__")?.scrollTo({top:0,behavior:"smooth"}),g.value=!1}return V(()=>B.query,u=>{const e=u.type,c=u.item,s=v.value||[];if(e==="agreement"&&c){const _=s.find(y=>y.type===c);if(_){r.value=_;return}}s[0]&&!r.value&&(r.value=s[0])},{immediate:!0}),(u,e)=>{const c=H,s=M,_=X,y=Q,S=ee,$=J,z=te,O=oe,U=j("dompurify-html");return n(),a("div",se,[o("div",ae,[t(c,{icon:"tabler:list",ui:{base:"rounded-s-none"},onClick:e[0]||(e[0]=l=>d.value=!0)})]),t(z,{open:i(d),"onUpdate:open":e[2]||(e[2]=l=>E(d)?d.value=l:null),side:"left",ui:{content:"!w-fit flex-0 max-w-fit"}},{content:m(()=>[o("div",ie,[o("div",le,[t(c,{icon:"tabler:text-wrap",ui:{base:"rounded-s-none"},onClick:e[1]||(e[1]=l=>d.value=!1)})]),o("div",re,[t(y,{class:"h-full px-4"},{default:m(()=>[t(_,{items:i(b),type:"multiple",style:{"--ui-border":"transparent"},"default-value":["agreement"],ui:{trigger:"text-md",trailingIcon:"size-4"}},{content:m(({item:l})=>[i(C)?(n(),a("div",ce,[t(s,{class:"h-6 w-full"}),t(s,{class:"h-6 w-full"}),t(s,{class:"h-6 w-full"})])):(n(),a("div",pe,[(n(!0),a(w,null,k(l.list,p=>(n(),a("div",{key:p.type,class:D(["hover:text-foreground active:text-primary cursor-pointer truncate pr-3 pl-6",{"text-primary hover:text-primary!":p.type===i(r)?.type}]),onClick:()=>{T(l.id,p),d.value=!1}},h(p.title),11,de))),128))]))]),_:1},8,["items"])]),_:1})]),o("div",ue,[t($,null,{default:m(()=>[t(S)]),_:1})])])]),_:1},8,["open"]),o("div",me,[o("div",_e,[o("div",fe,[t(y,{class:"h-full pr-4 pl-2"},{default:m(()=>[t(_,{items:i(b),type:"multiple","default-value":["agreement"],style:{"--ui-border":"transparent"},ui:{trailingIcon:"size-4"}},{content:m(({item:l})=>[i(C)?(n(),a("div",ve,[t(s,{class:"h-6 w-full"}),t(s,{class:"h-6 w-full"}),t(s,{class:"h-6 w-full"})])):(n(),a("div",ye,[(n(!0),a(w,null,k(l.list,p=>(n(),a("div",{key:p.type,class:D(["hover:text-foreground active:text-primary cursor-pointer truncate pr-3 pl-6",{"text-primary hover:text-primary!":p.type===i(r)?.type}]),onClick:Be=>T(l.id,p)},h(p.title),11,he))),128))]))]),_:1},8,["items"])]),_:1})]),o("div",ge,[t($,null,{default:m(()=>[t(S)]),_:1})])])]),o("div",xe,[o("div",we,[i(g)?(n(),a("div",ke,[t(s,{class:"h-6 w-[250px]"}),t(s,{class:"h-4 w-[200px]"}),o("div",Ae,[(n(),a(w,null,k(15,l=>t(s,{key:l,class:"h-4 w-full"})),64))])])):(n(),a("div",Ce,[o("h1",be,h(i(r)?.title),1),o("p",Te,[P(h(u.$t("common.updateAt"))+": ",1),i(r)?.updateAt?(n(),R(O,{key:0,datetime:i(r).updateAt,mode:"datetime"},null,8,["datetime"])):(n(),a("span",Se,"-"))]),G(o("div",$e,null,512),[[U,i(r)?.content]])]))])])])}}});export{tt as default};
