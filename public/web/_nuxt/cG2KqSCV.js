import{d as z,b as D,s as v,i as L,j as k,o as i,k as _,c as l,p as t,q as e,l as r,v as o,_ as N,t as M,y as V,C as P,x as p,F as b,B as w,A as W}from"#entry";import{_ as F}from"./Cif_tCX1.js";import{_ as G}from"./DiYXikHi.js";import{_ as R}from"./DUgjrvZa.js";import{E as c}from"./XBYuZpdu.js";import{e as S,f as q}from"./DLgcII3W.js";import"./BFAo_s2U.js";import"./Dk6FGhu1.js";import"./BPKB8n-W.js";import"./DuSMYVIA.js";import"./MN31c9CG.js";import"./BxufncEB.js";const H={key:0,class:"flex flex-col pr-4",style:{width:"400px"}},X={class:"flex items-center justify-between py-2"},J={class:"text-secondary-foreground text-xl font-bold"},K={class:"flex-1 overflow-y-auto"},O={class:"flex flex-col space-y-6"},Q={class:"mt-6 flex items-start gap-4"},Y={class:"flex-1"},Z={class:"text-secondary-foreground flex items-center gap-2 text-base"},ee={class:"text-accent-foreground my-2 text-sm dark:text-gray-400"},te={class:"flex items-center gap-4"},se={class:"flex gap-1"},oe={class:"text-secondary-foreground mb-2 font-medium"},ne={class:"text-accent-foreground dark:text-gray-400"},ae={class:"text-secondary-foreground mb-2 font-medium"},ie={class:"text-accent-foreground dark:text-gray-400"},re={key:0},ce={class:"text-secondary-foreground mb-2 font-medium"},le={class:"space-y-3"},de={class:"mb-1 flex items-center justify-between"},me={class:"text-secondary-foreground font-medium"},_e={class:"text-muted-foreground text-sm dark:text-gray-400"},ue={class:"text-accent-foreground text-sm dark:text-gray-400"},fe={class:"flex gap-3 pb-4"},pe={key:1,class:"flex h-full w-full items-center justify-center",style:{width:"400px"}},Ee=z({__name:"details",props:{isIdentifier:{type:Boolean},extensionId:{},identifier:{}},emits:["close"],setup($,{emit:B}){const I=B,u=$,{t:d}=D(),m=v(!0),s=v(null),T=n=>({[c.WEB]:d("extensions.modal.terminalTypes.web"),[c.WEIXIN]:d("extensions.modal.terminalTypes.weixin"),[c.H5]:d("extensions.modal.terminalTypes.h5"),[c.MP]:d("extensions.modal.terminalTypes.mp"),[c.API]:d("extensions.modal.terminalTypes.api")})[n]||"未知",E=async()=>{const n=u.isIdentifier?await S(u.extensionId):await q(u.identifier);s.value=n};function x(){I("close"),m.value=!1}return L(()=>{E()}),(n,f)=>{const h=N,g=V,A=P,y=F,C=G,U=R;return i(),k(U,{open:t(m),"onUpdate:open":f[0]||(f[0]=a=>W(m)?m.value=a:null),"set-background-color-on-scale":!1,direction:"right","should-scale-background":""},{content:_(()=>[t(s)?(i(),l("div",H,[e("div",X,[e("h2",J,o(n.$t("extensions.market.detail")),1),r(h,{color:"neutral",variant:"ghost",icon:"i-lucide-x",onClick:x})]),e("div",K,[e("div",O,[e("div",Q,[r(A,{src:t(s).icon,alt:t(s).name,size:"3xl",ui:{root:"rounded-lg"}},{fallback:_(()=>[r(g,{name:"i-lucide-puzzle",class:"text-muted-foreground h-8 w-8"})]),_:1},8,["src","alt"]),e("div",Y,[e("h3",Z,[p(o(t(s).name)+" ",1),r(y,{size:"sm"},{default:_(()=>[p(o(n.$t("extensions.market.officialTeam")),1)]),_:1})]),e("p",ee,o(n.$t("extensions.market.author"))+": "+o(t(s)?.author?.name||t(s)?.user),1),e("div",te,[e("div",se,[(i(!0),l(b,null,w(t(s).supportTerminal,a=>(i(),k(y,{color:a===t(c).WEB?"success":a===t(c).API?"info":"neutral",variant:"soft",label:T(a)},null,8,["color","label"]))),256))])])])]),e("div",null,[e("h4",oe,o(n.$t("extensions.market.description")),1),e("p",ne,o(t(s).description||t(s).describe),1)]),e("div",null,[e("h4",ae,o(n.$t("extensions.market.updateTime")),1),e("p",ie,o(t(s).updatedAt||t(s).createdAt),1)]),t(s).versionLists&&t(s).versionLists.length>0?(i(),l("div",re,[e("h4",ce,o(n.$t("extensions.market.changelog")),1),e("div",le,[(i(!0),l(b,null,w(t(s).versionLists.slice(0,3),(a,j)=>(i(),l("div",{key:j,class:"bg-muted rounded-lg p-3"},[e("div",de,[e("span",me," v"+o(a.version),1),e("span",_e,[r(C,{datetime:a.createdAt,mode:"date"},null,8,["datetime"])])]),e("p",ue,o(a.explain),1)]))),128))])])):M("",!0)])]),e("div",fe,[r(h,{color:"neutral",variant:"outline",class:"flex-1 justify-center",size:"lg",onClick:x},{default:_(()=>[p(o(n.$t("console-common.close")),1)]),_:1})])])):(i(),l("div",pe,[r(g,{name:"i-lucide-package-search",class:"h-12 w-12 text-gray-400"})]))]),_:1},8,["open"])}}});export{Ee as default};
