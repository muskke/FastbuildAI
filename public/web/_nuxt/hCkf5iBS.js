import{d as y,b as C,g as w,j as B,o as S,k as n,q as o,l as s,y as $,v as r,z as A,C as z,p as D}from"#entry";import{_ as U}from"./BqoA6bN6.js";import{_ as j}from"./DBjGnECu.js";import{_ as I}from"./BdKfYASf.js";import{u as N}from"./Dp_0VxUw.js";import"./TH-3OOuG.js";import"./Bub1HYiY.js";import"./B22A-h4k.js";import"./lw_U4-W2.js";import"./XpsTG8vq.js";import"./B1Lg5z9T.js";import"./CLTNKp0S.js";import"./8-c-A7PB.js";import"./kRIii9yh.js";import"./Cfcu-t3n.js";import"./C6Y-ieo6.js";import"./b-_TUx9i.js";import"./DaNf1Wdt.js";import"./CKXZhss7.js";import"./Cpt2kRVT.js";import"./pUN2d83w.js";import"./BwTGIg9g.js";import"./BWWuJQeZ.js";import"./DN9ov8OT.js";import"./9bDOsXij.js";import"./nBDBqKnC.js";import"./BgHJjJs-.js";const T={class:"text-secondary-foreground flex items-center text-base font-semibold"},V={class:"mr-2 line-clamp-1"},q={class:"text-accent-foreground flex items-center gap-2 text-xs"},F={class:"mr-2 line-clamp-1"},M={class:"flex justify-between gap-2"},E={class:"text-accent-foreground flex items-center gap-4 text-xs"},G={class:"flex items-center gap-1"},H={class:"text-muted-foreground flex items-center gap-1 text-xs"},xe=y({__name:"chats-card",props:{conversation:{},selected:{type:Boolean,default:!1}},emits:["select","delete","toggle-pin","view-detail"],setup(t,{emit:d}){const i=d,a=t,{t:l}=C(),{hasAccessByCodes:p}=N();function u(e){return e>=1e3?`${(e/1e3).toFixed(1)}k`:e.toString()}function f(e){typeof e=="boolean"&&i("select",a.conversation,e)}function _(){i("view-detail",a.conversation.id)}const v=w(()=>{const e=[];return e.push({label:l("ai-chat.backend.actions.viewDetail"),icon:"i-lucide-eye",onSelect:()=>i("view-detail",a.conversation.id)}),p(["ai-conversations:ai_conversation_delete"])&&e.push({label:l("console-common.delete"),icon:"i-lucide-trash-2",color:"error",onSelect:()=>i("delete",a.conversation)}),e});return(e,J)=>{const x=z,m=U,c=$,h=j,g=I;return S(),B(g,{selectable:"",clickable:"","show-actions":"",variant:"outlined",class:"cursor-pointer",selected:t.selected,actions:D(v),onSelect:f,onClick:_},{icon:n(({groupHoverClass:b,selectedClass:k})=>[s(x,{src:t.conversation?.user?.avatar,alt:t.conversation.title,size:"3xl",class:A(["bg-primary",[b,k]]),ui:{root:"rounded-lg",fallback:"text-inverted"}},null,8,["src","alt","class"])]),title:n(()=>[o("h3",T,[s(m,{text:t.conversation.title,delay:0},{default:n(()=>[o("span",V,r(t.conversation.title),1)]),_:1},8,["text"])])]),description:n(()=>[o("div",q,[s(c,{name:"i-lucide-user",class:"h-3 w-3"}),s(m,{text:t.conversation?.user?.nickname,delay:0},{default:n(()=>[o("span",F,r(t.conversation?.user?.nickname),1)]),_:1},8,["text"])])]),footer:n(()=>[o("div",M,[o("div",E,[o("div",G,[s(c,{name:"i-lucide-message-circle",class:"h-3 w-3"}),o("span",null,r(u(t.conversation.messageCount)),1)])]),o("div",H,[s(c,{name:"i-lucide-clock",class:"h-3 w-3"}),s(h,{datetime:t.conversation.updatedAt,mode:"relative"},null,8,["datetime"])])])]),_:1},8,["selected","actions"])}}});export{xe as default};
