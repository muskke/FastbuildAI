import{d as j,f as x,au as Y,ck as I,g as S,i as W,G as b,aQ as L,w as R,cl as O,j as T,o as V,k as D,q as X,z as G,Y as H}from"#entry";import{W as N}from"./nFtW2wrU.js";import{_ as Q}from"./DlAUqK2U.js";const U=j({__name:"content",props:{color:{default:"#FFF"},quantity:{default:100},staticity:{default:50},ease:{default:50},class:{default:""},style:{}},setup(k){const r=k,i=x(null),f=x(null),u=x(null),m=x([]),y=Y({x:0,y:0}),e=Y({w:0,h:0}),{x:w,y:z}=I(),{pixelRatio:v}=O();let d=null;const F=S(()=>{let a=r.color.replace(/^#/,"");a.length===3&&(a=a.split("").map(l=>l+l).join(""));const t=parseInt(a,16),s=t>>16&255,n=t>>8&255,o=t&255;return`${s} ${n} ${o}`});W(()=>{i.value&&(u.value=i.value.getContext("2d")),h(),_(),window.addEventListener("resize",h),f.value&&(d=new ResizeObserver(()=>{b(()=>{h()})}),d.observe(f.value))}),L(()=>{window.removeEventListener("resize",h),d&&(d.disconnect(),d=null)}),R([w,z],()=>{B()}),R(()=>r.style,()=>{b(()=>{h()})},{deep:!0});function h(){A(),E()}function B(){if(i.value){const a=i.value.getBoundingClientRect(),{w:t,h:s}=e,n=w.value-a.left-t/2,o=z.value-a.top-s/2;n<t/2&&n>-t/2&&o<s/2&&o>-s/2&&(y.x=n,y.y=o)}}function A(){f.value&&i.value&&u.value&&(m.value.length=0,e.w=f.value.offsetWidth,e.h=f.value.offsetHeight,i.value.width=e.w*v.value,i.value.height=e.h*v.value,i.value.style.width=e.w+"px",i.value.style.height=e.h+"px",u.value.scale(v.value,v.value))}function M(){const a=Math.floor(Math.random()*e.w),t=Math.floor(Math.random()*e.h),s=0,n=0,o=Math.floor(Math.random()*2)+1,l=0,p=parseFloat((Math.random()*.6+.1).toFixed(1)),g=(Math.random()-.5)*.2,$=(Math.random()-.5)*.2,q=.1+Math.random()*4;return{x:a,y:t,translateX:s,translateY:n,size:o,alpha:l,targetAlpha:p,dx:g,dy:$,magnetism:q}}function c(a,t=!1){if(u.value){const{x:s,y:n,translateX:o,translateY:l,size:p,alpha:g}=a;u.value.translate(o,l),u.value.beginPath(),u.value.arc(s,n,p,0,2*Math.PI),u.value.fillStyle=`rgba(${F.value.split(" ").join(", ")}, ${g})`,u.value.fill(),u.value.setTransform(v.value,0,0,v.value,0,0),t||m.value.push(a)}}function C(){u.value&&u.value.clearRect(0,0,e.w,e.h)}function E(){C();const a=r.quantity;for(let t=0;t<a;t++){const s=M();c(s)}}function P(a,t,s,n,o){const l=(a-t)*(o-n)/(s-t)+n;return l>0?l:0}function _(){C(),m.value.forEach((a,t)=>{const n=[a.x+a.translateX-a.size,e.w-a.x-a.translateX-a.size,a.y+a.translateY-a.size,e.h-a.y-a.translateY-a.size].reduce((l,p)=>Math.min(l,p)),o=parseFloat(P(n,0,20,0,1).toFixed(2));if(o>1?(a.alpha+=.02,a.alpha>a.targetAlpha&&(a.alpha=a.targetAlpha)):a.alpha=a.targetAlpha*o,a.x+=a.dx,a.y+=a.dy,a.translateX+=(y.x/(r.staticity/a.magnetism)-a.translateX)/r.ease,a.translateY+=(y.y/(r.staticity/a.magnetism)-a.translateY)/r.ease,a.x<-a.size||a.x>e.w+a.size||a.y<-a.size||a.y>e.h+a.size){m.value.splice(t,1);const l=M();c(l)}else c({...a,x:a.x,y:a.y,translateX:a.translateX,translateY:a.translateY,alpha:a.alpha},!0)}),window.requestAnimationFrame(_)}return(a,t)=>(V(),T(N,{style:H(r.style),"override-bg-color":!0,"custom-class":"particles-background-content"},{default:D(({style:s})=>[X("div",{ref_key:"canvasContainerRef",ref:f,class:G([r.class,"particles-container"]),"aria-hidden":"true"},[X("canvas",{ref_key:"canvasRef",ref:i},null,512)],2)]),_:1},8,["style"]))}}),aa=Q(U,[["__scopeId","data-v-c18452ea"]]);export{aa as default};
