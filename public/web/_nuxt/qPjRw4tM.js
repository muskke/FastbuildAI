import{d as x,b as U,ar as C,aX as L,s as j,aJ as z,ap as S,i as V,aQ as D,c as F,o as l,q as e,l as n,_ as I,j as u,p as o,br as P,y as M,v as _,k as i,A as T,x as A,a_ as E}from"#entry";import R from"./BruVSCWF.js";import{_ as q}from"./DS-TE4M7.js";import{_ as H}from"./CXUt0j5Y.js";import{u as J}from"./KzC0fgIo.js";import{u as O}from"./BREwXy1w.js";import"./BgHJjJs-.js";import"./-Eb02sIQ.js";import"./Dk6FGhu1.js";import"./BPKB8n-W.js";import"./DuSMYVIA.js";import"./MN31c9CG.js";import"./CCcv9mzY.js";import"./BFAo_s2U.js";import"./Cb04SOqd.js";import"./VGKgjfSv.js";import"./zsIs7mne.js";const Q={class:"design-layout dark:bg-muted flex h-screen w-full flex-col bg-[#f7f7fc] pb-2"},X={class:"relative flex h-14 items-center px-5"},G={class:"flex items-center gap-x-2"},K={class:"flex items-center gap-x-2 leading-[30px]"},W={class:"flex size-8 items-center justify-center rounded-lg"},Y={class:"text-base"},Z={class:"hover:text-primary hover:bg-primary-light-9 flex cursor-pointer items-center rounded-lg p-2"},ee={class:"space-y-4 pb-8"},oe={class:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2"},se={class:"dark:bg-accent rounded-lg bg-[#ebecf5] px-1.5 py-1"},te={class:"bg-background flex items-center rounded-lg px-2 py-1"},ne={class:"mx-2 text-sm leading-5 font-medium"},ae={class:"ml-auto flex items-center gap-2"},ce={class:"relative flex h-full w-full gap-3 px-2"},ie=x({__name:"design",setup(h){const{t:s}=U(),r=C(),a=J(),f=L(),m=j(!1),{lockFn:v,isLock:b}=z(async()=>{await a.savePages(),S().success(s("console-widgets.designer.saveSuccess")),setTimeout(()=>r.back(),1e3)});function k(){const t=()=>{a.resetState(),r.back()};if(!a.isDirty){t();return}O({title:s("console-common.tips"),description:s("console-common.messages.confirmLeave"),confirmText:s("console-common.confirm"),cancelText:s("console-common.cancel")}).then(t)}return V(()=>{const t=c=>{if(a.isDirty)return c.preventDefault(),s("console-common.messages.confirmLeave")};window.addEventListener("beforeunload",t),D(()=>{window.removeEventListener("beforeunload",t)})}),(t,c)=>{const g=I,w=P,d=M,y=R,N=q,$=H,B=E;return l(),F("div",Q,[e("div",X,[e("div",G,[n(g,{color:"neutral",icon:"i-lucide-chevron-left",variant:"ghost",class:"hover:bg-[#ebecf5]",onClick:k}),e("div",K,[e("h1",W,[o(f).siteConfig?.webinfo.logo?(l(),u(w,{key:0,src:o(f).siteConfig?.webinfo.logo,alt:"Logo",class:"size-8"},null,8,["src"])):(l(),u(d,{key:1,name:"system-logo",class:"text-background size-8"}))]),e("div",Y,_(o(a).projectName),1),n($,{open:o(m),"onUpdate:open":c[1]||(c[1]=p=>T(m)?m.value=p:null),title:o(s)("console-widgets.designer.editProjectName"),ui:{content:"max-w-md"},showFooter:!0},{trigger:i(()=>[e("div",Z,[n(d,{name:"i-lucide-edit",class:"size-4"})])]),default:i(()=>[e("div",ee,[n(N,{label:o(s)("console-widgets.designer.pageName"),name:"name",required:""},{default:i(()=>[n(y,{modelValue:o(a).projectName,"onUpdate:modelValue":c[0]||(c[0]=p=>o(a).projectName=p),placeholder:o(s)("console-widgets.designer.enterPageName"),maxlength:"32","show-count":"",size:"lg",ui:{root:"w-full"}},null,8,["modelValue","placeholder"])]),_:1},8,["label"])])]),_:1},8,["open","title"])])]),e("div",oe,[e("div",se,[e("div",te,[n(d,{name:"i-lucide-palette",class:"size-4"}),e("span",ne,_(t.$t("console-common.userInterface")),1)])])]),e("div",ae,[n(g,{color:"primary",loading:o(b),onClick:o(v)},{default:i(()=>[A(_(t.$t("console-common.save")),1)]),_:1},8,["loading","onClick"])])]),e("main",ce,[n(B)])])}}}),$e=x({__name:"design",setup(h){return(s,r)=>(l(),u(ie))}});export{$e as default};
