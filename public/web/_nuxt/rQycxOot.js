import{d as A,aI as N,ar as I,b as T,b8 as U,g as D,f as V,aY as F,aZ as q,w as E,c,p as e,o,q as a,l as m,j as x,t as u,z as g,_ as G,y as L,k,v as i,x as p,a_ as Q,b9 as Y}from"#entry";import{_ as Z}from"./DGIb7fSK.js";import{_ as H}from"./COxNVqQJ.js";import{_ as J}from"./DZRmWkAo.js";import{u as f}from"./Dx01Lm3C.js";import{a as K}from"./BV27uQF0.js";import{j as O}from"./DRV5AIQP.js";import{u as W}from"./BJ10eFuk.js";import"./Btvd554H.js";import"./3UOIlTK8.js";import"./DuSMYVIA.js";import"./DduSJdeS.js";import"./VGKgjfSv.js";import"./BwAI6jgh.js";import"./BP0i4hNs.js";import"./DHFmmngs.js";import"./CgMDXot0.js";import"./C6Y-ieo6.js";import"./Cif_tCX1.js";import"./C7UmhjTd.js";import"./BFVs1AfH.js";import"./kRIii9yh.js";import"./MN31c9CG.js";import"./BPKB8n-W.js";import"./B-DdbQ-X.js";import"./V9POJiZu.js";import"./CuOaO1Pb.js";import"./D6yWePie.js";const X={key:0,class:"flex h-full min-h-0 w-full"},ee={class:"flex flex-col space-y-3"},te={class:"bg-primary-50 border-default flex rounded-lg border p-2"},se={class:"text-foreground line-clamp-2 text-sm font-medium"},ae={key:1,class:"text-muted-foreground text-xs"},ie={class:"text-muted-foreground flex flex-col space-y-3 text-xs"},oe={key:0,class:"flex items-center justify-between font-medium"},ne={key:1,class:"flex items-center justify-between font-medium"},le={key:2,class:"flex items-center justify-between font-medium"},re={key:3,class:"text-accent-foreground flex items-center justify-between font-medium"},de={class:"flex h-full w-full flex-col justify-between"},ce={key:1,class:"flex h-[calc(100vh-6rem)] items-center justify-center text-center"},me={class:"max-w-md"},ue={class:"mb-2 text-xl font-semibold text-gray-800"},pe={class:"text-muted-foreground mb-6"},Ge=A({__name:"[id]",async setup(fe){let b,w;const v=N(),$=I(),{t:l}=T(),z=U("(max-width: 1380px)"),{hasAccessByCodes:_}=W(),r=D(()=>v.params.id),s=V(!1),{data:n}=([b,w]=F(()=>q(`dataset-detail-${r.value}`,()=>O(r.value))),b=await b,w(),b);Y("datasets",n);const R={normal:l("ai-datasets.backend.create.segment.general"),hierarchical:l("ai-datasets.backend.create.segment.hierarchical")},C={vector:l("ai-datasets.backend.retrieval.vector"),fullText:l("ai-datasets.backend.retrieval.fullText"),hybrid:l("ai-datasets.backend.retrieval.hybrid")};return E(z,t=>{t?s.value=!0:s.value=!1}),(t,d)=>{const h=G,y=L,P=Z,j=H,M=J,B=Q;return e(n)!==void 0?(o(),c("div",X,[a("div",{class:g(["bg-muted flex h-full w-50 flex-none flex-col rounded-tr-xl rounded-br-xl p-4",{"w-18!":e(s)}])},[a("div",ee,[a("div",{class:g(["flex items-center justify-between gap-2",{"flex-col!":e(s)}])},[m(h,{variant:"soft",color:"neutral",size:"lg","leading-icon":"i-lucide-arrow-left",onClick:d[0]||(d[0]=S=>e($).replace(("useRoutePath"in t?t.useRoutePath:e(f))("ai-datasets:list")))}),a("div",te,[m(y,{name:"i-lucide-folder",class:"text-primary size-5"})])],2),e(s)?u("",!0):(o(),x(P,{key:0,text:e(n)?.name,"delay-duration":0},{default:k(()=>[a("div",se,i(e(n)?.name),1)]),_:1},8,["text"])),e(s)?u("",!0):(o(),c("div",ae,i(e(n)?.description),1)),a("div",ie,[e(s)?u("",!0):(o(),c("div",oe,[a("span",null,i(e(l)("ai-datasets.backend.create.stepThree.segmentMode"))+"：",1),p(" "+i(R[e(n)?.indexingConfig?.documentMode||"normal"]),1)])),e(s)?u("",!0):(o(),c("div",ne,[a("span",null,i(e(l)("ai-datasets.backend.common.retrievalMode"))+"：",1),p(" "+i(C[e(n)?.retrievalConfig?.retrievalMode||"vector"]),1)])),e(s)?u("",!0):(o(),c("div",le,[a("span",null,i(e(l)("ai-datasets.backend.dataset.table.storageSize"))+"：",1),p(" "+i(("formatFileSize"in t?t.formatFileSize:e(K))(e(n)?.storageSize*1)),1)])),e(s)?u("",!0):(o(),c("div",re,[a("span",null,i(t.$t("ai-datasets.backend.menu.relatedApplications"))+"：",1),p(" "+i(e(n)?.relatedAgentCount||0),1)]))])]),m(j,{class:"my-3 flex"}),a("div",de,[m(M,{orientation:"vertical",collapsed:e(s),items:[e(_)(["ai-datasets-documents:list"])?{label:t.$t("ai-datasets.backend.menu.documents"),icon:"i-lucide-files",to:("useRoutePath"in t?t.useRoutePath:e(f))("ai-datasets-documents:list",{id:e(r)}),active:e(v).path.includes(`/console/datasets/${e(r)}/segments`)||e(v).path.includes(`/console/datasets/${e(r)}/documents`)}:null,e(_)(["ai-datasets:retrieval-test"])?{label:t.$t("ai-datasets.backend.menu.retrieval"),icon:"i-lucide-radar",to:("useRoutePath"in t?t.useRoutePath:e(f))("ai-datasets:retrieval-test",{id:e(r)})}:null,e(_)(["ai-datasets-team-members:list"])?{label:t.$t("ai-datasets.backend.menu.members"),icon:"i-lucide-users",to:("useRoutePath"in t?t.useRoutePath:e(f))("ai-datasets-team-members:list",{id:e(r)})}:null,e(_)(["ai-datasets:update"])?{label:t.$t("ai-datasets.backend.menu.settings"),icon:"i-lucide-settings-2",to:("useRoutePath"in t?t.useRoutePath:e(f))("ai-datasets:update",{id:e(r)})}:null].filter(Boolean),class:"data-[orientation=vertical]:w-full",ui:{list:"space-y-1",link:e(s)?"p-2.5":"p-2 pl-3",linkLeadingIcon:e(s)?"size-5":"size-4"}},null,8,["collapsed","items","ui"]),a("div",{class:g(["mt-auto flex items-center justify-center",{"justify-between!":!e(s)}])},[m(h,{"data-sidebar":"trigger",variant:"ghost",color:"neutral",size:"xs",ui:{base:"py-2"},onClick:d[1]||(d[1]=S=>s.value=!e(s))},{default:k(()=>[e(s)?(o(),x(y,{key:1,name:"i-lucide-panel-left",class:"size-5"})):(o(),x(y,{key:0,name:"i-lucide-panel-right",class:"size-5"})),d[2]||(d[2]=a("span",{class:"sr-only"},"侧边栏切换",-1))]),_:1})],2)])],2),m(B)])):(o(),c("div",ce,[a("div",me,[d[3]||(d[3]=a("h1",{class:"text-error mb-4 text-6xl font-extrabold"},"403",-1)),a("p",ue,i(t.$t("ai-datasets.backend.permission.title")),1),a("p",pe,i(t.$t("ai-datasets.backend.permission.description")),1),m(h,{to:"/",color:"primary",size:"lg",icon:"i-heroicons-arrow-left"},{default:k(()=>[p(i(t.$t("ai-datasets.backend.permission.back")),1)]),_:1})])]))}}});export{Ge as default};
