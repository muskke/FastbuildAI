const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./BWBTUd3K.js","./BruVSCWF.js","./IZm275qp.js","./DS-TE4M7.js","./BgHJjJs-.js","./CXUt0j5Y.js","./-Eb02sIQ.js","./Dk6FGhu1.js","./BPKB8n-W.js","./DuSMYVIA.js","./MN31c9CG.js","./CCcv9mzY.js","./BFAo_s2U.js","./Cb04SOqd.js","./VGKgjfSv.js","./CQjnxEJb.js"])))=>i.map(i=>d[i]);
import{d as S,a$ as A,b as C,ap as B,ao as D,aJ as E,c as k,q as t,v as i,p as e,l as o,k as l,b0 as F,o as v,R as w,_ as L,x as f,j as P,U as y}from"#entry";import{_ as T}from"./ql0_WxJN.js";import $ from"./BruVSCWF.js";import{_ as j}from"./DS-TE4M7.js";import{_ as M}from"./DiYXikHi.js";import"./BdImEx5p.js";import"./oFTPHjuc.js";import"./BcsO9TDZ.js";import"./DlAUqK2U.js";import"./BgHJjJs-.js";const R={class:"mx-auto md:w-[600px] lg:w-[750px] xl:w-[850px]"},q={class:"mt-8 mb-6 text-lg font-medium"},O={class:"bg-accent mb-6 flex items-center rounded-xl p-6"},J={class:"ml-4"},W={class:"text-foreground text-md font-semibold"},G={class:"text-muted-foreground mt-1 text-sm"},H={class:"space-y-8"},K={class:"flex items-center gap-2"},Q={class:"flex-none"},X={class:"flex items-center gap-2"},Y={class:"flex items-center gap-2"},Z={class:"flex items-center gap-2"},ee={class:"flex items-center gap-2"},oe={class:"flex items-center gap-2"},se={key:1},ne={class:"mt-8 mb-6 text-lg font-medium"},te={class:"space-y-8"},le={class:"flex items-center gap-2"},ae={class:"flex-none"},re={class:"flex items-center gap-2"},be=S({__name:"index",setup(ie){const h=w(()=>y(()=>import("./BWBTUd3K.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14]),import.meta.url)),z=w(()=>y(()=>import("./CQjnxEJb.js"),__vite__mapDeps([15,2,1,3,4,5,6,7,8,9,10,11,12,13,14]),import.meta.url)),{copy:g}=A(),{t:s}=C(),p=B(),n=D(),{lockFn:x,isLock:b}=E(async(I,a)=>{try{const m=await F({field:I,value:a});n.getUser(),p.success(m.message)}catch(m){console.error("修改失败:",m)}});async function V(){n.userInfo?.userNo&&(await g(n.userInfo.userNo),p.success(s("console-common.messages.copySuccess")))}async function U(){n.userInfo?.username&&(await g(n.userInfo.username),p.success(s("console-common.messages.copySuccess")))}function _(){p.info(s("user.frontend.profile.featureNotAvailable"))}return(I,a)=>{const m=T,u=$,c=L,d=j,N=M;return v(),k("div",R,[t("section",null,[t("h2",q,i(e(s)("user.frontend.profile.myAccount")),1),t("div",O,[t("div",null,[o(m,{modelValue:e(n).userInfo.avatar,"onUpdate:modelValue":a[0]||(a[0]=r=>e(n).userInfo.avatar=r),class:"size-16 overflow-hidden !rounded-full",text:e(s)("user.frontend.profile.uploadAvatar"),icon:"i-lucide-user",accept:".jpg,.png,.jpeg",maxCount:1,single:!0,onSuccess:a[1]||(a[1]=r=>e(x)("avatar",r.url))},null,8,["modelValue","text"])]),t("div",J,[t("div",W,i(e(n).userInfo?.nickname||e(s)("user.frontend.profile.notSet")),1),t("div",G,i(e(n).userInfo?.phone||e(n).userInfo?.email||"-"),1)])]),t("div",H,[o(d,{label:e(s)("user.frontend.profile.nickname"),required:"",name:"nickname"},{default:l(()=>[t("div",K,[o(u,{modelValue:e(n).userInfo.nickname,"onUpdate:modelValue":a[2]||(a[2]=r=>e(n).userInfo.nickname=r),variant:"soft",color:"neutral",size:"lg",disabled:"",ui:{root:"w-full"}},null,8,["modelValue"]),t("div",Q,[o(e(h),{loading:e(b),"current-value":e(n).userInfo?.nickname,class:"flex-none",size:"lg",onSuccess:a[3]||(a[3]=r=>e(x)("nickname",r))},{default:l(()=>[o(c,{variant:"soft"},{default:l(()=>[f(i(e(s)("console-common.edit")),1)]),_:1})]),_:1},8,["loading","current-value"])])])]),_:1},8,["label"]),o(d,{label:e(s)("user.frontend.profile.userNo"),name:"userNo"},{default:l(()=>[t("div",X,[o(u,{modelValue:e(n).userInfo.userNo,"onUpdate:modelValue":a[4]||(a[4]=r=>e(n).userInfo.userNo=r),variant:"soft",color:"neutral",size:"lg",disabled:"",ui:{root:"w-full"}},null,8,["modelValue"]),o(c,{size:"lg",class:"flex-none",variant:"soft",onClick:V},{default:l(()=>[f(i(e(s)("console-common.copy")),1)]),_:1})])]),_:1},8,["label"]),o(d,{label:e(s)("user.frontend.profile.username"),name:"username"},{default:l(()=>[t("div",Y,[o(u,{modelValue:e(n).userInfo.username,"onUpdate:modelValue":a[5]||(a[5]=r=>e(n).userInfo.username=r),variant:"soft",color:"neutral",size:"lg",disabled:"",ui:{root:"w-full"}},null,8,["modelValue"]),o(c,{size:"lg",class:"flex-none",variant:"soft",onClick:U},{default:l(()=>[f(i(e(s)("console-common.copy")),1)]),_:1})])]),_:1},8,["label"]),o(d,{label:e(s)("user.frontend.profile.email"),name:"email"},{default:l(()=>[t("div",Z,[o(u,{"model-value":e(n).userInfo.email||"-",variant:"soft",color:"neutral",size:"lg",disabled:"",ui:{root:"w-full"}},null,8,["model-value"]),o(c,{size:"lg",class:"flex-none",variant:"soft",onClick:_},{default:l(()=>[f(i(e(s)("console-common.update")),1)]),_:1})])]),_:1},8,["label"]),o(d,{label:e(s)("user.frontend.profile.phone"),name:"phone"},{default:l(()=>[t("div",ee,[o(u,{"model-value":e(n).userInfo.phone||"-",variant:"soft",color:"neutral",size:"lg",disabled:"",ui:{root:"w-full"}},null,8,["model-value"]),o(c,{size:"lg",class:"flex-none",variant:"soft",onClick:_},{default:l(()=>[f(i(e(s)("console-common.update")),1)]),_:1})])]),_:1},8,["label"]),o(d,{label:e(s)("user.frontend.profile.registrationTime"),name:"createdAt"},{default:l(()=>[t("div",oe,[o(u,{variant:"soft",color:"neutral",size:"lg",disabled:"",ui:{root:"w-full"}},{leading:l(()=>[e(n).userInfo?.createdAt?(v(),P(N,{key:0,datetime:e(n).userInfo.createdAt,mode:"datetime"},null,8,["datetime"])):(v(),k("span",se,"-"))]),_:1})])]),_:1},8,["label"])])]),t("section",null,[t("h2",ne,i(e(s)("user.frontend.profile.accountSecurity")),1),t("div",te,[o(d,{label:e(s)("user.frontend.profile.loginPassword"),name:"password"},{default:l(()=>[t("div",le,[o(u,{"model-value":e(n).userInfo.password?e(s)("user.frontend.profile.passwordSet"):e(s)("user.frontend.profile.passwordSet"),variant:"soft",color:"neutral",size:"lg",disabled:"",ui:{root:"w-full"}},null,8,["model-value"]),t("div",ae,[o(e(z),{loading:e(b),class:"flex-none",size:"lg"},{default:l(()=>[o(c,{size:"lg",variant:"soft"},{default:l(()=>[f(i(e(s)("console-common.update")),1)]),_:1})]),_:1},8,["loading"])])])]),_:1},8,["label"]),o(d,{label:e(s)("user.frontend.profile.deactivateAccount"),name:"deactivate"},{default:l(()=>[t("div",re,[o(u,{"model-value":e(s)("user.frontend.profile.deactivateWarning"),variant:"soft",color:"neutral",size:"lg",disabled:"",ui:{root:"w-full"}},null,8,["model-value"]),o(c,{size:"lg",class:"flex-none",variant:"soft",color:"error",onClick:_},{default:l(()=>[f(i(e(s)("user.frontend.profile.deactivate")),1)]),_:1})])]),_:1},8,["label"])])])])}}});export{be as default};
