import{_ as V}from"./DiYXikHi.js";import{_ as N}from"./Cif_tCX1.js";import{_ as z}from"./jQG0lB_l.js";import{_ as A}from"./CRoF6I1E.js";import{_ as C}from"./CTfStZur.js";import U from"./BruVSCWF.js";import{_ as $}from"./BDx43-yQ.js";import{u as k,d as K,b as P,h as S,c as m,l,k as p,o as i,q as s,p as t,t as g,j as T,v as d,x as B}from"#entry";import{u as D}from"./JqIoTTmi.js";import"./DHFmmngs.js";import"./CR1AS2Ry.js";import"./Btvd554H.js";import"./BPKB8n-W.js";import"./B-DdbQ-X.js";import"./V9POJiZu.js";import"./MN31c9CG.js";import"./BstbYvQo.js";import"./DuSMYVIA.js";import"./DlAUqK2U.js";function I(u){return k("/recharge/lists",u)}const F={class:"flex h-full flex-col space-y-4 p-2 px-1"},j={class:"flex flex-col items-center"},q={key:0},Q={key:1},R={class:"border-default mt-auto flex items-center justify-between gap-3 border-t pt-4"},E={class:"text-muted flex items-center gap-2 text-sm"},G={class:"flex items-center gap-1.5"},L={class:"text-muted flex items-center gap-2 text-sm"},me=K({__name:"purchase-record",setup(u){const{t:n}=P(),_=V,{paging:a,getLists:c}=D({fetchFun:I}),y=[{accessorKey:"orderNo",header:n("order.frontend.recharge.list.orderNo"),cell:({row:r})=>r.original.orderNo},{accessorKey:"power",header:n("order.frontend.recharge.list.rechargeQuantity"),cell:({row:r})=>r.original.power},{accessorKey:"givePower",header:n("order.frontend.recharge.list.freeQuantity"),cell:({row:r})=>r.original.givePower},{accessorKey:"totalPower",header:n("order.frontend.recharge.list.quantityReceived"),cell:({row:r})=>r.original.totalPower},{accessorKey:"orderAmount",header:n("order.frontend.recharge.list.paidInAmount"),cell:({row:r})=>{const e=Number.parseFloat(r.getValue("orderAmount"));return new Intl.NumberFormat("zh-CN",{style:"currency",currency:"CNY"}).format(e)}},{accessorKey:"payTypeDesc",header:n("order.frontend.recharge.list.paymentMethod")},{accessorKey:"createdAt",header:n("order.frontend.recharge.list.createdAt"),cell:({row:r})=>{const e=r.getValue("createdAt");return S(_,{datetime:e,mode:"datetime"})}}];return(r,e)=>{const f=N,h=z,x=A,v=C,b=U,w=$;return i(),m("div",F,[l(w,{class:"max-h-full",ui:{body:"h-full overflow-hidden flex flex-col"}},{default:p(()=>[l(h,{ref:"table",sticky:"",data:t(a).items,columns:y,class:"max-h-full flex-1"},{"payTypeDesc-cell":p(({row:o})=>[s("div",j,[o.original.payType===1?(i(),m("div",q,d(t(n)("order.frontend.recharge.list.wechat")),1)):o.original.payType===2?(i(),m("div",Q,d(t(n)("order.frontend.recharge.list.alipay")),1)):g("",!0),o.original.refundStatus===1?(i(),T(f,{key:2,color:"warning"},{default:p(()=>[B(d(t(n)("order.frontend.recharge.list.refunded")),1)]),_:1})):g("",!0)])]),_:1},8,["data"]),s("div",R,[s("div",E,[s("span",null,"共 "+d(t(a).total)+" 条",1),l(x,{modelValue:t(a).pageSize,"onUpdate:modelValue":e[0]||(e[0]=o=>t(a).pageSize=o),size:"lg",items:[{label:"10 条/页",value:10},{label:"20 条/页",value:20},{label:"50 条/页",value:50},{label:"100 条/页",value:100}],class:"w-28",onChange:e[1]||(e[1]=o=>t(c)())},null,8,["modelValue"])]),s("div",G,[l(v,{page:t(a).page,"onUpdate:page":e[2]||(e[2]=o=>t(a).page=o),size:t(a).pageSize,"onUpdate:size":e[3]||(e[3]=o=>t(a).pageSize=o),"show-edges":"",total:t(a).total,onChange:e[4]||(e[4]=o=>t(c)())},null,8,["page","size","total"]),s("div",L,[e[7]||(e[7]=s("span",null,"前往",-1)),l(b,{modelValue:t(a).page,"onUpdate:modelValue":e[5]||(e[5]=o=>t(a).page=o),size:"lg",type:"number",class:"w-18",onChange:e[6]||(e[6]=o=>t(c)())},null,8,["modelValue"]),e[8]||(e[8]=s("span",null,"页",-1))])])])]),_:1})])}}});export{me as default};
