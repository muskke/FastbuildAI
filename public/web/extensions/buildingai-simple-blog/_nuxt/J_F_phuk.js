import{s as T,aS as D,f as i,r as I,aT as x,d as Z,o as y,aH as B,at as g,j as N,aU as b,aV as k,aW as A,am as C,aA as E}from"#entry";const M=["datetime","title"],Y={__name:"nuxt-time",props:{locale:{type:String,required:!1},datetime:{type:[String,Number,Date],required:!0},localeMatcher:{type:String,required:!1},weekday:{type:String,required:!1},era:{type:String,required:!1},year:{type:String,required:!1},month:{type:String,required:!1},day:{type:String,required:!1},hour:{type:String,required:!1},minute:{type:String,required:!1},second:{type:String,required:!1},timeZoneName:{type:String,required:!1},formatMatcher:{type:String,required:!1},hour12:{type:Boolean,required:!1,default:void 0},timeZone:{type:String,required:!1},calendar:{type:String,required:!1},dayPeriod:{type:String,required:!1},numberingSystem:{type:String,required:!1},dateStyle:{type:String,required:!1},timeStyle:{type:String,required:!1},hourCycle:{type:String,required:!1},relative:{type:Boolean,required:!1},title:{type:[Boolean,String],required:!1}},setup(p){const t=p,l=T()?.vnode.el,u=l?.getAttribute("datetime"),d=l?.getAttribute("data-locale"),c=D(),r=i(()=>{const n=t.datetime;return u&&c.isHydrating?new Date(u):t.datetime?new Date(n):new Date}),e=I(c.isHydrating&&window._nuxtTimeNow?new Date(window._nuxtTimeNow):new Date);if(t.relative){const a=setInterval(()=>{e.value=new Date},1e3);x(()=>clearInterval(a))}const o=i(()=>{const{locale:n,relative:a,...f}=t;return a?new Intl.RelativeTimeFormat(d??n,f):new Intl.DateTimeFormat(d??n,f)}),s=i(()=>{if(!t.relative)return o.value.format(r.value);const n=(r.value.getTime()-e.value.getTime())/1e3,a=[{unit:"second",seconds:1,threshold:60},{unit:"minute",seconds:60,threshold:60},{unit:"hour",seconds:3600,threshold:24},{unit:"day",seconds:86400,threshold:30},{unit:"month",seconds:2592e3,threshold:12},{unit:"year",seconds:31536e3,threshold:1/0}],{unit:f,seconds:S}=a.find(({seconds:q,threshold:w})=>Math.abs(n/q)<w)||a[a.length-1],_=n/S;return o.value.format(Math.round(_),f)}),m=i(()=>r.value.toISOString()),h=i(()=>t.title===!0?m.value:typeof t.title=="string"?t.title:void 0),v={};return(n,a)=>(y(),Z("time",g(v,{datetime:m.value,title:h.value}),B(s.value),17,M))}},F=N({__name:"time-display",props:{datetime:{},mode:{default:"relative"},locale:{default:void 0},timeZone:{},showYear:{type:Boolean,default:!0},class:{}},setup(p){const t=p,{locale:l}=b(),u=k(A.USER_TIMEZONE,{default:()=>Intl.DateTimeFormat().resolvedOptions().timeZone}),d={relative:{numeric:"auto",style:"long"},datetime:(r,e)=>({year:r?"numeric":void 0,month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",timeZone:e}),date:(r,e)=>({year:r?"numeric":void 0,month:"short",day:"numeric",timeZone:e}),time:(r,e)=>({hour:"2-digit",minute:"2-digit",timeZone:e}),short:(r,e)=>({month:"numeric",day:"numeric",timeZone:e}),long:(r,e)=>({year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",weekday:"long",timeZone:e}),year:(r,e)=>({year:"numeric",timeZone:e})},c=i(()=>{const r=t.mode==="year"?"en":t.locale||l.value,e={datetime:t.datetime,locale:r},o=t.timeZone||u.value,s=d[t.mode],m=typeof s=="function"?s(t.showYear,o):{...s,timeZone:o};return{...e,...m}});return(r,e)=>{const o=Y;return y(),C(o,g(E(c),{class:t.class}),null,16,["class"])}}});export{F as _};
